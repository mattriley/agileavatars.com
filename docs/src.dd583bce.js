parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QVnC":[function(require,module,exports) {
var t=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e,n){var o=r&&r.prototype instanceof v?r:v,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=_(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=h(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function h(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}t.wrap=u;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={};function v(){}function d(){}function g(){}var m={};m[i]=function(){return this};var w=Object.getPrototypeOf,L=w&&w(w(G([])));L&&L!==e&&n.call(L,i)&&(m=L);var x=g.prototype=v.prototype=Object.create(m);function E(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function b(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=h(t[e],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function _(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,_(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:r,done:!0}}return d.prototype=x.constructor=g,g.constructor=d,g[c]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(r,e,n,o){var i=new b(u(r,e,n,o));return t.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(x),x[c]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:G(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}
},{}],"fOHV":[function(require,module,exports) {
function r(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},u=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),u.forEach(function(t){n(r,t,e[t])})}return r}function n(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function t(r,n){return i(r)||u(r,n)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(r,n){var t=[],e=!0,u=!1,i=void 0;try{for(var o,c=r[Symbol.iterator]();!(e=(o=c.next()).done)&&(t.push(o.value),!n||t.length!==n);e=!0);}catch(f){u=!0,i=f}finally{try{e||null==c.return||c.return()}finally{if(u)throw i}}return t}function i(r){if(Array.isArray(r))return r}module.exports=function(r,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.entries(n).reduce(function(n,e){var u=t(e,2),i=u[0],c=u[1];return o(n,i,r).reduce(function(r,n){return n(r)||r},c)},e)};var o=function(t,e,u){return[function(r){return a(r)?r.split(/[ ,;]/).map(function(r){return r.trim()}):r},function(t){return l(t)?function(e){return t.reduce(function(t,u){return r({},t,n({},u,e[u]))},{})}:t},function(i){var o={},a=r({},i(t),n({},e,o)),l=u[e],v=s(l)?l(a):c(l,a,o),y=f(v);return Object.assign(t,n({},e,y))}]},c=function r(e,u,i){var o=/^_/;return Object.entries(e).reduce(function(e,i){var c=t(i,2),f=c[0],a=c[1],l=s(a)?a(u):r(a,u,{});o.test(f)&&(l.private=!0);var v=f.replace(o,"");return Object.assign(e,n({},v,l))},i)},f=function r(e){return Object.entries(e).reduce(function(e,u){var i=t(u,2),o=i[0],c=i[1];if(c.private)return e;var f=s(c)?c:r(c);return Object.assign(e,n({},o,f))},{})},a=function(r){return"string"==typeof r},l=function(r){return Array.isArray(r)},s=function(r){return"function"==typeof r};
},{}],"MuPq":[function(require,module,exports) {
var a=600;module.exports={app:{name:"Agile Avatars",issues:"https://github.com/mattriley/agileavatars/issues",defaultPage:"avatars"},author:{name:"Matt Riley",profile:"https://www.linkedin.com/in/mattrileyau/"},gravatar:{domain:"https://secure.gravatar.com",size:a,fallbacks:["robohash","monsterid","wavatar","retro","identicon","mp"]},options:{modes:["active","passive"],shapes:["circle","square"],active:{min:0,max:100,step:1},passive:{min:0,max:100,step:1},size:{min:1,max:a,step:10},spacing:{min:0,max:10,step:1}},debounce:{adjustInstanceCounts:100,sortTagList:50},initialState:{app:{modal:null,nilRoleId:null},options:{keepSortedBy:"orderAdded",shape:"circle",active:1,passive:0,size:175,spacing:4,layout:[["image"],["name","role"]],xray:!1,outline:!0},gravatar:{fallback:"robohash",freetext:"",status:"ready",errorMessage:""},roles:[{name:"",colour:"#ffffff"},{name:"ba",colour:"#6688c3"},{name:"dev",colour:"#48a56a"},{name:"po",colour:"#ce4a4a"},{name:"qa",colour:"#eaaf41"},{name:"tl",colour:"black"},{name:"xd",colour:"#b25da6"}]}};
},{}],"N+Wq":[function(require,module,exports) {
module.exports=function(){return function(n,t){var u;return function(){u&&clearTimeout(u),u=setTimeout(function(){n(),u=null},t)}}};
},{}],"mAaG":[function(require,module,exports) {
module.exports=function(){return function(n){return n.files}};
},{}],"QGlH":[function(require,module,exports) {
function e(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(r){n(e,r,t[r])})}return e}function n(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}module.exports=function(){return function(r,t){return t.reduce(function(t,o){return e({},t,n({},o,r[o]))},{})}};
},{}],"KLSz":[function(require,module,exports) {
module.exports=function(n){var r=n.random;return function(){return{hex:"#"+("00000"+(r()*(1<<24)|0).toString(16)).slice(-6)}}};
},{}],"C7e+":[function(require,module,exports) {
function r(r){return e(r)||t(r)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function t(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function e(r){if(Array.isArray(r)){for(var n=0,t=new Array(r.length);n<r.length;n++)t[n]=r[n];return t}}function o(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}module.exports=function(){return function(n,t){var e=n.map(function(r){return o({},r,t)});return Object.assign.apply(Object,[{}].concat(r(e)))}};
},{}],"FRpO":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,s,f;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),f=s[t]),void 0===f)f=s[t]=n,++e._eventsCount;else if("function"==typeof f?f=s[t]=i?[n,f]:[f,n]:i?f.unshift(n):f.push(n),(o=u(e))>0&&f.length>o&&!f.warned){f.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=f.length,r(p)}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,n(this.listener,this.target,e))}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):c(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var p=f.length,v=c(f,p);for(r=0;r<p;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,v(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,v(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():l(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"tl6J":[function(require,module,exports) {
function n(n,o){return r(n)||e(n,o)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function e(n,t){var e=[],r=!0,o=!1,u=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(a){o=!0,u=a}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return e}function r(n){if(Array.isArray(n))return n}function o(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(t){u(n,t,e[t])})}return n}function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var i=require("events");module.exports=function(){return function(){var n=1,t={},e=new i,r={getState:function(){}},f=function(n){return t[n]||r},l=a(e),s=function(r,a){var f,l,s=n++,v=o({id:s},r),b=new i,g=c(v,[b,e]),h=(l=b,function(n,t){n.split(" ").forEach(function(n){l.on(n,t)}),t(v)});return t[s]=(u(f={state:v,getState:function(){return v},setState:g,onChange:h},"onChange",h),u(f,"initialise",g),f),a&&a(s),e.emit("insert",s),s};return{id:function(n){return{onChange:f(n).onChange}},scalar:function(){return f(s({}))},onInsert:function(n){return e.on("insert",n)},onChange:function(n,t,e){f(t).onChange(n,e)},onAnyChange:l,onBeforeRemove:function(n){return e.on("beforeRemove",n)},insert:s,remove:function(n){e.emit("beforeRemove",n),delete t[n]},setState:function(n,t){return f(n).setState(t)},getState:function(n){return f(n).getState()},getItems:function(){return Object.values(t).map(function(n){return(0,n.getState)()})},ids:function(){return Object.keys(t)}}}};var c=function(t,e){return function(r){Object.entries(r).forEach(function(r){var o=n(r,2),u=o[0],i=o[1];t[u]=i,e.forEach(function(n){return n.emit(u,t)})})}},a=function(t){return function(e){Object.entries(e).forEach(function(e){var r=n(e,2),o=r[0],u=r[1];return t.on(o,u)})}};
},{"events":"FRpO"}],"lFx9":[function(require,module,exports) {
module.exports=function(){return function(e){return e.charAt(0).toUpperCase()+e.slice(1)}};
},{}],"ykXL":[function(require,module,exports) {
var n="hide",t="show";module.exports=function(){return function(s){s.classList.contains(n)||s.classList.add(t);var r=function(){return s.classList.replace(n,t)},e=function(){return s.classList.replace(t,n)};return{show:r,hide:e,toggle:function(n){return n?r():e()}}}};
},{}],"z0w4":[function(require,module,exports) {
var e=require("./debounce"),r=require("./get-files"),i=require("./pick"),u=require("./random-colour"),o=require("./same-value"),t=require("./state-store"),s=require("./upper-first"),l=require("./visibility-toggle"),a={debounce:e,getFiles:r,pick:i,randomColour:u,sameValue:o,stateStore:t,upperFirst:s,visibilityToggle:l};module.exports=a;
},{"./debounce":"N+Wq","./get-files":"mAaG","./pick":"QGlH","./random-colour":"KLSz","./same-value":"C7e+","./state-store":"tl6J","./upper-first":"lFx9","./visibility-toggle":"ykXL"}],"3ucd":[function(require,module,exports) {
function n(n,r,t,e,a,o,c){try{var u=n[o](c),i=u.value}catch(s){return void t(s)}u.done?r(i):Promise.resolve(i).then(e,a)}function r(r){return function(){var t=this,e=arguments;return new Promise(function(a,o){var c=r.apply(t,e);function u(r){n(c,a,o,u,i,"next",r)}function i(r){n(c,a,o,u,i,"throw",r)}u(void 0)})}}module.exports=function(n){var t=n.gateways,e=n.constants,a=n.fetch;return function(){var n=r(regeneratorRuntime.mark(function n(r,o){var c,u,i,s,v,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.gravatar,u=c.domain,i=c.size,s=t.gravatar.hashEmail(r),v="".concat(u,"/avatar/").concat(s,"?r=g&s=").concat(i,"&d=").concat(o),n.next=5,a(v);case 5:return f=n.sent,n.abrupt("return",f.blob());case 7:case"end":return n.stop()}},n)}));return function(r,t){return n.apply(this,arguments)}}()};
},{}],"hHvM":[function(require,module,exports) {
function n(n,r,e,t,u,a,o){try{var i=n[a](o),c=i.value}catch(f){return void e(f)}i.done?r(c):Promise.resolve(c).then(t,u)}function r(r){return function(){var e=this,t=arguments;return new Promise(function(u,a){var o=r.apply(e,t);function i(r){n(o,u,a,i,c,"next",r)}function c(r){n(o,u,a,i,c,"throw",r)}i(void 0)})}}module.exports=function(n){var u=n.gateways;return function(){var n=r(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.gravatar.fetchProfile(r);case 2:return a=n.sent,n.abrupt("return",a?e(a):t(r));case 4:case"end":return n.stop()}},n)}));return function(r){return n.apply(this,arguments)}}()};var e=function(n){return n.name.givenName||n.displayName},t=function(n){return n.split("@")[0]};
},{}],"TMbv":[function(require,module,exports) {
function n(n,r,t,e,a,u,o){try{var c=n[u](o),i=c.value}catch(s){return void t(s)}c.done?r(i):Promise.resolve(i).then(e,a)}function r(r){return function(){var t=this,e=arguments;return new Promise(function(a,u){var o=r.apply(t,e);function c(r){n(o,a,u,c,i,"next",r)}function i(r){n(o,a,u,c,i,"throw",r)}c(void 0)})}}module.exports=function(n){var t=n.constants,e=n.gateways,a=n.fetch;return function(){var n=r(regeneratorRuntime.mark(function n(r){var u,o,c,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.gravatar.domain,o=e.gravatar.hashEmail(r),c="".concat(u,"/").concat(o,".json"),n.next=5,a(c);case 5:if((i=n.sent).ok){n.next=8;break}return n.abrupt("return",null);case 8:return n.next=10,i.json();case 10:return s=n.sent,n.abrupt("return",s.entry[0]);case 12:case"end":return n.stop()}},n)}));return function(r){return n.apply(this,arguments)}}()};
},{}],"Pqnw":[function(require,module,exports) {
var define;
var n;!function(t){"use strict";function r(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function e(n,t,e,o,u,c){return r((f=r(r(t,n),r(o,c)))<<(i=u)|f>>>32-i,e);var f,i}function o(n,t,r,o,u,c,f){return e(t&r|~t&o,n,t,u,c,f)}function u(n,t,r,o,u,c,f){return e(t&o|r&~o,n,t,u,c,f)}function c(n,t,r,o,u,c,f){return e(t^r^o,n,t,u,c,f)}function f(n,t,r,o,u,c,f){return e(r^(t|~o),n,t,u,c,f)}function i(n,t){var e,i,a,h,d;n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var l=1732584193,v=-271733879,g=-1732584194,m=271733878;for(e=0;e<n.length;e+=16)i=l,a=v,h=g,d=m,l=o(l,v,g,m,n[e],7,-680876936),m=o(m,l,v,g,n[e+1],12,-389564586),g=o(g,m,l,v,n[e+2],17,606105819),v=o(v,g,m,l,n[e+3],22,-1044525330),l=o(l,v,g,m,n[e+4],7,-176418897),m=o(m,l,v,g,n[e+5],12,1200080426),g=o(g,m,l,v,n[e+6],17,-1473231341),v=o(v,g,m,l,n[e+7],22,-45705983),l=o(l,v,g,m,n[e+8],7,1770035416),m=o(m,l,v,g,n[e+9],12,-1958414417),g=o(g,m,l,v,n[e+10],17,-42063),v=o(v,g,m,l,n[e+11],22,-1990404162),l=o(l,v,g,m,n[e+12],7,1804603682),m=o(m,l,v,g,n[e+13],12,-40341101),g=o(g,m,l,v,n[e+14],17,-1502002290),l=u(l,v=o(v,g,m,l,n[e+15],22,1236535329),g,m,n[e+1],5,-165796510),m=u(m,l,v,g,n[e+6],9,-1069501632),g=u(g,m,l,v,n[e+11],14,643717713),v=u(v,g,m,l,n[e],20,-373897302),l=u(l,v,g,m,n[e+5],5,-701558691),m=u(m,l,v,g,n[e+10],9,38016083),g=u(g,m,l,v,n[e+15],14,-660478335),v=u(v,g,m,l,n[e+4],20,-405537848),l=u(l,v,g,m,n[e+9],5,568446438),m=u(m,l,v,g,n[e+14],9,-1019803690),g=u(g,m,l,v,n[e+3],14,-187363961),v=u(v,g,m,l,n[e+8],20,1163531501),l=u(l,v,g,m,n[e+13],5,-1444681467),m=u(m,l,v,g,n[e+2],9,-51403784),g=u(g,m,l,v,n[e+7],14,1735328473),l=c(l,v=u(v,g,m,l,n[e+12],20,-1926607734),g,m,n[e+5],4,-378558),m=c(m,l,v,g,n[e+8],11,-2022574463),g=c(g,m,l,v,n[e+11],16,1839030562),v=c(v,g,m,l,n[e+14],23,-35309556),l=c(l,v,g,m,n[e+1],4,-1530992060),m=c(m,l,v,g,n[e+4],11,1272893353),g=c(g,m,l,v,n[e+7],16,-155497632),v=c(v,g,m,l,n[e+10],23,-1094730640),l=c(l,v,g,m,n[e+13],4,681279174),m=c(m,l,v,g,n[e],11,-358537222),g=c(g,m,l,v,n[e+3],16,-722521979),v=c(v,g,m,l,n[e+6],23,76029189),l=c(l,v,g,m,n[e+9],4,-640364487),m=c(m,l,v,g,n[e+12],11,-421815835),g=c(g,m,l,v,n[e+15],16,530742520),l=f(l,v=c(v,g,m,l,n[e+2],23,-995338651),g,m,n[e],6,-198630844),m=f(m,l,v,g,n[e+7],10,1126891415),g=f(g,m,l,v,n[e+14],15,-1416354905),v=f(v,g,m,l,n[e+5],21,-57434055),l=f(l,v,g,m,n[e+12],6,1700485571),m=f(m,l,v,g,n[e+3],10,-1894986606),g=f(g,m,l,v,n[e+10],15,-1051523),v=f(v,g,m,l,n[e+1],21,-2054922799),l=f(l,v,g,m,n[e+8],6,1873313359),m=f(m,l,v,g,n[e+15],10,-30611744),g=f(g,m,l,v,n[e+6],15,-1560198380),v=f(v,g,m,l,n[e+13],21,1309151649),l=f(l,v,g,m,n[e+4],6,-145523070),m=f(m,l,v,g,n[e+11],10,-1120210379),g=f(g,m,l,v,n[e+2],15,718787259),v=f(v,g,m,l,n[e+9],21,-343485551),l=r(l,i),v=r(v,a),g=r(g,h),m=r(m,d);return[l,v,g,m]}function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function h(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function d(n){var t,r,e="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),e+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return e}function l(n){return unescape(encodeURIComponent(n))}function v(n){return function(n){return a(i(h(n),8*n.length))}(l(n))}function g(n,t){return function(n,t){var r,e,o=h(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(h(t)),512+8*t.length),a(i(c.concat(e),640))}(l(n),l(t))}function m(n,t,r){return t?r?g(t,n):d(g(t,n)):r?v(n):d(v(n))}"function"==typeof n&&n.amd?n(function(){return m}):"object"==typeof module&&module.exports?module.exports=m:t.md5=m}(this);
},{}],"8NEg":[function(require,module,exports) {
var r=require("blueimp-md5");module.exports=function(){return function(e){return r(e.trim().toLowerCase())}};
},{"blueimp-md5":"Pqnw"}],"vmqy":[function(require,module,exports) {
function r(r,a){return e(r)||t(r,a)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function t(r,n){var t=[],e=!0,a=!1,u=void 0;try{for(var o,i=r[Symbol.iterator]();!(e=(o=i.next()).done)&&(t.push(o.value),!n||t.length!==n);e=!0);}catch(c){a=!0,u=c}finally{try{e||null==i.return||i.return()}finally{if(a)throw u}}return t}function e(r){if(Array.isArray(r))return r}function a(r,n,t,e,a,u,o){try{var i=r[u](o),c=i.value}catch(f){return void t(f)}i.done?n(c):Promise.resolve(c).then(e,a)}function u(r){return function(){var n=this,t=arguments;return new Promise(function(e,u){var o=r.apply(n,t);function i(r){a(o,e,u,i,c,"next",r)}function c(r){a(o,e,u,i,c,"throw",r)}i(void 0)})}}module.exports=function(n){var t=n.gateways;return function(){var n=u(regeneratorRuntime.mark(function n(e,a){var u,o,i,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.gravatar.fetchName(e),t.gravatar.fetchImage(e,a)]);case 2:return u=n.sent,o=r(u,2),i=o[0],c=o[1],n.abrupt("return",{name:i,imageBlob:c});case 7:case"end":return n.stop()}},n)}));return function(r,t){return n.apply(this,arguments)}}()};
},{}],"tt/R":[function(require,module,exports) {
var e=require("./_fetch-image"),a=require("./_fetch-name"),r=require("./_fetch-profile"),h=require("./_hash-email"),i=require("./fetch-name-and-image"),m={_fetchImage:e,_fetchName:a,_fetchProfile:r,_hashEmail:h,fetchNameAndImage:i};module.exports=m;
},{"./_fetch-image":"3ucd","./_fetch-name":"hHvM","./_fetch-profile":"TMbv","./_hash-email":"8NEg","./fetch-name-and-image":"vmqy"}],"uH4h":[function(require,module,exports) {
var r=require("./gravatar"),a={gravatar:r};module.exports=a;
},{"./gravatar":"tt/R"}],"i+5m":[function(require,module,exports) {
module.exports=function(a){var r=a.lib.stateStore;return{app:r().scalar(),options:r().scalar(),gravatar:r().scalar(),roles:r(),tags:r(),tagInstances:r()}};
},{}],"5PJX":[function(require,module,exports) {
module.exports=function(t){var e=t.stores;return function(t){return function(){var n={roleName:e.roles.getState(t).name};e.tagInstances.getItems().filter(function(e){return e.roleId===t}).forEach(function(t){return e.tagInstances.setState(t.id,n)})}}};
},{}],"PRB1":[function(require,module,exports) {
module.exports=function(e){var n=e.stores,r=e.services;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e.trim();var t=new RegExp("^".concat(e,"$"),"i"),o=n.roles.getItems().find(function(e){return t.test(e.name)});return o?o.id:r.roles.insertRole({name:e})}};
},{}],"u0hZ":[function(require,module,exports) {
function e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}module.exports=function(r){var t=r.lib,n=r.stores,o=r.services;return function(r){var a={name:r.name.trim().toUpperCase(),colour:r.colour||t.randomColour().hex};return n.roles.insert(e({},r,a),function(e){n.roles.getState(e).name?n.roles.id(e).onChange("name",o.roles.propagateRoleName(e)):n.app.setState({nilRoleId:e})})}};
},{}],"UNVv":[function(require,module,exports) {
module.exports=function(t){var e=t.stores;return function(){e.options.getState().keepSorted;var t=e.app.getState().nilRoleId,r=e.roles.getItems().filter(function(e){return e.id!==t}),o=e.roles.getState(t);return r.concat(o)}};
},{}],"VCGf":[function(require,module,exports) {
var e=require("./_propagate-role-name"),r=require("./find-or-insert-role-with-name"),o=require("./insert-role"),i=require("./sort-roles"),t={_propagateRoleName:e,findOrInsertRoleWithName:r,insertRole:o,sortRoles:i};module.exports=t;
},{"./_propagate-role-name":"5PJX","./find-or-insert-role-with-name":"PRB1","./insert-role":"u0hZ","./sort-roles":"UNVv"}],"5Z2q":[function(require,module,exports) {
var r={ready:"ready",working:"working",error:"error"};module.exports=function(t){var e=t.stores,a=function(r){return function(){return e.gravatar.getState().status===r}};return{isReady:a(r.ready),isWorking:a(r.working),isError:a(r.error),ready:function(){e.gravatar.setState({status:r.ready,freetext:"",errorMessage:""})},working:function(){e.gravatar.setState({status:r.working})},error:function(t){e.gravatar.setState({status:r.error,errorMessage:t})}}};
},{}],"XCg8":[function(require,module,exports) {
module.exports=function(t){var n=t.constants,o=t.stores,s=t.services;return function(){s.state.load(n.initialState),n.options.modes.forEach(function(t){o.options.onChange(t,s.tags.adjustInstanceCounts)})}};
},{}],"Epc2":[function(require,module,exports) {
function r(r,o){return e(r)||t(r,o)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function t(r,n){var t=[],e=!0,o=!1,i=void 0;try{for(var u,a=r[Symbol.iterator]();!(e=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);e=!0);}catch(c){o=!0,i=c}finally{try{e||null==a.return||a.return()}finally{if(o)throw i}}return t}function e(r){if(Array.isArray(r))return r}module.exports=function(n){var t=n.stores,e=n.services;return function(n){var o={roles:function(r){return r.forEach(e.roles.insertRole)}};Object.entries(n).forEach(function(n){var e=r(n,2),i=e[0],u=e[1];(o[i]||t[i].initialise)(u)})}};
},{}],"ozRN":[function(require,module,exports) {
var r=require("./gravatar"),a=require("./initialise"),i=require("./load"),e={gravatar:r,initialise:a,load:i};module.exports=e;
},{"./gravatar":"5Z2q","./initialise":"XCg8","./load":"Epc2"}],"Kckh":[function(require,module,exports) {
function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){t(e,n,r[n])})}return e}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}module.exports=function(n){var r=n.stores;return function(n){var o=n.tagId,a=n.mode,c=r.tags.getState(o),u=c.name,s=c.roleId,i={name:u,roleId:s,roleName:r.roles.getState(s).name};return r.tagInstances.insert(e({},n,i),function(e){r.tags.setState(o,t({instances:c.instances.concat(e)},a,c[a].concat(e)))})}};
},{}],"OcqQ":[function(require,module,exports) {
module.exports=function(){return function(t){return t.match(/^(\d+)?(.+)/)[2].split(".")[0].split("+").map(function(t){return t.trim()})}};
},{}],"y8Kc":[function(require,module,exports) {
function r(r,o){return e(r)||n(r,o)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(r,t){var n=[],e=!0,o=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(e=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);e=!0);}catch(l){o=!0,u=l}finally{try{e||null==i.return||i.return()}finally{if(o)throw u}}return n}function e(r){if(Array.isArray(r))return r}module.exports=function(){return function(t,n){return t.flatMap(function(t){return Object.entries(n).flatMap(function(n){var e=r(n,2),u=e[0],a=e[1];return o({tag:t,mode:u,count:a})})})}};var o=function(r){var t=r.tag,n=r.mode,e=r.count-t[n].length;return e?e>0?{insert:Array(e).fill({tagId:t.id,mode:n})}:{remove:t[n].slice(e)}:{}};
},{}],"EgHS":[function(require,module,exports) {
module.exports=function(t){var e=t.stores;return function(t){return function(){var n=e.tags.getState(t),r=n.roleId,a=n.instances,o={roleId:r,roleName:e.roles.getState(r).name};a.forEach(function(t){return e.tagInstances.setState(t,o)})}}};
},{}],"Er3q":[function(require,module,exports) {
module.exports=function(t){var n=t.stores;return function(t){return function(){var e=n.tags.getState(t),a=e.name,r=e.instances,s={name:a};r.forEach(function(t){return n.tagInstances.setState(t,s)})}}};
},{}],"zpbw":[function(require,module,exports) {
function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}module.exports=function(e){var n=e.stores;return function(e){var a=n.tagInstances.getState(e),r=a.tagId,s=a.mode,i=n.tags.getState(r),o=function(t){return t!==e};n.tags.setState(r,t({instances:i.instances.filter(o)},s,i[s].filter(o))),n.tagInstances.remove(e)}};
},{}],"A2h1":[function(require,module,exports) {
module.exports=function(t){var n=t.constants,r=t.stores;return function(t){return t.flatMap(function(t){return n.options.modes.flatMap(function(n){return t[n].map(function(t){return r.tagInstances.getState(t)})})})}};
},{}],"JcRy":[function(require,module,exports) {
module.exports=function(e){var t=e.stores;return function(){return t.tags.getItems().sort(function(e,t){return e.name.localeCompare(t.name)})}};
},{}],"4Gv8":[function(require,module,exports) {
module.exports=function(e){var t=e.stores;return function(){return t.tags.getItems().sort(function(e,r){var o=t.roles.getState(e.roleId).name,a=t.roles.getState(r.roleId).name,n=o.localeCompare(a),l=e.name.localeCompare(r.name);return n||l})}};
},{}],"6umx":[function(require,module,exports) {
function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){t(e,n,r[n])})}return e}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}module.exports=function(t){var n=t.constants,r=t.lib,o=t.stores,c=t.services;return r.debounce(function(){var t=c.tags,s=t.planInstanceCountAdjustment,a=t.insertInstance,u=t.removeInstance;s(o.tags.getItems(),r.pick(o.options.getState(),n.options.modes)).forEach(function(t){(t=e({insert:[],remove:[]},t)).insert.forEach(a),t.remove.forEach(u)})},n.debounce.adjustInstanceCounts)};
},{}],"XnH9":[function(require,module,exports) {
function r(r,e,t,n,a,o,c){try{var u=r[o](c),i=u.value}catch(s){return void t(s)}u.done?e(i):Promise.resolve(i).then(n,a)}function e(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var c=e.apply(t,n);function u(e){r(c,a,o,u,i,"next",e)}function i(e){r(c,a,o,u,i,"throw",e)}u(void 0)})}}module.exports=function(r){var t=r.gateways,n=r.stores,a=r.services,o=r.URL;return e(regeneratorRuntime.mark(function r(){var c,u,i,s,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.gravatar.getState(),u=c.freetext,i=c.fallback,s=u.split(/[\r\n,;]+/g).map(function(r){return r.trim()}).filter(function(r){return r}),a.state.gravatar.working(),f=s.map(function(){var r=e(regeneratorRuntime.mark(function r(e){var n,c,u,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.gravatar.fetchNameAndImage(e,i);case 2:n=r.sent,c=n.name,u=n.imageBlob,s=o.createObjectURL(u),a.tags.insertTag({name:c,image:s});case 7:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()),r.prev=4,r.next=7,Promise.all(f);case 7:return a.state.gravatar.ready(),r.abrupt("return",!0);case 11:return r.prev=11,r.t0=r.catch(4),console.error(r.t0),"An error occurred. Please check your connection and try again.",a.state.gravatar.error("An error occurred. Please check your connection and try again."),r.abrupt("return",!1);case 17:case"end":return r.stop()}},r,null,[[4,11]])}))};
},{}],"yvGZ":[function(require,module,exports) {
function r(r,a){return e(r)||n(r,a)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(r,t){var n=[],e=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(e=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);e=!0);}catch(l){a=!0,i=l}finally{try{e||null==u.return||u.return()}finally{if(a)throw i}}return n}function e(r){if(Array.isArray(r))return r}module.exports=function(t){var n=t.services;return function(){return function(t){if(t.type.startsWith("image/")){var e=r(n.tags.parseFilename(t.name),2),a=e[0],i=e[1],o=new window.FileReader;o.onload=function(r,t){return function(e){var a=e.target.result,i=n.roles.findOrInsertRoleWithName(t),o={name:r,roleId:i,image:a};n.tags.insertTag(o)}}(a,i),o.readAsDataURL(t)}}}};
},{}],"red/":[function(require,module,exports) {
function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){t(e,n,r[n])})}return e}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}module.exports=function(t){var n=t.lib,r=t.constants,o=t.stores,a=t.services;return function(t){var s=e({name:n.upperFirst((t.name||"").trim()),roleId:t.roleId||o.app.getState().nilRoleId,instances:[]},n.sameValue(r.options.modes,[]));return o.tags.insert(e({},t,s),function(e){o.tags.id(e).onChange("name",a.tags.propagateTagName(e)),o.tags.id(e).onChange("roleId",a.tags.propagateRoleId(e)),a.tags.adjustInstanceCounts()})}};
},{}],"5olC":[function(require,module,exports) {
module.exports=function(e){var t=e.stores,r=e.services;return function(){var e=r.tags,s=e.sortTagsByRoleThenName,o=e.sortTagsByName,a=e.sortInstancesByTagThenMode,n=t.options.getState().keepSortedBy;return a({orderAdded:t.tags.getItems,roleThenName:s,name:o}[n]())}};
},{}],"HeN/":[function(require,module,exports) {
var e=require("./_insert-instance"),r=require("./_parse-filename"),a=require("./_plan-instance-count-adjustment"),t=require("./_propagate-role-id"),n=require("./_propagate-tag-name"),s=require("./_remove-instance"),i=require("./_sort-instances-by-tag-then-mode"),o=require("./_sort-tags-by-name"),u=require("./_sort-tags-by-role-then-name"),_=require("./adjust-instance-counts"),g=require("./insert-gravatar"),m=require("./insert-image"),c=require("./insert-tag"),q=require("./sort-instances"),p={_insertInstance:e,_parseFilename:r,_planInstanceCountAdjustment:a,_propagateRoleId:t,_propagateTagName:n,_removeInstance:s,_sortInstancesByTagThenMode:i,_sortTagsByName:o,_sortTagsByRoleThenName:u,adjustInstanceCounts:_,insertGravatar:g,insertImage:m,insertTag:c,sortInstances:q};module.exports=p;
},{"./_insert-instance":"Kckh","./_parse-filename":"OcqQ","./_plan-instance-count-adjustment":"y8Kc","./_propagate-role-id":"EgHS","./_propagate-tag-name":"Er3q","./_remove-instance":"zpbw","./_sort-instances-by-tag-then-mode":"A2h1","./_sort-tags-by-name":"JcRy","./_sort-tags-by-role-then-name":"4Gv8","./adjust-instance-counts":"6umx","./insert-gravatar":"XnH9","./insert-image":"yvGZ","./insert-tag":"red/","./sort-instances":"5olC"}],"XXZN":[function(require,module,exports) {
var e=require("./roles"),r=require("./state"),s=require("./tags"),t={roles:e,state:r,tags:s};module.exports=t;
},{"./roles":"VCGf","./state":"ozRN","./tags":"HeN/"}],"xSCM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,r){let a=this;for(;a.length<e;)a=r+a;return a};const e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function r(e,r=1){return(r>0?e.toFixed(r).replace(/0+$/,"").replace(/\.$/,""):e.toString())||"0"}class a{constructor(e,r,t,f){const i=this;if(void 0===e);else if(Array.isArray(e))this.rgba=e;else if(void 0===t){const r=e&&""+e;r&&function(e){if(e.startsWith("hsl")){let[r,a,t,f]=e.match(/([\-\d\.e]+)/g).map(Number);void 0===f&&(f=1),r/=360,a/=100,t/=100,i.hsla=[r,a,t,f]}else if(e.startsWith("rgb")){let[r,a,t,f]=e.match(/([\-\d\.e]+)/g).map(Number);void 0===f&&(f=1),i.rgba=[r,a,t,f]}else e.startsWith("#")?i.rgba=a.hexToRgb(e):i.rgba=a.nameToRgb(e)||a.hexToRgb(e)}(r.toLowerCase())}else this.rgba=[e,r,t,void 0===f?1:f]}get rgba(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=a.hslToRgb(this._hsla)}set rgba(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}printRGB(e){const a=(e?this.rgba:this.rgba.slice(0,3)).map((e,a)=>r(e,3===a?3:0));return e?`rgba(${a})`:`rgb(${a})`}get rgbString(){return this.printRGB()}get rgbaString(){return this.printRGB(!0)}get hsla(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=a.rgbToHsl(this._rgba)}set hsla(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}printHSL(e){const a=[360,100,100,1],t=["","%","%",""],f=(e?this.hsla:this.hsla.slice(0,3)).map((e,f)=>r(e*a[f],3===f?3:1)+t[f]);return e?`hsla(${f})`:`hsl(${f})`}get hslString(){return this.printHSL()}get hslaString(){return this.printHSL(!0)}get hex(){return"#"+this.rgba.map((e,r)=>r<3?e.toString(16):Math.round(255*e).toString(16)).map(e=>e.padStart(2,"0")).join("")}set hex(e){this.rgba=a.hexToRgb(e)}printHex(e){const r=this.hex;return e?r:r.substring(0,7)}static hexToRgb(e){const r=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);const a=r.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(e=>parseInt(e,16));return a[3]=a[3]/255,a}static nameToRgb(r){const t=e[r];if(t)return a.hexToRgb(t)}static rgbToHsl([e,r,a,t]){e/=255,r/=255,a/=255;const f=Math.max(e,r,a),i=Math.min(e,r,a);let l,s,n=(f+i)/2;if(f===i)l=s=0;else{const t=f-i;switch(s=n>.5?t/(2-f-i):t/(f+i),f){case e:l=(r-a)/t+(r<a?6:0);break;case r:l=(a-e)/t+2;break;case a:l=(e-r)/t+4}l/=6}return[l,s,n,t]}static hslToRgb([e,r,a,t]){let f,i,l;if(0===r)f=i=l=a;else{const t=function(e,r,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(r-e)*a:a<.5?r:a<2/3?e+(r-e)*(2/3-a)*6:e},s=a<.5?a*(1+r):a+r-a*r,n=2*a-s;f=t(n,s,e+1/3),i=t(n,s,e),l=t(n,s,e-1/3)}const s=[255*f,255*i,255*l].map(Math.round);return s[3]=t,s}}var t=a;exports.default=t;
},{}],"62Pc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=window;function e(e){const n=Element.prototype;n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest||(n.closest=function(t){var e=this;do{if(e.matches(t))return e;e="svg"===e.tagName?e.parentNode:e.parentElement}while(e);return null});const o=(e=e||{}).container||document.documentElement,a=e.selector,c=e.callback||console.log,s=e.callbackDragStart,l=e.callbackDragEnd,r=e.callbackClick,u=e.propagateEvents,i=!1!==e.roundCoords,f=!1!==e.dragOutside,d=e.handleOffset||!1!==e.handleOffset;let g,h=null;switch(d){case"center":h=!0;break;case"topleft":case"top-left":h=!1}function p(t,e,n,a){let c=t.clientX,s=t.clientY;function l(t,e,n){return Math.max(e,Math.min(t,n))}if(e){const t=e.getBoundingClientRect();if(c-=t.left,s-=t.top,n&&(c-=n[0],s-=n[1]),a&&(c=l(c,0,t.width),s=l(s,0,t.height)),e!==o){(null!==h?h:"circle"===e.nodeName||"ellipse"===e.nodeName)&&(c-=t.width/2,s-=t.height/2)}}return i?[Math.round(c),Math.round(s)]:[c,s]}function m(t){t.preventDefault(),u||t.stopPropagation()}function v(t){let e;if(e=a?a instanceof Element?a.contains(t.target)?a:null:t.target.closest(a):{}){m(t);const n=a&&d?p(t,e):[0,0],c=p(t,o,n);g={target:e,mouseOffset:n,startPos:c,actuallyDragged:!1},s&&s(e,c)}}function b(t){if(!g)return;m(t);const e=g.startPos,n=p(t,o,g.mouseOffset,!f);g.actuallyDragged=g.actuallyDragged||e[0]!==n[0]||e[1]!==n[1],c(g.target,n,e)}function w(t,e){if(g){if(l||r){const n=!g.actuallyDragged,a=n?g.startPos:p(t,o,g.mouseOffset,!f);r&&n&&!e&&r(g.target,a),l&&l(g.target,a,g.startPos,e||n&&r)}g=null}}function D(t,e){w(M(t),e)}function P(t,e,n){t.addEventListener(e,n)}function k(t){return void 0!==t.buttons?1===t.buttons:1===t.which}function E(t,e){1===t.touches.length?e(M(t)):w(t,!0)}function M(t){let e=t.targetTouches[0];return e||(e=t.changedTouches[0]),e.preventDefault=t.preventDefault.bind(t),e.stopPropagation=t.stopPropagation.bind(t),e}P(o,"mousedown",function(t){k(t)?v(t):w(t,!0)}),P(o,"touchstart",t=>E(t,v)),P(t,"mousemove",function(t){g&&(k(t)?b(t):w(t))}),P(t,"touchmove",t=>E(t,b)),P(o,"mouseup",function(t){g&&!k(t)&&w(t)}),P(o,"touchend",t=>D(t)),P(o,"touchcancel",t=>D(t,!0))}var n=e;exports.default=n;
},{}],"wQZv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("@sphinxxxx/color-conversion")),t=o(require("drag-tracker"));function o(e){return e&&e.__esModule?e:{default:e}}const i="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",r=360,s="keydown",p="mousedown",n="focusin";function a(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function l(e,t){return(t||document).querySelector(e)}function c(e,t,o){e.addEventListener(t,o,!1)}function d(e){e.preventDefault(),e.stopPropagation()}function u(e,t,o,i){c(e,s,function(e){t.indexOf(e.key)>=0&&(i&&d(e),o(e))})}const h=document.createElement("style");h.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.layout_default.picker_wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;width:6rem}.layout_default .picker_editor input{width:calc(100% + 2px);height:calc(100% + 2px)}.layout_default .picker_sample{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_done{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.picker_wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;background:#f2f2f2;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{margin:-1px}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;-webkit-box-shadow:0 0 3px 1px #67b9ff;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_sl{position:relative;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:monospace;padding:.1em .2em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_done button{-webkit-box-sizing:border-box;box-sizing:border-box;padding:.2em .5em;cursor:pointer}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;-webkit-box-shadow:0 0 10px 1px rgba(0,0,0,0.4);box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;-webkit-box-shadow:none;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(h);class _{constructor(e){this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex"},this._openProxy=(e=>this.openHandler(e)),this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}setOptions(e){if(!e)return;const t=this.settings;if(e instanceof HTMLElement)t.parent=e;else{t.parent&&e.parent&&t.parent!==e.parent&&(t.parent.removeEventListener("click",this._openProxy,!1),this._popupInited=!1),function(e,t,o){for(const i in e)o&&o.indexOf(i)>=0||(t[i]=e[i])}(e,t),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);const o=e.color||e.colour;o&&this._setColor(o)}const o=t.parent;o&&t.popup&&!this._popupInited?(c(o,"click",this._openProxy),u(o,[" ","Spacebar","Enter"],this._openProxy),this._popupInited=!0):e.parent&&!t.popup&&this.show()}openHandler(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";const t=e&&e.type===s?this._domEdit:this.domElement;setTimeout(()=>t.focus(),100),this.onOpen&&this.onOpen(this.colour)}}closeHandler(e){const t=e&&e.type;let o=!1;if(e)if(t===p||t===n){const t=(this.__containedEvent||0)+100;e.timeStamp>t&&(o=!0)}else d(e),o=!0;else o=!0;o&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==p&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}movePopup(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}setColor(e,t){this._setColor(e,{silent:t})}_setColor(t,o){if("string"==typeof t&&(t=t.trim()),!t)return;let i;o=o||{};try{i=new e.default(t)}catch(r){if(o.failSilently)return;throw r}if(!this.settings.alpha){const e=i.hsla;e[3]=1,i.hsla=e}this.colour=this.color=i,this._setHSLA(null,null,null,null,o)}setColour(e,t){this.setColor(e,t)}show(){if(!this.settings.parent)return!1;if(this.domElement){const e=this._toggleDOM(!0);return this._setPosition(),e}const e=a(this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div></div>');return this.domElement=e,this._domH=l(".picker_hue",e),this._domSL=l(".picker_sl",e),this._domA=l(".picker_alpha",e),this._domEdit=l(".picker_editor input",e),this._domSample=l(".picker_sample",e),this._domOkay=l(".picker_done button",e),e.classList.add("layout_"+this.settings.layout),this.settings.alpha||e.classList.add("no_alpha"),this.settings.editor||e.classList.add("no_editor"),this._ifPopup(()=>e.classList.add("popup")),this._setPosition(),this.colour?this._updateUI():this._setColor("#0cf"),this._bindEvents(),!0}hide(){return this._toggleDOM(!1)}_bindEvents(){const e=this,o=this.domElement;function i(e,t){function o(o,i){const r=i[0]/e.clientWidth,s=i[1]/e.clientHeight;t(r,s)}return{container:e,dragOutside:!1,callback:o,callbackDragStart:o,propagateEvents:!0}}c(o,"click",e=>e.preventDefault()),(0,t.default)(i(this._domH,(t,o)=>e._setHSLA(t))),(0,t.default)(i(this._domSL,(t,o)=>e._setHSLA(null,t,1-o))),this.settings.alpha&&(0,t.default)(i(this._domA,(t,o)=>e._setHSLA(null,null,null,1-o)));const r=this._domEdit;c(r,"input",function(t){e._setColor(this.value,{fromEditor:!0,failSilently:!0})}),c(r,"focus",function(e){const t=this;t.selectionStart===t.selectionEnd&&t.select()}),this._ifPopup(()=>{const e=e=>this.closeHandler(e);c(window,p,e),c(window,n,e),u(o,["Esc","Escape"],e);const t=e=>{this.__containedEvent=e.timeStamp};c(o,p,t),c(o,n,t)});const s=e=>{this._ifPopup(()=>this.closeHandler(e)),this.onDone&&this.onDone(this.colour)};c(this._domOkay,"click",s),u(o,["Enter"],s)}_setPosition(){const e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup(o=>{"static"===getComputedStyle(e).position&&(e.style.position="relative");const i=!0===o?"popup_right":"popup_"+o;["popup_top","popup_bottom","popup_left","popup_right"].forEach(e=>{e===i?t.classList.add(e):t.classList.remove(e)}),t.classList.add(i)})}_setHSLA(e,t,o,i,r){r=r||{};const s=this.colour,p=s.hsla;[e,t,o,i].forEach((e,t)=>{(e||0===e)&&(p[t]=e)}),s.hsla=p,this._updateUI(r),this.onChange&&!r.silent&&this.onChange(s)}_updateUI(e){if(!this.domElement)return;e=e||{};const t=this.colour,o=t.hsla,s=`hsl(${o[0]*r}, 100%, 50%)`,p=t.hslString,n=t.hslaString,a=this._domH,c=this._domSL,d=this._domA,u=l(".picker_selector",a),h=l(".picker_selector",c),_=l(".picker_selector",d);function f(e,t,o){t.style.left=100*o+"%"}function b(e,t,o){t.style.top=100*o+"%"}f(0,u,o[0]),this._domSL.style.backgroundColor=this._domH.style.color=s,f(0,h,o[1]),b(0,h,1-o[2]),c.style.color=p,b(0,_,1-o[3]);const g=p,k=g.replace("hsl","hsla").replace(")",", 0)"),m=`linear-gradient(${[g,k]})`;if(this._domA.style.backgroundImage=m+", "+i,!e.fromEditor){const e=this.settings.editorFormat,o=this.settings.alpha;let i;switch(e){case"rgb":i=t.printRGB(o);break;case"hsl":i=t.printHSL(o);break;default:i=t.printHex(o)}this._domEdit.value=i}this._domSample.style.color=n}_ifPopup(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}_toggleDOM(e){const t=this.domElement;if(!t)return!1;const o=e?"":"none",i=t.style.display!==o;return i&&(t.style.display=o),i}static get StyleElement(){return h}}var f=_;exports.default=f;
},{"@sphinxxxx/color-conversion":"xSCM","drag-tracker":"62Pc"}],"2ba6":[function(require,module,exports) {
var e=require("vanilla-picker").default||require("vanilla-picker");module.exports=function(){return function(){return e.StyleElement.cloneNode(!0)}};
},{"vanilla-picker":"wQZv"}],"70rD":[function(require,module,exports) {

},{}],"gfM7":[function(require,module,exports) {
var o=require("fs"),e='.gravatar .label,.gravatar label{display:block;margin-bottom:1em}.gravatar .freetext{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;height:200px}.gravatar .fallback{border:3px solid #fff;padding:1px;margin:2px;cursor:pointer;transition:all .2s ease-in-out}.gravatar .fallback:hover{transform:scale(1.1)}.gravatar .fallback.selected{border-color:#6495ed}.gravatar .actions{text-align:center}.gravatar .import{padding:.5em 3em;font-size:1em;transition:all .2s ease-in-out;background-color:#6495ed;color:#fff;border:none;border-radius:5px;font-weight:700}.modal .import:hover{cursor:pointer}.gravatar .import:hover{transform:scale(1.1)}.gravatar .actions button:disabled,.gravatar .freetext:disabled{background-color:#dcdcdc}.gravatar .error-message{color:red}.gravatar .hide{display:none}.gravatar .show{text-align:center;display:inline-block}@media print{header{display:none}}header{text-align:center;color:#fff}header>*{padding:.5em}header a{padding:0 1em;text-decoration:none;color:#fff;cursor:pointer}header a:hover{text-decoration:underline}header h1{margin:0;background-color:#000;font-size:1em}header a.author{font-size:smaller;font-style:italic;font-weight:400}header nav{background-color:#a9a9a9;font-size:small}:host{-webkit-print-color-adjust:exact!important;-moz-user-select:none;font-family:arial,helvetica,sans-serif;font-size:16px;color:#696969}.dropzone{height:100vh}a{cursor:pointer;text-decoration:underline}.image-upload-options{font-weight:700}.image-upload-options>*{margin-left:1em;margin-right:1em}.image-upload-options a{color:#6495ed}.control-panel{text-align:center}.control-panel>*{margin-top:15px;margin-bottom:15px}div.colourPicker{margin-left:5px;margin-right:15px}@media print{.control-panel,.role:empty,.tag-xray-image{display:none!important}.tag-image{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none!important}}.circle{border-radius:50%}.square{border-radius:0!important}.label{display:inline-block}.label:first-letter{text-transform:uppercase}.colour-picker{display:inline-block;padding-top:3px;padding-bottom:2px;font-size:14px;width:10px;cursor:pointer;margin-left:5px;margin-right:2px}.colour-picker:before{color:grey;content:"\\25bc"}.role-customiser{border:1px solid #d3d3d3;background-color:#f5f5f5;padding:5px;display:inline-block;white-space:nowrap;margin:5px}em{font-style:normal;background-color:#ff0}.dismiss{float:right;width:1.5rem;line-height:1.5rem;text-align:center;cursor:pointer;border-radius:.25rem;background-color:#d3d3d3;color:#000;font-size:14px;transition:all .2s ease-in-out}.dismiss:after{content:"\\00d7"}.dismiss:hover{background-color:#a9a9a9}.tags{display:grid;grid-auto-rows:1fr}.row{margin:8px}.tag{text-align:center!important;color:#000;font-weight:700;padding:5px 0}.tag-name{margin-bottom:5px}.tag-name:empty{border:1px dashed grey;width:20px;display:none}.tag-name:empty:focus,.tag .role-badge,.tag:hover .tag-name:empty{display:inline-block}.tag .role-badge{border:1px solid transparent;margin-left:3px;margin-right:3px;max-width:100%}.tag-image-container,.tag-image-container *{box-sizing:border-box}.tag-image,.tag-xray-image{position:absolute;border:5px solid transparent;background-clip:content-box;background-position:50%;background-size:contain;background-repeat:no-repeat;height:100%;width:100%}.tag-image-container{position:relative;margin:0 auto}.tag-xray-image{opacity:.3}.tag-xray-image.hide{display:none}.tag-xray-image.show{display:block}.tag-name{display:inline-block;border:1px solid transparent;padding-top:2px;padding-bottom:1px;margin-left:3px;margin-right:3px;max-width:100%}.tag.passive .tag-image{-webkit-filter:grayscale(100%);filter:grayscale(100%);border-color:silver!important}.tag.passive .role-badge{background-color:silver!important}.role-badge{color:#fff;border-radius:25px;padding:3px 7px 2px;text-transform:uppercase;font-size:14px;font-weight:700}.lds-dual-ring{display:inline-block;width:30px;height:30px}.lds-dual-ring:after{content:" ";display:block;width:30px;height:30px;margin:1px;border-radius:50%;border-color:#6495ed transparent;border-style:solid;border-width:5px;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.modal{position:fixed;left:0;top:0;width:100%;height:100%;z-index:98;background-color:rgba(0,0,0,.5)}.modal.hide{visibility:hidden;opacity:0;transform:scale(1.1);transition:visibility 0s linear .25s,opacity .25s 0s,transform .25s}.modal.show{visibility:visible;opacity:1;transform:scale(1);transition:visibility 0s linear 0s,opacity .25s 0s,transform .25s}.modal-window{border-radius:.5rem;background-color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-height:calc(100vh - 200px);overflow-y:auto}.modal-title{padding:1em;background-color:#6495ed;color:#fff;font-weight:700;position:sticky;top:0;z-index:99;display:flex;align-items:center}.modal-title a{margin:1em;color:#fff;font-size:smaller;font-weight:400;font-style:italic;text-decoration:none}.modal-title a:hover{text-decoration:underline}.modal-title .dismiss{margin-left:auto}.modal-content{padding:2em}.nil-role .role-badge,.tag.passive.nil-role .role-badge{border:1px dashed grey;color:#d3d3d3;background-color:#fff!important}.nil-role .role-badge:before{content:"nil"}.tag.nil-role .role-badge{display:none}.tag.nil-role .role-badge:focus,.tag.nil-role:hover .role-badge{display:inline-block}.tag.nil-role .role-badge:focus{color:#000}.tag.nil-role .role-badge:focus:before{content:""}.tag.nil-role .tag-image-container.xray .tag-image{box-shadow:0 0 0 1px #000}.notice{margin:0 5px;overflow-y:hidden;transition:all .25s ease-out}.notice.hide{opacity:0;max-height:0}.notice.show{opacity:1;max-height:80px}.notice-window{display:inline-block;margin:0 auto;font-size:small;border-radius:.25rem;background-color:#f5f5f5}.notice-content{padding:1em 4em}.options-bar{display:flex;justify-content:center}.options-bar *{font-size:small}.options-bar>*{margin:0 15px}.options-bar label{padding:0 5px}.shape-option{display:inline-block;margin:0 4px -4px 0;border:3px solid grey;width:12px;height:12px;cursor:pointer;transition:all .2s ease-in-out}.shape-option:hover{transform:scale(1.2)}.shape-option.selected{border-color:#6495ed}.keep-sorted{padding:3px 10px;border:none;border-radius:5px;background-color:grey;color:#fff;cursor:pointer;transition:all .2s ease-in-out}.keep-sorted.selected{background-color:#6495ed}.options-bar .xray{padding:3px 10px;border:none;border-radius:5px;background-color:grey;color:#fff;cursor:pointer;transition:all .2s ease-in-out}.options-bar .xray.selected{background-color:#6495ed}input[type=number]{width:45px}.options-bar .gravatar{cursor:pointer;transition:all .2s ease-in-out;height:20px;width:20px}.options-bar .gravatar:hover{transform:scale(1.2)}.options-bar .label:after{content:":";margin-right:5px}.tips>*{margin-bottom:3em}.tip .heading{font-weight:700}';module.exports=function(){return function(){var o=document.createElement("style");return o.textContent=e,o}};
},{"fs":"70rD"}],"IDIv":[function(require,module,exports) {
module.exports=function(o){var n=o.stores;return function(o){var e=document.createElement("style");return e.className="role".concat(o),n.roles.id(o).onChange("colour",function(n){var r=n.colour;e.textContent="\n            .role".concat(o," .tag-image { \n                border-color: ").concat(r,"; \n            }\n            \n            .role").concat(o," .role-badge { \n                background-color: ").concat(r,"; \n            }")}),e}};
},{}],"ZVGz":[function(require,module,exports) {
module.exports=function(t){var a=t.stores;return function(t){var e=a.tags.getState(t).image,n=document.createElement("style");return n.className="tag".concat(t),n.textContent="\n        .tag".concat(t," .tag-image, .tag").concat(t," .tag-xray-image { \n            background-image: url(").concat(e,"); \n        }"),n}};
},{}],"d1VX":[function(require,module,exports) {
module.exports=function(n){var t=n.stores;return function(){var n=document.createElement("style");return t.options.onChange("outline",function(t){var e=t.outline?"dashed 1px silver":"dashed 1px transparent";n.textContent="\n            .tag {\n                border: ".concat(e,";\n            }")}),n}};
},{}],"zxCZ":[function(require,module,exports) {
var e={square:0,circle:50};module.exports=function(n){var t=n.stores;return function(){var n=document.createElement("style");return t.options.onChange("shape",function(t){var r=t.shape;n.textContent="\n            .tag-image {\n                border-radius: ".concat(e[r],"%;\n            }")}),n}};
},{}],"uAAd":[function(require,module,exports) {
module.exports=function(n){var t=n.stores;return function(){var n=document.createElement("style");return t.options.onChange("size",function(t){var e=t.size;n.textContent="\n            .tags {\n                grid-template-columns: repeat(auto-fill, ".concat(e,"px);\n            }\n\n            .tag-image-container {\n                width: ").concat(e-34,"px;\n                height: ").concat(e-34,"px;\n            }")}),n}};
},{}],"jPMI":[function(require,module,exports) {
module.exports=function(n){var t=n.stores;return function(){var n=document.createElement("style");return t.options.onChange("spacing",function(t){var e=t.spacing;n.textContent="\n            .tags {\n                grid-gap: ".concat(e,"px;\n            }")}),n}};
},{}],"3lcP":[function(require,module,exports) {
var e=require("./colour-picker"),r=require("./main"),a=require("./role"),i=require("./tag-image"),g=require("./tag-outline"),t=require("./tag-shape"),u=require("./tag-size"),o=require("./tag-spacing"),q={colourPicker:e,main:r,role:a,tagImage:i,tagOutline:g,tagShape:t,tagSize:u,tagSpacing:o};module.exports=q;
},{"./colour-picker":"2ba6","./main":"gfM7","./role":"IDIv","./tag-image":"ZVGz","./tag-outline":"d1VX","./tag-shape":"zxCZ","./tag-size":"uAAd","./tag-spacing":"jPMI"}],"wCJW":[function(require,module,exports) {
module.exports=function(){return function(n){var t=document.createElement("div");return t.addEventListener("dragenter",r,!1),t.addEventListener("dragover",r,!1),t.addEventListener("drop",e(n),!1),t}};var r=function(r){return r.stopPropagation(),r.preventDefault(),!1},e=function(e){return function(n){return Array.from(n.dataTransfer.files).forEach(e),r(n)}};
},{}],"boVZ":[function(require,module,exports) {
var e=13;module.exports=function(){return function(e){var n=document.createElement("span");return n.setAttribute("contenteditable",!0),n.addEventListener("blur",e),n.addEventListener("keypress",t(e)),n}};var t=function(t){return function(n){n.keyCode===e&&(t(n),n.preventDefault())}};
},{}],"+Oeg":[function(require,module,exports) {
module.exports=function(){return function(e,n){var t=document.createElement("span");t.className="label",t.innerHTML=e;var a=document.createElement("label");return a.append(t,n),a}};
},{}],"fSkc":[function(require,module,exports) {
module.exports=function(){return function(e){var a=e.content,n=e.title,t=e.onDismiss,c=document.createElement("div");c.className="".concat(a.className,"-modal modal hide");var d=document.createElement("span");d.className="dismiss",d.addEventListener("click",t);var m=document.createElement("div");m.className="modal-title",m.append(n),m.append(d);var s=document.createElement("div");s.className="modal-content",s.append(a);var o=document.createElement("div");return o.className="modal-window",o.append(m,s),c.append(o),c.addEventListener("click",t),o.addEventListener("click",function(e){return e.stopPropagation()}),c}};
},{}],"+Ju9":[function(require,module,exports) {
module.exports=function(e){var n=e.lib;return function(e){var t=document.createElement("div");t.className="notice hide";var a=n.visibilityToggle(t),c=document.createElement("span");c.className="dismiss",c.addEventListener("click",a.hide);var i=document.createElement("div");i.className="notice-content",i.append(e);var d=document.createElement("div");return d.className="notice-window",d.append(c,i),t.append(d),t}};
},{}],"SGWa":[function(require,module,exports) {
var e=require("./dropzone"),r=require("./editable-span"),o=require("./label"),a=require("./modal"),i=require("./notice"),l={dropzone:e,editableSpan:r,label:o,modal:a,notice:i};module.exports=l;
},{"./dropzone":"wCJW","./editable-span":"boVZ","./label":"+Oeg","./modal":"fSkc","./notice":"+Ju9"}],"rNkS":[function(require,module,exports) {
module.exports=function(a){var e=a.views;return function(){var a=document.createElement("div");return a.append(e.containers.styles(),e.containers.modals(),e.containers.layout(e.avatars.avatarsPage())),a}};
},{}],"sdyx":[function(require,module,exports) {
module.exports=function(e){var a=e.services,t=e.components,s=e.views;return function(){var e=t.dropzone(a.tags.insertImage());e.className="avatars dropzone";var o=document.createElement("div");return o.className="control-panel",o.append(s.roles.roleList(),s.avatars.imageUploadOptions(),s.notices.briefUsageTip(),s.options.optionsBar(),s.notices.multipleAvatars()),e.append(o,s.tags.tagList()),e}};
},{}],"G0+j":[function(require,module,exports) {
module.exports=function(e){var t=e.lib,a=e.stores,n=e.services;return function(){var e=document.createElement("div");e.className="image-upload-options";var r=document.createElement("span");r.textContent="Drag & drop images";var o=document.createElement("a");o.className="choose-images",o.textContent="Choose images",o.addEventListener("click",function(e){e.preventDefault(),c.click()});var c=document.createElement("input");c.type="file",c.multiple=!0,c.accept="image/*",c.style.display="none",c.addEventListener("change",function(){Array.from(t.getFiles(c)).forEach(n.tags.insertImage())});var i=document.createElement("a");return i.className="import-images-from-gravatar",i.textContent="Import images from Gravatar",i.addEventListener("click",function(){a.app.setState({modal:"gravatar"})}),e.append(r,"●",o,c,"●",i),e}};
},{}],"YjOu":[function(require,module,exports) {
var a=require("./avatars-page"),e=require("./image-upload-options"),r={avatarsPage:a,imageUploadOptions:e};module.exports=r;
},{"./avatars-page":"sdyx","./image-upload-options":"G0+j"}],"nRUJ":[function(require,module,exports) {
module.exports=function(e){var r=e.views;return function(e){var n=document.createElement("div"),t=document.createElement("header");return t.append(r.header.titleBar(),r.header.navBar()),n.append(t,e),n}};
},{}],"JgE5":[function(require,module,exports) {
function t(t){return e(t)||n(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function n(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function e(t){if(Array.isArray(t)){for(var r=0,n=new Array(t.length);r<t.length;r++)n[r]=t[r];return n}}function o(t,r){return l(t)||i(t,r)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(t,r){var n=[],e=!0,o=!1,a=void 0;try{for(var i,l=t[Symbol.iterator]();!(e=(i=l.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(u){o=!0,a=u}finally{try{e||null==l.return||l.return()}finally{if(o)throw a}}return n}function l(t){if(Array.isArray(t))return t}module.exports=function(r){var n=r.lib,e=r.stores,a=r.views;return function(){var r=document.createElement("div");r.className="modals";var i=function(){e.app.setState({modal:null})},l=Object.entries(a.modals).reduce(function(t,r){var e=o(r,2),a=e[0],l=(0,e[1])(i);t.modals.push(l);var u=n.visibilityToggle(l).toggle;return t.toggles.push({key:a,toggle:u}),t},{modals:[],toggles:[]}),u=l.modals,c=l.toggles;return e.app.onChange("modal",function(t){var r=t.modal;c.forEach(function(t){var n=t.key;return(0,t.toggle)(r===n)})}),r.append.apply(r,t(u)),r}};
},{}],"r4qZ":[function(require,module,exports) {
module.exports=function(e){var t=e.stores,n=e.styles;return function(){var e=document.createElement("div");e.className="styles";var r=function(t){return e.append(n.role(t))},a=function(t){return e.append(n.tagImage(t))};return t.roles.ids().forEach(r),t.roles.onInsert(r),t.tags.ids().forEach(a),t.tags.onInsert(a),e.append(n.colourPicker(),n.main(),n.tagShape(),n.tagSize(),n.tagSpacing(),n.tagOutline()),e}};
},{}],"FcfO":[function(require,module,exports) {
var e=require("./layout"),r=require("./modals"),l=require("./styles"),s={layout:e,modals:r,styles:l};module.exports=s;
},{"./layout":"nRUJ","./modals":"JgE5","./styles":"r4qZ"}],"bmDR":[function(require,module,exports) {
function e(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}function t(t){return function(){var r=this,n=arguments;return new Promise(function(a,o){var i=t.apply(r,n);function s(t){e(i,a,o,s,c,"next",t)}function c(t){e(i,a,o,s,c,"throw",t)}s(void 0)})}}module.exports=function(e){var r=e.lib,n=e.stores,a=e.services;return function(e){var o=e.onSubmit,i=document.createElement("div");i.className="actions";var s=document.createElement("button");s.className="import show",s.textContent="Import",s.addEventListener("click",t(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tags.insertGravatar();case 2:e.sent&&o();case 4:case"end":return e.stop()}},e)})));var c=document.createElement("div");c.className="lds-dual-ring hide";var u=document.createElement("div");u.className="error-message hide";var g=document.createElement("a");g.textContent="Dismiss",g.addEventListener("click",a.state.gravatar.ready),i.append(s,c,u);var v={importButton:r.visibilityToggle(s),loadingSpinner:r.visibilityToggle(c),errorMessage:r.visibilityToggle(u)};return n.gravatar.onChange("status",function(){v.importButton.toggle(a.state.gravatar.isReady()),v.loadingSpinner.toggle(a.state.gravatar.isWorking()),v.errorMessage.toggle(a.state.gravatar.isError())}),n.gravatar.onChange("errorMessage",function(){var e=n.gravatar.getState().errorMessage;u.textContent=e,u.append(document.createElement("br")),u.append(g)}),i}};
},{}],"LXD5":[function(require,module,exports) {
module.exports=function(a){var t=a.stores;return function(a){var e=document.createElement("img");return e.className="fallback",e.title=a,e.src="img/gravatar-fallbacks/".concat(a,".png"),e.addEventListener("click",function(){t.gravatar.setState({fallback:a})}),t.gravatar.onChange("fallback",function(t){var c=t.fallback;e.classList.toggle("selected",a===c)}),e}};
},{}],"ewM2":[function(require,module,exports) {
function t(t){return n(t)||r(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}module.exports=function(e){var r=e.constants,n=e.components,a=e.views;return function(){var e=document.createElement("div"),o=r.gravatar.fallbacks.map(a.gravatar.fallback);e.append.apply(e,t(o));return n.label("Select a generated image style to use in case profile image is not found.",e)}};
},{}],"IzAS":[function(require,module,exports) {
module.exports=function(e){var t=e.stores,a=e.components;return function(){var e=document.createElement("textarea");e.className="freetext",e.addEventListener("blur",function(e){var a=e.target.value;t.gravatar.setState({freetext:a})}),t.gravatar.onChange("freetext",function(t){var a=t.freetext;e.value=a}),t.gravatar.onChange("status",function(t){var a=t.status;e.disabled="working"===a});return a.label("\n        Enter email addresses to import images from Gravatar.<br />\n        Alternatively, enter names to use one of the generated image styles below.",e)}};
},{}],"p99z":[function(require,module,exports) {
module.exports=function(a){var t=a.views;return function(a){var r=a.onSubmit,e=document.createElement("div");return e.title="Gravatar",e.className="gravatar",e.append(t.gravatar.freetext(),t.gravatar.fallbacks(),t.gravatar.actions({onSubmit:r})),e}};
},{}],"+8Yi":[function(require,module,exports) {
var e=require("./_actions"),r=require("./_fallback"),a=require("./_fallbacks"),i=require("./_freetext"),l=require("./import-images"),t={_actions:e,_fallback:r,_fallbacks:a,_freetext:i,importImages:l};module.exports=t;
},{"./_actions":"bmDR","./_fallback":"LXD5","./_fallbacks":"ewM2","./_freetext":"IzAS","./import-images":"p99z"}],"ebHa":[function(require,module,exports) {
module.exports=function(e){var t=e.constants,a=e.stores;return function(){var e=document.createElement("nav");e.className="nav-bar";var n=document.createElement("a");n.className="tips",n.textContent="Tips & tricks";var s=document.createElement("a");return s.textContent="Issues, feature requests, feedback",s.target="_blank",s.href=t.app.issues,e.append(n,s),n.addEventListener("click",function(){a.app.setState({modal:"tipsAndTricks"})}),e}};
},{}],"PqI5":[function(require,module,exports) {
module.exports=function(t){var e=t.constants;return function(){var t=document.createElement("h1");t.textContent=e.app.name;var n=document.createElement("a");return n.className="author",n.href=e.author.profile,n.textContent="by ".concat(e.author.name),n.target="_blank",t.append(n),t}};
},{}],"dgxB":[function(require,module,exports) {
var r=require("./nav-bar"),e=require("./title-bar"),a={navBar:r,titleBar:e};module.exports=a;
},{"./nav-bar":"ebHa","./title-bar":"PqI5"}],"gIHf":[function(require,module,exports) {
module.exports=function(t){var a=t.components,e=t.views;return function(t){var r=document.createElement("span");r.textContent="Import images from Gravatar";var n=document.createElement("a");return n.text="What is Gravatar?",n.href="https://en.gravatar.com/support/what-is-gravatar/",n.target="_blank",r.append(n),a.modal({content:e.gravatar.importImages({onSubmit:t}),title:r,onDismiss:t})}};
},{}],"de5Q":[function(require,module,exports) {
module.exports=function(t){var n=t.components,e=t.views;return function(t){return n.modal({content:e.tips.multipleAvatars(),title:"Multiple Avatars",onDismiss:t})}};
},{}],"cH+l":[function(require,module,exports) {
module.exports=function(e){var t=e.components,n=e.views;return function(e){var a=n.tips,i=[a.laminating,a.multipleAvatars,a.badges],s=document.createElement("div");return s.className="tips",i.forEach(function(e){var t=e();t.className="tip";var n=document.createElement("div");n.className="heading",n.textContent=t.title,t.prepend(n),s.append(t)}),t.modal({content:s,title:"Tips & tricks",onDismiss:e})}};
},{}],"AHj5":[function(require,module,exports) {
var r=require("./gravatar"),a=require("./multiple-avatars"),e=require("./tips-and-tricks"),t={gravatar:r,multipleAvatars:a,tipsAndTricks:e};module.exports=t;
},{"./gravatar":"gIHf","./multiple-avatars":"de5Q","./tips-and-tricks":"cH+l"}],"mGy0":[function(require,module,exports) {
module.exports=function(e){var n=e.lib,a=e.components;return function(){var e=document.createElement("div");e.innerHTML="\n        Save time by renaming files to include name, and optionally, role (separated by +) e.g. matt+dev.jpg<br>\n        Once images are provided, <em>names and roles can be edited directly on each avatar</em>.<br>\n        When done: print, laminate, and decorate your agile board!\n    ";var r=a.notice(e);return n.visibilityToggle(r).show(),r}};
},{}],"ulMI":[function(require,module,exports) {
module.exports=function(e){var t=e.lib,n=e.stores,a=e.components;return function(){var e=document.createElement("div");e.innerHTML="Do you <em>really</em> need more than one active avatar? <a>Learn more</a>";var o=a.notice(e);e.querySelector("a").addEventListener("click",function(){n.app.setState({modal:"multipleAvatars"})});var r=t.visibilityToggle(o);return n.options.onChange("active",function(e){e.active<=1?r.hide():r.show()}),o}};
},{}],"ydEA":[function(require,module,exports) {
var e=require("./brief-usage-tip"),r=require("./multiple-avatars"),a={briefUsageTip:e,multipleAvatars:r};module.exports=a;
},{"./brief-usage-tip":"mGy0","./multiple-avatars":"ulMI"}],"8zTs":[function(require,module,exports) {
module.exports=function(e){var t=e.stores,n=e.components;return function(){var e=document.createElement("select"),o=document.createElement("option");o.value="orderAdded",o.textContent="Order added";var a=document.createElement("option");a.value="roleThenName",a.textContent="Role, then name";var r=document.createElement("option");return r.value="name",r.textContent="Name",e.append(o,a,r),e.addEventListener("change",function(n){t.options.setState({keepSortedBy:e.value})}),n.label("Keep sorted by",e)}};
},{}],"6J0B":[function(require,module,exports) {
function e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}module.exports=function(n){var t=n.lib,r=n.constants,a=n.stores,u=n.components;return function(n){var o=r.options[n],i=o.min,s=o.max,l=o.step,c=document.createElement("input");c.type="number",c.className=n,c.min=i,c.max=s,c.step=l;var p=function(){var t=parseInt(c.value)||0,r=t<i?i:t>s?s:t;c.value=r,a.options.setState(e({},n,r))};c.addEventListener("input",function(){c.value&&p()}),c.addEventListener("blur",function(){p()}),a.options.onChange(n,function(e){return c.value=e[n]});var v=t.upperFirst(n);return u.label(v,c)}};
},{}],"EYzZ":[function(require,module,exports) {
function n(n){return r(n)||t(n)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function t(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function r(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}module.exports=function(e){var t=e.constants,r=e.views;return function(){var e=t.options,a=e.modes,o=e.shapes,p=r.options,i=p.number,c=p.shape,s=p.keepSorted,u=p.showOutline,m=(p.xray,[a.map(i),o.map(c),["size","spacing"].map(i),s(),u()].map(function(e){var t=[].concat(e),r=document.createElement("span");return r.append.apply(r,n(t)),r})),l=document.createElement("div");return l.className="options-bar",l.append.apply(l,n(m)),l}};
},{}],"CwWB":[function(require,module,exports) {
module.exports=function(e){var t=e.stores;return function(e){var n=document.createElement("span");n.classList.add("shape-option",e),n.title="Change shape to ".concat(e);return n.addEventListener("click",function(){t.options.setState({shape:e})}),t.options.onChange("shape",function(t){var s=t.shape;n.classList.toggle("selected",e===s)}),n}};
},{}],"0BNE":[function(require,module,exports) {
module.exports=function(e){var t=e.stores;e.components;return function(){var e=document.createElement("span"),n=document.createElement("input");return e.append(n,"Show outline"),n.type="checkbox",n.checked=!0,n.addEventListener("change",function(){t.options.setState({outline:n.checked})}),e}};
},{}],"51rI":[function(require,module,exports) {
module.exports=function(t){var e=t.stores;return function(){var t=document.createElement("span");return t.className="xray",t.innerText="X-Ray",t.title="",t.addEventListener("click",function(){var t=e.options.getState().xray;e.options.setState({xray:!t})}),e.options.onChange("xray",function(e){var n=e.xray;t.classList.toggle("selected",n)}),t}};
},{}],"P7ph":[function(require,module,exports) {
var e=require("./keep-sorted"),r=require("./number"),o=require("./options-bar"),u=require("./shape"),i=require("./show-outline"),s=require("./xray"),a={keepSorted:e,number:r,optionsBar:o,shape:u,showOutline:i,xray:s};module.exports=a;
},{"./keep-sorted":"8zTs","./number":"6J0B","./options-bar":"EYzZ","./shape":"CwWB","./show-outline":"0BNE","./xray":"51rI"}],"ObGJ":[function(require,module,exports) {
var e=require("vanilla-picker").default||require("vanilla-picker");module.exports=function(r){var t=r.stores;return function(r){var o=document.createElement("div");o.className="colour-picker";var n=t.roles.getState(r);return new e({parent:o,color:n.colour,onChange:function(e){return t.roles.setState(r,{colour:e.hex})}}),o}};
},{"vanilla-picker":"wQZv"}],"mc/p":[function(require,module,exports) {
module.exports=function(e){var t=e.stores,n=e.components;return function(e){var a=t.roles.getState(e),o=a.name?n.editableSpan(function(n){var a=n.target.textContent.trim();t.roles.setState(e,{name:a})}):document.createElement("span");return o.className="role-badge role".concat(e),o.textContent=a.name,o}};
},{}],"m73c":[function(require,module,exports) {
module.exports=function(e){var r=e.stores,o=e.views;return function(e){var t=r.roles.getState(e),s=document.createElement("span");s.className="role-customiser role".concat(e),s.classList.toggle("nil-role",!t.name);var a=o.roles.masterRoleBadge(e),l=o.roles.colourPicker(e);return s.append(a,l),s}};
},{}],"YNci":[function(require,module,exports) {
module.exports=function(e){var n=e.stores,o=e.services,r=e.views;return function(){var e={},t=document.createElement("div"),s=function(){o.roles.sortRoles().forEach(function(n){var o=e[n.id];o&&t.appendChild(t.removeChild(o))})},i=function(n){!function(n){var o=r.roles.roleCustomiser(n);e[n]=o,t.appendChild(o)}(n),s()};return n.roles.ids().forEach(i),n.roles.onInsert(i),n.options.onChange("keepSortedBy",s),n.tagInstances.onAnyChange({roleName:s}),t}};
},{}],"8KRU":[function(require,module,exports) {
var e=require("./colour-picker"),r=require("./master-role-badge"),o=require("./role-customiser"),i=require("./role-list"),l={colourPicker:e,masterRoleBadge:r,roleCustomiser:o,roleList:i};module.exports=l;
},{"./colour-picker":"ObGJ","./master-role-badge":"mc/p","./role-customiser":"m73c","./role-list":"YNci"}],"aHBX":[function(require,module,exports) {
module.exports=function(e){var a=e.lib,t=e.stores;return function(){var e=document.createElement("div");e.className="tag-image-container";var n=document.createElement("div");n.className="tag-xray-image hide";var r=a.visibilityToggle(n);t.options.onChange("xray",function(a){var t=a.xray;r.toggle(t),e.classList.toggle("xray",t)});var i=document.createElement("div");return i.className="tag-image",e.append(n,i),e}};
},{}],"/hfx":[function(require,module,exports) {
module.exports=function(n){var t=n.stores,e=n.views;return function(n){var r;return t.options.onChange("layout",function(t){var a=t.layout,o=document.createElement("div");o.className="layout",a.map(function(t){var r=document.createElement("div");return r.className="row",t.map(function(t){return e.tags[t](n)}).forEach(function(n){return r.append(n)}),r}).forEach(function(n){return o.append(n)}),r=o}),r}};
},{}],"QmC9":[function(require,module,exports) {
module.exports=function(t){var n=t.stores,e=t.components;return function(t){var a=e.editableSpan(function(e){var a=e.target.textContent.trim(),o=n.tagInstances.getState(t).tagId;n.tags.setState(o,{name:a})});return a.className="tag-name",n.tagInstances.id(t).onChange("name",function(t){var n=t.name;a.textContent=n}),a}};
},{}],"4XRM":[function(require,module,exports) {
module.exports=function(t){var e=t.stores,n=t.services,a=t.components;return function(t){var r=a.editableSpan(function(a){var r=a.target.textContent.trim(),o=n.roles.findOrInsertRoleWithName(r),s=e.tagInstances.getState(t).tagId;e.tags.setState(s,{roleId:o})});return r.className="role-badge",e.tagInstances.id(t).onChange("roleName",function(t){var e=t.roleName;r.textContent=e}),r}};
},{}],"zycQ":[function(require,module,exports) {
module.exports=function(e){var n=e.constants,t=e.lib,a=e.stores,o=e.services,s=e.views;return function(){var e={},r=document.createElement("div");r.className="tags";a.tagInstances.onInsert(function(n){!function(n){var t=s.tags.tag(n);e[n]=t,r.append(t)}(n),i()}),a.tagInstances.onBeforeRemove(function(n){e[n].remove(),delete e[n]});var c=function(){o.tags.sortInstances().forEach(function(n){r.appendChild(r.removeChild(e[n.id]))})},i=t.debounce(c,n.debounce.sortTagList);return a.options.onChange("keepSortedBy",c),a.tagInstances.onAnyChange(t.sameValue(["name","roleName"],i)),r}};
},{}],"zN6D":[function(require,module,exports) {
module.exports=function(e){var t=e.stores,a=e.views;return function(e){var n=document.createElement("div");n.className="tag-container";var o=document.createElement("div");return n.append(o),o.append(a.tags.layout(e)),t.tagInstances.id(e).onChange("roleId",function(e){var a=e.tagId,n=e.roleId,r=e.mode;o.className="tag tag".concat(a," role").concat(n," ").concat(r);var c=t.roles.getState(n);o.classList.toggle("nil-role",!c.name)}),n}};
},{}],"UbeF":[function(require,module,exports) {
var e=require("./_image"),r=require("./_layout"),a=require("./_name"),i=require("./_role"),t=require("./tag-list"),u=require("./tag"),_={_image:e,_layout:r,_name:a,_role:i,tagList:t,tag:u};module.exports=_;
},{"./_image":"aHBX","./_layout":"/hfx","./_name":"QmC9","./_role":"4XRM","./tag-list":"zycQ","./tag":"zN6D"}],"6ZyF":[function(require,module,exports) {
module.exports=function(){return function(){var n=document.createElement("div");return n.title="Blocked and other badges",n.innerHTML='\n        <p>Create blocked and other badges in the same way as avatars.</p>\n\n        <div class="tags">\n            <div class="tag-container">\n                <div class="tag">\n                    <div class="layout">\n                        <div class="row">\n                            <div class="tag-image-container">\n                                <img src="/img/cross.png" class="tag-image" style="position:relative;" />\n                            </div>\n                        </div>\n                        <div class="row">\n                            <span class="tag-name">BLOCKED</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="tag-container">\n                <div class="tag">\n                    <div class="layout">\n                        <div class="row">\n                            <div class="tag-image-container">\n                                <img src="/img/warning.png" class="tag-image square" style="position:relative;" />\n                            </div>\n                        </div>\n                        <div class="row">\n                            <span class="tag-name">AT RISK</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',n}};
},{}],"sZcF":[function(require,module,exports) {
module.exports=function(){return function(){var e=document.createElement("div");return e.title="Laminating",e.innerHTML="\n        <p>\n            For a more durable result, cut out the tags <em>before</em> laminating them.\n            When cutting the plastic, maintain adhesion by keeping a small lip around the edges.\n        </p>",e}};
},{}],"JfzZ":[function(require,module,exports) {
module.exports=function(){return function(){var a=document.createElement("div");return a.className="multiple-avatars",a.title="Multiple Avatars",a.innerHTML='\n        <p>\n            Only needing a single avatar per team member may be a sign that user stories are well defined,\n            and that team members can take stories to completion without context switching.\n            It also makes it easier to gauge who is focused on what and can serve as a natural WIP limit for the\n            team.\n            See <a target="_blank" href="https://en.wikipedia.org/wiki/INVEST_(mnemonic)">INVEST</a> for\n            characteristics of good quality user stories.\n        </p>\n\n        <p>\n            If multiple avatars are really needed, consider one <em>active</em>, and one or more <em>passive</em>\n            avatars for each team member.\n            The active avatar indicates what a team member is focused on, while\n            the passive avatar may be used to indicate the team member is across an activity which has\n            become blocked, dependent on another team, or otherwise only requires ad hoc attention.\n        </p>\n\n        <div class="tags">\n            <div class="tag-container">\n                <div class="tag">\n                    <div class="layout">\n                        <div class="row">\n                            <div class="tag-image-container">\n                                <img src="/img/matt.jpg" class="tag-image" style="position:relative;border-color:#48a56a;" />\n                            </div>\n                        </div>\n                        <div class="row">\n                            <span class="tag-name">Matt</span>\n                            <span class="role-badge" style="background-color:#48a56a;">DEV</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="tag-container">\n                <div class="tag passive">\n                    <div class="layout">\n                        <div class="row">\n                            <div class="tag-image-container">\n                                <img src="/img/matt.jpg" class="tag-image" style="position:relative;" />\n                            </div>\n                        </div>\n                        <div class="row">\n                            <span class="tag-name">Matt</span>\n                            <span class="role-badge">DEV</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>',a}};
},{}],"sIdY":[function(require,module,exports) {
var a=require("./badges"),e=require("./laminating"),r=require("./multiple-avatars"),i={badges:a,laminating:e,multipleAvatars:r};module.exports=i;
},{"./badges":"6ZyF","./laminating":"sZcF","./multiple-avatars":"JfzZ"}],"6UlO":[function(require,module,exports) {
var r=require("./container"),e=require("./avatars"),a=require("./containers"),i=require("./gravatar"),s=require("./header"),t=require("./modals"),o=require("./notices"),n=require("./options"),u=require("./roles"),q=require("./tags"),c=require("./tips"),d={container:r,avatars:e,containers:a,gravatar:i,header:s,modals:t,notices:o,options:n,roles:u,tags:q,tips:c};module.exports=d;
},{"./container":"rNkS","./avatars":"YjOu","./containers":"FcfO","./gravatar":"+8Yi","./header":"dgxB","./modals":"AHj5","./notices":"ydEA","./options":"P7ph","./roles":"8KRU","./tags":"UbeF","./tips":"sIdY"}],"QvaY":[function(require,module,exports) {
require("regenerator-runtime/runtime");var e=require("./wire"),s=require("./constants"),r={lib:require("./lib"),gateways:require("./gateways"),stores:require("./stores"),services:require("./services"),styles:require("./styles"),components:require("./components"),views:require("./views")};module.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.fetch,o=void 0===i?window.fetch:i,n=t.URL,a=void 0===n?window.URL:n,c=t.random,l=void 0===c?Math.random:c,u=e(r,{lib:"random",gateways:"fetch constants",stores:"lib",services:"constants lib gateways stores URL",styles:"lib stores services",components:"lib",views:"constants lib stores services components styles"},{constants:s,URL:a,random:l,fetch:o});return u.services.state.initialise(),u};
},{"regenerator-runtime/runtime":"QVnC","./wire":"fOHV","./constants":"MuPq","./lib":"z0w4","./gateways":"uH4h","./stores":"i+5m","./services":"XXZN","./styles":"3lcP","./components":"SGWa","./views":"6UlO"}],"Focm":[function(require,module,exports) {
function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(n,e){return!e||"object"!==t(e)&&"function"!=typeof e?r(n):e}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}function u(t){var n="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||!f(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return c(t,arguments,l(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a(e,t)})(t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function c(t,n,e){return(c=i()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&a(o,e.prototype),o}).apply(null,arguments)}function f(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=require("./js"),s=function(t){function r(){var t;n(this,r);var o=(t=e(this,l(r).call(this))).attachShadow({mode:"open"}),u=p(),i=u.views.container();return o.append(i),window.agileavatars||(window.agileavatars=[]),window.agileavatars.push(u),t}return o(r,u(HTMLElement)),r}();customElements.define("agile-avatars",s);
},{"./js":"QvaY"}]},{},["Focm"], null)
//# sourceMappingURL=/src.dd583bce.js.map