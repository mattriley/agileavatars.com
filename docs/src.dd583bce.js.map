{"version":3,"sources":["../node_modules/regenerator-runtime/runtime.js","js/wire.js","js/constants.js","js/lib/debounce.js","js/lib/get-files.js","js/lib/pick.js","js/lib/random-colour.js","js/lib/same-value.js","../node_modules/events/events.js","js/lib/state-store.js","js/lib/upper-first.js","js/lib/visibility-toggle.js","js/lib/index.js","js/gateways/gravatar/_fetch-image.js","js/gateways/gravatar/_fetch-name.js","js/gateways/gravatar/_fetch-profile.js","../node_modules/blueimp-md5/js/md5.js","js/gateways/gravatar/_hash-email.js","js/gateways/gravatar/fetch-name-and-image.js","js/gateways/gravatar/index.js","js/gateways/index.js","js/stores.js","js/services/roles/_propagate-role-name.js","js/services/roles/find-or-insert-role-with-name.js","js/services/roles/insert-role.js","js/services/roles/sort-roles.js","js/services/roles/index.js","js/services/state/gravatar.js","js/services/state/initialise.js","js/services/state/load.js","js/services/state/index.js","js/services/tags/_insert-instance.js","js/services/tags/_parse-filename.js","js/services/tags/_plan-instance-count-adjustment.js","js/services/tags/_propagate-role-id.js","js/services/tags/_propagate-tag-name.js","js/services/tags/_remove-instance.js","js/services/tags/_sort-instances-by-tag-then-mode.js","js/services/tags/_sort-tags-by-name.js","js/services/tags/_sort-tags-by-role-then-name.js","js/services/tags/adjust-instance-counts.js","js/services/tags/insert-gravatar.js","js/services/tags/insert-image.js","js/services/tags/insert-tag.js","js/services/tags/sort-instances.js","js/services/tags/index.js","js/services/index.js","../node_modules/@sphinxxxx/color-conversion/src/color.js","../node_modules/drag-tracker/src/drag-tracker.js","../node_modules/vanilla-picker/dist/vanilla-picker.mjs","js/styles/colour-picker.js","js/styles/main.js","js/styles/role.js","js/styles/tag-image.js","js/styles/tag-outline.js","js/styles/tag-shape.js","js/styles/tag-size.js","js/styles/tag-spacing.js","js/styles/index.js","js/components/dropzone.js","js/components/editable-span.js","js/components/label.js","js/components/modal.js","js/components/notice.js","js/components/index.js","js/views/container.js","js/views/avatars/avatars-page.js","js/views/avatars/image-upload-options.js","js/views/avatars/index.js","js/views/containers/layout.js","js/views/containers/modals.js","js/views/containers/styles.js","js/views/containers/index.js","js/views/gravatar/_actions.js","js/views/gravatar/_fallback.js","js/views/gravatar/_fallbacks.js","js/views/gravatar/_freetext.js","js/views/gravatar/import-images.js","js/views/gravatar/index.js","js/views/header/nav-bar.js","js/views/header/title-bar.js","js/views/header/index.js","js/views/modals/gravatar.js","js/views/modals/multiple-avatars.js","js/views/modals/tips-and-tricks.js","js/views/modals/index.js","js/views/notices/brief-usage-tip.js","js/views/notices/multiple-avatars.js","js/views/notices/index.js","js/views/options/keep-sorted.js","js/views/options/number.js","js/views/options/options-bar.js","js/views/options/shape.js","js/views/options/show-outline.js","js/views/options/xray.js","js/views/options/index.js","js/views/roles/colour-picker.js","js/views/roles/master-role-badge.js","js/views/roles/role-customiser.js","js/views/roles/role-list.js","js/views/roles/index.js","js/views/tags/_image.js","js/views/tags/_layout.js","js/views/tags/_name.js","js/views/tags/_role.js","js/views/tags/tag-list.js","js/views/tags/tag.js","js/views/tags/index.js","js/views/tips/badges.js","js/views/tips/laminating.js","js/views/tips/multiple-avatars.js","js/views/tips/index.js","js/views/index.js","js/index.js","index.js"],"names":["module","exports","modules","wiring","initial","Object","entries","reduce","acc","key","resolver","pipeline","getPipeline","fun","tree","str","isString","split","map","trim","arr","isArray","deps","product","val","private","isFunction","deepMap","public","removePrivates","assign","obj","privatePattern","newVal","test","newKey","replace","Array","maxSize","app","name","issues","defaultPage","author","profile","gravatar","domain","size","fallbacks","options","modes","shapes","active","min","max","step","passive","spacing","debounce","adjustInstanceCounts","sortTagList","initialState","modal","nilRoleId","keepSortedBy","shape","layout","xray","outline","fallback","freetext","status","errorMessage","roles","colour","callback","milliseconds","timeoutId","clearTimeout","setTimeout","fileInput","files","keys","random","hex","toString","slice","items","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ProcessEmitWarning","warning","console","warn","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","type","listener","prepend","m","events","existing","TypeError","create","newListener","emit","unshift","push","length","warned","w","Error","String","emitter","count","onceWrapper","i","arguments","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","n","copy","spliceOne","list","index","pop","ret","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","position","originalListener","shift","off","removeAllListeners","rawListeners","eventNames","require","nextId","collectionEvents","emptyItem","getState","find","id","onAnyChange","_onAnyChange","insert","data","eventEmitter","itemEvents","setState","_setState","onChange","forEach","scalar","onInsert","onBeforeRemove","remove","changes","getItems","values","ids","eventEmitters","listenerMap","string","charAt","toUpperCase","HIDE","SHOW","targetElement","classList","contains","add","show","hide","toggle","b","getFiles","pick","randomColour","sameValue","stateStore","upperFirst","visibilityToggle","lib","gateways","constants","fetch","email","emailHash","hashEmail","url","response","blob","fetchProfile","extractNameFromProfile","extractNameFromEmail","givenName","displayName","ok","json","entry","md5","toLowerCase","Promise","all","fetchName","fetchImage","imageBlob","_fetchImage","_fetchName","_fetchProfile","_hashEmail","fetchNameAndImage","tags","tagInstances","stores","roleId","role","roleName","filter","instance","services","pattern","RegExp","existingRole","insertRole","roleData","propagateRoleName","keepSorted","nilRole","sortedRoles","_propagateRoleName","findOrInsertRoleWithName","sortRoles","ready","working","statusIs","isReady","isWorking","isError","load","mode","initialisers","initialise","instanceData","tagId","tag","instanceId","instances","filename","match","s","modeCounts","flatMap","plan","diff","fill","notThisInstance","sort","a","localeCompare","roleNameA","roleNameB","roleComparison","nameComparison","planInstanceCountAdjustment","insertInstance","removeInstance","URL","emails","promises","image","createObjectURL","insertTag","imageFile","startsWith","parseFilename","reader","window","FileReader","onload","e","result","fileLoaded","readAsDataURL","tagData","propagateTagName","propagateRoleId","sortTagsByRoleThenName","sortTagsByName","sortInstancesByTagThenMode","orderAdded","roleThenName","_insertInstance","_parseFilename","_planInstanceCountAdjustment","_propagateRoleId","_propagateTagName","_removeInstance","_sortInstancesByTagThenMode","_sortTagsByName","_sortTagsByRoleThenName","insertGravatar","insertImage","sortInstances","Color","needle","indexOf","padStart","pad","colorNames","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","printNum","num","decs","toFixed","constructor","r","g","rgba","color","parseString","input","h","l","hsla","hexToRgb","nameToRgb","_rgba","_hsla","hslToRgb","rgb","printRGB","alpha","vals","x","rgbString","rgbaString","rgbToHsl","hsl","printHSL","mults","suff","hslString","hslaString","Math","round","join","printHex","substring","parseInt","d","hue2rgb","p","q","t","dragTracker","root","ep","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","node","tagName","parentNode","parentElement","container","document","documentElement","selector","log","callbackStart","callbackDragStart","callbackEnd","callbackDragEnd","callbackClick","propagate","propagateEvents","roundCoords","dragOutside","handleOffset","offsetToCenter","dragState","getMousePos","elm","offset","stayWithin","clientX","y","clientY","respectBounds","bounds","getBoundingClientRect","left","top","width","height","nodeName","stopEvent","preventDefault","stopPropagation","onDown","mouseOffset","startPos","actuallyDragged","onMove","start","pos","onEnd","cancelled","isClick","onTouchEnd","tweakTouch","addEvent","addEventListener","isLeftButton","buttons","which","relayTouch","touches","touch","targetTouches","changedTouches","Picker","BG_TRANSP","HUES","EVENT_KEY","EVENT_CLICK_OUTSIDE","EVENT_TAB_MOVE","parseHTML","htmlString","div","createElement","innerHTML","firstElementChild","$","querySelector","onKey","stop","_style","textContent","appendChild","settings","popup","editor","editorFormat","_openProxy","openHandler","onDone","onOpen","onClose","setOptions","HTMLElement","parent","removeEventListener","_popupInited","transfer","source","skipKeys","col","_setColor","style","pointerEvents","toFocus","_domEdit","domElement","focus","closeHandler","event","doHide","knownTime","__containedEvent","timeStamp","movePopup","open","setColor","silent","flags","c","ex","failSilently","_setHSLA","setColour","toggled","_toggleDOM","_setPosition","html","wrapper","template","_domH","_domSL","_domA","_domSample","_domOkay","_ifPopup","_updateUI","_bindEvents","dom","createDragConfig","callbackRelative","relayDrag","_","relX","clientWidth","relY","clientHeight","config","editInput","fromEditor","selectionStart","selectionEnd","select","popupCloseProxy","timeKeeper","onDoneProxy","getComputedStyle","cssClass","cssHue","cssHSL","cssHSLA","uiH","uiSL","uiA","thumbH","thumbSL","thumbA","posX","child","posY","backgroundColor","opaque","transp","bg","backgroundImage","format","actionIf","actionElse","toVisible","displayStyle","display","StyleElement","default","cloneNode","fs","css","$style","className","border","BORDER_RADIUS","square","circle","colourPicker","main","tagImage","tagOutline","tagShape","tagSize","tagSpacing","styles","onFileDropped","$dropzone","silence","drop","from","dataTransfer","ENTER_KEY_CODE","$span","setAttribute","keypress","keyCode","text","labelledControl","$text","$label","append","content","title","onDismiss","$modal","$dismiss","$title","$content","$window","contentElement","$notice","noticeVisibility","dropzone","editableSpan","label","notice","components","views","$container","containers","modals","avatars","avatarsPage","$controlPanel","roleList","imageUploadOptions","notices","briefUsageTip","optionsBar","multipleAvatars","tagList","$imageUploadOptions","$dragAndDropImages","$chooseImages","$fileInput","click","multiple","accept","$importImagesFromGravatar","$header","header","titleBar","navBar","$modals","toggles","$styles","appendRoleStyle","appendTagImageStyle","onSubmit","$actions","$importButton","$loadingSpinner","$errorMessage","$dismissErrorMessage","visibilityToggles","importButton","loadingSpinner","$fallback","src","selectedFallback","$fallbacks","fallbackOptions","$freetext","disabled","$gravatar","actions","_actions","_fallback","_fallbacks","_freetext","importImages","$navBar","$tips","$issues","href","$titleBar","$author","$whatIsGravatar","tips","sequence","laminating","badges","render","$tip","$heading","tipsAndTricks","$noticeContent","$keepSorted","$orderAdded","$roleThenName","$name","optionName","$number","labelText","number","showOutline","groups","option","$group","$optionsBar","$shape","selectedShape","$showOutline","checked","$xray","innerText","$colourPicker","$roleBadge","$roleCustomiser","$masterRoleBadge","masterRoleBadge","$roles","$role","removeChild","insertThenSort","roleCustomiser","$xrayImage","xrayVisibilityToggle","$image","$layout","$newLayout","row","$row","$component","tagsInstances","$tags","$tag","delayedSort","$tagContainer","_image","_layout","_name","_role","wire","_app","AgileAvatars","shadow","attachShadow","agileavatars","customElements","define"],"mappings":";AAOA,IAAA,EAAA,SAAA,GACA,aAEA,IAEA,EAFA,EAAA,OAAA,UACA,EAAA,EAAA,eAEA,EAAA,mBAAA,OAAA,OAAA,GACA,EAAA,EAAA,UAAA,aACA,EAAA,EAAA,eAAA,kBACA,EAAA,EAAA,aAAA,gBAEA,SAAA,EAAA,EAAA,EAAA,EAAA,GAEA,IAAA,EAAA,GAAA,EAAA,qBAAA,EAAA,EAAA,EACA,EAAA,OAAA,OAAA,EAAA,WACA,EAAA,IAAA,EAAA,GAAA,IAMA,OAFA,EAAA,QAkMA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAEA,OAAA,SAAA,EAAA,GACA,GAAA,IAAA,EACA,MAAA,IAAA,MAAA,gCAGA,GAAA,IAAA,EAAA,CACA,GAAA,UAAA,EACA,MAAA,EAKA,OAAA,IAMA,IAHA,EAAA,OAAA,EACA,EAAA,IAAA,IAEA,CACA,IAAA,EAAA,EAAA,SACA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,EAAA,GACA,GAAA,EAAA,CACA,GAAA,IAAA,EAAA,SACA,OAAA,GAIA,GAAA,SAAA,EAAA,OAGA,EAAA,KAAA,EAAA,MAAA,EAAA,SAEA,GAAA,UAAA,EAAA,OAAA,CACA,GAAA,IAAA,EAEA,MADA,EAAA,EACA,EAAA,IAGA,EAAA,kBAAA,EAAA,SAEA,WAAA,EAAA,QACA,EAAA,OAAA,SAAA,EAAA,KAGA,EAAA,EAEA,IAAA,EAAA,EAAA,EAAA,EAAA,GACA,GAAA,WAAA,EAAA,KAAA,CAOA,GAJA,EAAA,EAAA,KACA,EACA,EAEA,EAAA,MAAA,EACA,SAGA,MAAA,CACA,MAAA,EAAA,IACA,KAAA,EAAA,MAGA,UAAA,EAAA,OACA,EAAA,EAGA,EAAA,OAAA,QACA,EAAA,IAAA,EAAA,OA1QA,CAAA,EAAA,EAAA,GAEA,EAcA,SAAA,EAAA,EAAA,EAAA,GACA,IACA,MAAA,CAAA,KAAA,SAAA,IAAA,EAAA,KAAA,EAAA,IACA,MAAA,GACA,MAAA,CAAA,KAAA,QAAA,IAAA,IAhBA,EAAA,KAAA,EAoBA,IAAA,EAAA,iBACA,EAAA,iBACA,EAAA,YACA,EAAA,YAIA,EAAA,GAMA,SAAA,KACA,SAAA,KACA,SAAA,KAIA,IAAA,EAAA,GACA,EAAA,GAAA,WACA,OAAA,MAGA,IAAA,EAAA,OAAA,eACA,EAAA,GAAA,EAAA,EAAA,EAAA,MACA,GACA,IAAA,GACA,EAAA,KAAA,EAAA,KAGA,EAAA,GAGA,IAAA,EAAA,EAAA,UACA,EAAA,UAAA,OAAA,OAAA,GAQA,SAAA,EAAA,GACA,CAAA,OAAA,QAAA,UAAA,QAAA,SAAA,GACA,EAAA,GAAA,SAAA,GACA,OAAA,KAAA,QAAA,EAAA,MAoCA,SAAA,EAAA,GAgCA,IAAA,EAgCA,KAAA,QA9BA,SAAA,EAAA,GACA,SAAA,IACA,OAAA,IAAA,QAAA,SAAA,EAAA,IAnCA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GACA,GAAA,UAAA,EAAA,KAEA,CACA,IAAA,EAAA,EAAA,IACA,EAAA,EAAA,MACA,OAAA,GACA,iBAAA,GACA,EAAA,KAAA,EAAA,WACA,QAAA,QAAA,EAAA,SAAA,KAAA,SAAA,GACA,EAAA,OAAA,EAAA,EAAA,IACA,SAAA,GACA,EAAA,QAAA,EAAA,EAAA,KAIA,QAAA,QAAA,GAAA,KAAA,SAAA,GAIA,EAAA,MAAA,EACA,EAAA,IACA,SAAA,GAGA,OAAA,EAAA,QAAA,EAAA,EAAA,KAvBA,EAAA,EAAA,KAiCA,CAAA,EAAA,EAAA,EAAA,KAIA,OAAA,EAaA,EAAA,EAAA,KACA,EAGA,GACA,KA+GA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,SAAA,EAAA,QACA,GAAA,IAAA,EAAA,CAKA,GAFA,EAAA,SAAA,KAEA,UAAA,EAAA,OAAA,CAEA,GAAA,EAAA,SAAA,SAGA,EAAA,OAAA,SACA,EAAA,IAAA,EACA,EAAA,EAAA,GAEA,UAAA,EAAA,QAGA,OAAA,EAIA,EAAA,OAAA,QACA,EAAA,IAAA,IAAA,UACA,kDAGA,OAAA,EAGA,IAAA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,KAEA,GAAA,UAAA,EAAA,KAIA,OAHA,EAAA,OAAA,QACA,EAAA,IAAA,EAAA,IACA,EAAA,SAAA,KACA,EAGA,IAAA,EAAA,EAAA,IAEA,OAAA,EAOA,EAAA,MAGA,EAAA,EAAA,YAAA,EAAA,MAGA,EAAA,KAAA,EAAA,QAQA,WAAA,EAAA,SACA,EAAA,OAAA,OACA,EAAA,IAAA,GAUA,EAAA,SAAA,KACA,GANA,GA3BA,EAAA,OAAA,QACA,EAAA,IAAA,IAAA,UAAA,oCACA,EAAA,SAAA,KACA,GAoDA,SAAA,EAAA,GACA,IAAA,EAAA,CAAA,OAAA,EAAA,IAEA,KAAA,IACA,EAAA,SAAA,EAAA,IAGA,KAAA,IACA,EAAA,WAAA,EAAA,GACA,EAAA,SAAA,EAAA,IAGA,KAAA,WAAA,KAAA,GAGA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,YAAA,GACA,EAAA,KAAA,gBACA,EAAA,IACA,EAAA,WAAA,EAGA,SAAA,EAAA,GAIA,KAAA,WAAA,CAAA,CAAA,OAAA,SACA,EAAA,QAAA,EAAA,MACA,KAAA,OAAA,GA8BA,SAAA,EAAA,GACA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,GACA,GAAA,EACA,OAAA,EAAA,KAAA,GAGA,GAAA,mBAAA,EAAA,KACA,OAAA,EAGA,IAAA,MAAA,EAAA,QAAA,CACA,IAAA,GAAA,EAAA,EAAA,SAAA,IACA,OAAA,EAAA,EAAA,QACA,GAAA,EAAA,KAAA,EAAA,GAGA,OAFA,EAAA,MAAA,EAAA,GACA,EAAA,MAAA,EACA,EAOA,OAHA,EAAA,MAAA,EACA,EAAA,MAAA,EAEA,GAGA,OAAA,EAAA,KAAA,GAKA,MAAA,CAAA,KAAA,GAIA,SAAA,IACA,MAAA,CAAA,MAAA,EAAA,MAAA,GA+MA,OAxmBA,EAAA,UAAA,EAAA,YAAA,EACA,EAAA,YAAA,EACA,EAAA,GACA,EAAA,YAAA,oBAYA,EAAA,oBAAA,SAAA,GACA,IAAA,EAAA,mBAAA,GAAA,EAAA,YACA,QAAA,IACA,IAAA,GAGA,uBAAA,EAAA,aAAA,EAAA,QAIA,EAAA,KAAA,SAAA,GAUA,OATA,OAAA,eACA,OAAA,eAAA,EAAA,IAEA,EAAA,UAAA,EACA,KAAA,IACA,EAAA,GAAA,sBAGA,EAAA,UAAA,OAAA,OAAA,GACA,GAOA,EAAA,MAAA,SAAA,GACA,MAAA,CAAA,QAAA,IAsEA,EAAA,EAAA,WACA,EAAA,UAAA,GAAA,WACA,OAAA,MAEA,EAAA,cAAA,EAKA,EAAA,MAAA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,IAAA,EACA,EAAA,EAAA,EAAA,EAAA,IAGA,OAAA,EAAA,oBAAA,GACA,EACA,EAAA,OAAA,KAAA,SAAA,GACA,OAAA,EAAA,KAAA,EAAA,MAAA,EAAA,UAuKA,EAAA,GAEA,EAAA,GAAA,YAOA,EAAA,GAAA,WACA,OAAA,MAGA,EAAA,SAAA,WACA,MAAA,sBAkCA,EAAA,KAAA,SAAA,GACA,IAAA,EAAA,GACA,IAAA,IAAA,KAAA,EACA,EAAA,KAAA,GAMA,OAJA,EAAA,UAIA,SAAA,IACA,KAAA,EAAA,QAAA,CACA,IAAA,EAAA,EAAA,MACA,GAAA,KAAA,EAGA,OAFA,EAAA,MAAA,EACA,EAAA,MAAA,EACA,EAQA,OADA,EAAA,MAAA,EACA,IAsCA,EAAA,OAAA,EAMA,EAAA,UAAA,CACA,YAAA,EAEA,MAAA,SAAA,GAcA,GAbA,KAAA,KAAA,EACA,KAAA,KAAA,EAGA,KAAA,KAAA,KAAA,MAAA,EACA,KAAA,MAAA,EACA,KAAA,SAAA,KAEA,KAAA,OAAA,OACA,KAAA,IAAA,EAEA,KAAA,WAAA,QAAA,IAEA,EACA,IAAA,IAAA,KAAA,KAEA,MAAA,EAAA,OAAA,IACA,EAAA,KAAA,KAAA,KACA,OAAA,EAAA,MAAA,MACA,KAAA,GAAA,IAMA,KAAA,WACA,KAAA,MAAA,EAEA,IACA,EADA,KAAA,WAAA,GACA,WACA,GAAA,UAAA,EAAA,KACA,MAAA,EAAA,IAGA,OAAA,KAAA,MAGA,kBAAA,SAAA,GACA,GAAA,KAAA,KACA,MAAA,EAGA,IAAA,EAAA,KACA,SAAA,EAAA,EAAA,GAYA,OAXA,EAAA,KAAA,QACA,EAAA,IAAA,EACA,EAAA,KAAA,EAEA,IAGA,EAAA,OAAA,OACA,EAAA,IAAA,KAGA,EAGA,IAAA,IAAA,EAAA,KAAA,WAAA,OAAA,EAAA,GAAA,IAAA,EAAA,CACA,IAAA,EAAA,KAAA,WAAA,GACA,EAAA,EAAA,WAEA,GAAA,SAAA,EAAA,OAIA,OAAA,EAAA,OAGA,GAAA,EAAA,QAAA,KAAA,KAAA,CACA,IAAA,EAAA,EAAA,KAAA,EAAA,YACA,EAAA,EAAA,KAAA,EAAA,cAEA,GAAA,GAAA,EAAA,CACA,GAAA,KAAA,KAAA,EAAA,SACA,OAAA,EAAA,EAAA,UAAA,GACA,GAAA,KAAA,KAAA,EAAA,WACA,OAAA,EAAA,EAAA,iBAGA,GAAA,GACA,GAAA,KAAA,KAAA,EAAA,SACA,OAAA,EAAA,EAAA,UAAA,OAGA,CAAA,IAAA,EAMA,MAAA,IAAA,MAAA,0CALA,GAAA,KAAA,KAAA,EAAA,WACA,OAAA,EAAA,EAAA,gBAUA,OAAA,SAAA,EAAA,GACA,IAAA,IAAA,EAAA,KAAA,WAAA,OAAA,EAAA,GAAA,IAAA,EAAA,CACA,IAAA,EAAA,KAAA,WAAA,GACA,GAAA,EAAA,QAAA,KAAA,MACA,EAAA,KAAA,EAAA,eACA,KAAA,KAAA,EAAA,WAAA,CACA,IAAA,EAAA,EACA,OAIA,IACA,UAAA,GACA,aAAA,IACA,EAAA,QAAA,GACA,GAAA,EAAA,aAGA,EAAA,MAGA,IAAA,EAAA,EAAA,EAAA,WAAA,GAIA,OAHA,EAAA,KAAA,EACA,EAAA,IAAA,EAEA,GACA,KAAA,OAAA,OACA,KAAA,KAAA,EAAA,WACA,GAGA,KAAA,SAAA,IAGA,SAAA,SAAA,EAAA,GACA,GAAA,UAAA,EAAA,KACA,MAAA,EAAA,IAcA,MAXA,UAAA,EAAA,MACA,aAAA,EAAA,KACA,KAAA,KAAA,EAAA,IACA,WAAA,EAAA,MACA,KAAA,KAAA,KAAA,IAAA,EAAA,IACA,KAAA,OAAA,SACA,KAAA,KAAA,OACA,WAAA,EAAA,MAAA,IACA,KAAA,KAAA,GAGA,GAGA,OAAA,SAAA,GACA,IAAA,IAAA,EAAA,KAAA,WAAA,OAAA,EAAA,GAAA,IAAA,EAAA,CACA,IAAA,EAAA,KAAA,WAAA,GACA,GAAA,EAAA,aAAA,EAGA,OAFA,KAAA,SAAA,EAAA,WAAA,EAAA,UACA,EAAA,GACA,IAKA,MAAA,SAAA,GACA,IAAA,IAAA,EAAA,KAAA,WAAA,OAAA,EAAA,GAAA,IAAA,EAAA,CACA,IAAA,EAAA,KAAA,WAAA,GACA,GAAA,EAAA,SAAA,EAAA,CACA,IAAA,EAAA,EAAA,WACA,GAAA,UAAA,EAAA,KAAA,CACA,IAAA,EAAA,EAAA,IACA,EAAA,GAEA,OAAA,GAMA,MAAA,IAAA,MAAA,0BAGA,cAAA,SAAA,EAAA,EAAA,GAaA,OAZA,KAAA,SAAA,CACA,SAAA,EAAA,GACA,WAAA,EACA,QAAA,GAGA,SAAA,KAAA,SAGA,KAAA,IAAA,GAGA,IAQA,EAvrBA,CA8rBA,iBAAA,OAAA,OAAA,QAAA,IAGA,IACA,mBAAA,EACA,MAAA,GAUA,SAAA,IAAA,yBAAA,CAAA;;AC3qBA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAzCAA,OAAOC,QAAU,SAACC,EAASC,GAAQC,IAAAA,EAAU,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAClCC,OAAAA,OAAOC,QAAQH,GAAQI,OAAO,SAACC,EAAyB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAnBC,EAAmB,EAAA,GAAdC,EAAc,EAAA,GAEpDC,OADUC,EAAYJ,EAAKC,EAAKP,GACvBK,OAAO,SAACC,EAAKK,GAAQA,OAAAA,EAAIL,IAAQA,GAAKE,IACvDN,IAGP,IAAMQ,EAAc,SAACJ,EAAKC,EAAKK,GAAS,MAAA,CACpC,SAAAC,GAAOC,OAAAA,EAASD,GAAOA,EAAIE,MAAM,SAASC,IAAI,SAAAT,GAAOA,OAAAA,EAAIU,SAAUJ,GACnE,SAAAK,GAAOC,OAAAA,EAAQD,GAAO,SAAAE,GAAQF,OAAAA,EAAIb,OAAO,SAACC,EAAKC,GAAcD,OAAAA,EAAAA,GAAAA,EAAMC,EAAAA,GAAAA,EAAMa,EAAKb,MAAS,KAAMW,GAC7F,SAAAP,GACUU,IAAAA,EAAU,GACVD,EAAYT,EAAAA,GAAAA,EAAIL,GAAOC,EAAAA,GAAAA,EAAMc,IAC7BC,EAAMV,EAAKL,GACXgB,EAAUC,EAAWF,GAAOA,EAAIF,GAAQK,EAAQH,EAAKF,EAAMC,GAC3DK,EAASC,EAAeJ,GACvBpB,OAAAA,OAAOyB,OAAOtB,EAAQC,EAAAA,GAAAA,EAAMmB,OAIrCD,EAAU,SAAVA,EAAWI,EAAKT,EAAMC,GAClBS,IAAAA,EAAiB,KAChB3B,OAAAA,OAAOC,QAAQyB,GAAKxB,OAAO,SAACC,EAAoB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAdC,EAAc,EAAA,GAATe,EAAS,EAAA,GAC7CS,EAASP,EAAWF,GAAOA,EAAIF,GAAQK,EAAQH,EAAKF,EAAM,IAChDU,EAAeE,KAAKzB,KACvBwB,EAAOR,SAAU,GACxBU,IAAAA,EAAS1B,EAAI2B,QAAQJ,EAAgB,IACpC3B,OAAAA,OAAOyB,OAAOtB,EAAQ2B,EAAAA,GAAAA,EAASF,KACvCV,IAGDM,EAAiB,SAAjBA,EAAiBE,GACZ1B,OAAAA,OAAOC,QAAQyB,GAAKxB,OAAO,SAACC,EAAoB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAdC,EAAc,EAAA,GAATe,EAAS,EAAA,GAC/CA,GAAAA,EAAIC,QAAS,OAAOjB,EAClByB,IAAAA,EAASP,EAAWF,GAAOA,EAAMK,EAAeL,GAC/CnB,OAAAA,OAAOyB,OAAOtB,EAAQC,EAAAA,GAAAA,EAAMwB,KACpC,KAGDjB,EAAW,SAAAQ,GAAO,MAAe,iBAARA,GACzBH,EAAU,SAAAG,GAAOa,OAAAA,MAAMhB,QAAQG,IAC/BE,EAAa,SAAAF,GAAO,MAAe,mBAARA;;ACzCjC,IAAMc,EAAU,IAEhBtC,OAAOC,QAAU,CACbsC,IAAK,CACDC,KAAM,gBACNC,OAAQ,mDACRC,YAAa,WAEjBC,OAAQ,CACJH,KAAM,aACNI,QAAS,4CAEbC,SAAU,CACNC,OAAQ,8BACRC,KAAMT,EACNU,UAAW,CAAC,WAAY,YAAa,UAAW,QAAS,YAAa,OAE1EC,QAAS,CACLC,MAAO,CAAC,SAAU,WAClBC,OAAQ,CAAC,SAAU,UACnBC,OAAQ,CAAEC,IAAK,EAAGC,IAAK,IAAKC,KAAM,GAClCC,QAAS,CAAEH,IAAK,EAAGC,IAAK,IAAKC,KAAM,GACnCR,KAAM,CAAEM,IAAK,EAAGC,IAAKhB,EAASiB,KAAM,IACpCE,QAAS,CAAEJ,IAAK,EAAGC,IAAK,GAAIC,KAAM,IAEtCG,SAAU,CACNC,qBAAsB,IACtBC,YAAa,IAEjBC,aAAc,CACVtB,IAAK,CACDuB,MAAO,KACPC,UAAW,MAEfd,QAAS,CACLe,aAAc,aACdC,MAAO,SACPb,OAAQ,EACRI,QAAS,EACTT,KAAM,IACNU,QAAS,EACTS,OAAQ,CACJ,CAAC,SACD,CAAC,OAAQ,SAEbC,MAAM,EACNC,SAAS,GAEbvB,SAAU,CACNwB,SAAU,WACVC,SAAU,GACVC,OAAQ,QACRC,aAAc,IAElBC,MAAO,CACH,CAAEjC,KAAM,GAAIkC,OAAQ,WACpB,CAAElC,KAAM,KAAMkC,OAAQ,WACtB,CAAElC,KAAM,MAAOkC,OAAQ,WACvB,CAAElC,KAAM,KAAMkC,OAAQ,WACtB,CAAElC,KAAM,KAAMkC,OAAQ,WACtB,CAAElC,KAAM,KAAMkC,OAAQ,SACtB,CAAElC,KAAM,KAAMkC,OAAQ;;AC7DlC1E,OAAOC,QAAU,WAAM,OAAA,SAAC0E,EAAUC,GAE1BC,IAAAA,EAEG,OAAA,WACCA,GAAWC,aAAaD,GAC5BA,EAAYE,WAAW,WAAQJ,IAAYE,EAAY,MAASD;;ACNxE5E,OAAOC,QAAU,WAAM,OAAA,SAAA+E,GAAaA,OAAAA,EAAUC;;ACA9C,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAAjF,OAAOC,QAAU,WAAM,OAAA,SAAC8B,EAAKmD,GAASA,OAAAA,EAAK3E,OAAO,SAACC,EAAKC,GAAcD,OAAAA,EAAAA,GAAAA,EAAMC,EAAAA,GAAAA,EAAMsB,EAAItB,MAAS;;ACA/FT,OAAOC,QAAU,SAAA,GAAGkF,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAGtB,MAAA,CAAEC,IADG,KAAO,SAAWD,KAAY,GAAK,IAAM,GAAGE,SAAS,KAAKC,OAAO;;ACOjF,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EATAtF,OAAOC,QAAU,WAAM,OAAA,SAACiF,EAAM1D,GAEpB+D,IAAAA,EAAQL,EAAKhE,IAAI,SAAAT,GAAWA,OAAAA,EAAAA,GAAAA,EAAMe,KACjCnB,OAAAA,OAAOyB,OAAPzB,MAAAA,OAAc,CAAA,IAAOkF,OAAAA,EAAAA;;ACkBhC,aAEA,IAOIC,EAPAC,EAAuB,iBAAZC,QAAuBA,QAAU,KAC5CC,EAAeF,GAAwB,mBAAZA,EAAEG,MAC7BH,EAAEG,MACF,SAAsBC,EAAQC,EAAUC,GACjCC,OAAAA,SAASC,UAAUL,MAAMM,KAAKL,EAAQC,EAAUC,IAiB3D,SAASI,EAAmBC,GACtBC,SAAWA,QAAQC,MAAMD,QAAQC,KAAKF,GAb1CZ,EADEC,GAA0B,mBAAdA,EAAEc,QACCd,EAAEc,QACVlG,OAAOmG,sBACC,SAAwBX,GAChCxF,OAAAA,OAAOoG,oBAAoBZ,GAC/Ba,OAAOrG,OAAOmG,sBAAsBX,KAGxB,SAAwBA,GAChCxF,OAAAA,OAAOoG,oBAAoBZ,IAQtC,IAAIc,EAAcC,OAAOC,OAAS,SAAqBC,GAC9CA,OAAAA,GAAUA,GAGnB,SAASC,IACPA,EAAaC,KAAKd,KAAK,MAEzBlG,OAAOC,QAAU8G,EAGjBA,EAAaA,aAAeA,EAE5BA,EAAad,UAAUgB,aAAUC,EACjCH,EAAad,UAAUkB,aAAe,EACtCJ,EAAad,UAAUmB,mBAAgBF,EAIvC,IAAIG,EAAsB,GAoC1B,SAASC,EAAiBC,GACpBA,YAAuBL,IAAvBK,EAAKH,cACAL,EAAaM,oBACfE,EAAKH,cAmDd,SAASI,EAAa3B,EAAQ4B,EAAMC,EAAUC,GACxCC,IAAAA,EACAC,EACAC,EAEA,GAAoB,mBAAbJ,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAqB9FI,QAjBWZ,KADfW,EAAShC,EAAOoB,UAEdY,EAAShC,EAAOoB,QAAU5G,OAAO2H,OAAO,MACxCnC,EAAOsB,aAAe,SAIKD,IAAvBW,EAAOI,cACTpC,EAAOqC,KAAK,cAAeT,EACfC,EAASA,SAAWA,EAASA,SAAWA,GAIpDG,EAAShC,EAAOoB,SAElBa,EAAWD,EAAOJ,SAGHP,IAAbY,EAEFA,EAAWD,EAAOJ,GAAQC,IACxB7B,EAAOsB,kBAeLS,GAboB,mBAAbE,EAETA,EAAWD,EAAOJ,GAChBE,EAAU,CAACD,EAAUI,GAAY,CAACA,EAAUJ,GAErCC,EACTG,EAASK,QAAQT,GAEjBI,EAASM,KAAKV,IAIhBE,EAAIN,EAAiBzB,IACb,GAAKiC,EAASO,OAAST,IAAME,EAASQ,OAAQ,CACpDR,EAASQ,QAAS,EAGdC,IAAAA,EAAI,IAAIC,MAAM,+CACEV,EAASO,OAAS,IAAMI,OAAOhB,GAAQ,qEAG3Dc,EAAE/F,KAAO,8BACT+F,EAAEG,QAAU7C,EACZ0C,EAAEd,KAAOA,EACTc,EAAEI,MAAQb,EAASO,OACnBlC,EAAmBoC,GAIhB1C,OAAAA,EAcT,SAAS+C,IAEF,IADD7C,IAAAA,EAAO,GACF8C,EAAI,EAAGA,EAAIC,UAAUT,OAAQQ,IAAK9C,EAAKqC,KAAKU,UAAUD,IAC1D,KAAKE,QACHlD,KAAAA,OAAOmD,eAAe,KAAKvB,KAAM,KAAKwB,QACtCF,KAAAA,OAAQ,EACbpD,EAAa,KAAK+B,SAAU,KAAK7B,OAAQE,IAI7C,SAASmD,EAAUrD,EAAQ4B,EAAMC,GAC3ByB,IAAAA,EAAQ,CAAEJ,OAAO,EAAOE,YAAQ/B,EAAWrB,OAAQA,EAAQ4B,KAAMA,EAAMC,SAAUA,GACjF0B,EAAUR,EAAYS,KAAKF,GAGxBC,OAFPA,EAAQ1B,SAAWA,EACnByB,EAAMF,OAASG,EACRA,EAgIT,SAASE,EAAWzD,EAAQ4B,EAAM8B,GAC5B1B,IAAAA,EAAShC,EAAOoB,QAEhBY,QAAWX,IAAXW,EACF,MAAO,GAEL2B,IAAAA,EAAa3B,EAAOJ,GACpB+B,YAAetC,IAAfsC,EACK,GAEiB,mBAAfA,EACFD,EAAS,CAACC,EAAW9B,UAAY8B,GAAc,CAACA,GAElDD,EACLE,EAAgBD,GAAcE,EAAWF,EAAYA,EAAWnB,QAoBpE,SAASsB,EAAclC,GACjBI,IAAAA,EAAS,KAAKZ,QAEdY,QAAWX,IAAXW,EAAsB,CACpB2B,IAAAA,EAAa3B,EAAOJ,GAEpB,GAAsB,mBAAf+B,EACF,OAAA,EACF,QAAmBtC,IAAfsC,EACFA,OAAAA,EAAWnB,OAIf,OAAA,EAOT,SAASqB,EAAWtI,EAAKwI,GAElB,IADDC,IAAAA,EAAO,IAAIxH,MAAMuH,GACZf,EAAI,EAAGA,EAAIe,IAAKf,EACvBgB,EAAKhB,GAAKzH,EAAIyH,GACTgB,OAAAA,EAGT,SAASC,EAAUC,EAAMC,GAChBA,KAAAA,EAAQ,EAAID,EAAK1B,OAAQ2B,IAC9BD,EAAKC,GAASD,EAAKC,EAAQ,GAC7BD,EAAKE,MAGP,SAASR,EAAgBrI,GAElB,IADD8I,IAAAA,EAAM,IAAI7H,MAAMjB,EAAIiH,QACfQ,EAAI,EAAGA,EAAIqB,EAAI7B,SAAUQ,EAChCqB,EAAIrB,GAAKzH,EAAIyH,GAAGnB,UAAYtG,EAAIyH,GAE3BqB,OAAAA,EA1XT7J,OAAO8J,eAAepD,EAAc,sBAAuB,CACzDqD,YAAY,EACZC,IAAK,WACIhD,OAAAA,GAETiD,IAAK,SAASC,GACR,GAAe,iBAARA,GAAoBA,EAAM,GAAK5D,EAAY4D,GAC9C,MAAA,IAAIC,WAAW,kGAAoGD,EAAM,KAEjIlD,EAAsBkD,KAI1BxD,EAAaC,KAAO,gBAEGE,IAAjB,KAAKD,SACL,KAAKA,UAAY5G,OAAOoK,eAAe,MAAMxD,UAC1CA,KAAAA,QAAU5G,OAAO2H,OAAO,MACxBb,KAAAA,aAAe,GAGjBC,KAAAA,cAAgB,KAAKA,oBAAiBF,GAK7CH,EAAad,UAAUyE,gBAAkB,SAAyBd,GAC5D,GAAa,iBAANA,GAAkBA,EAAI,GAAKjD,EAAYiD,GAC1C,MAAA,IAAIY,WAAW,gFAAkFZ,EAAI,KAGtG,OADFxC,KAAAA,cAAgBwC,EACd,MAST7C,EAAad,UAAU0E,gBAAkB,WAChCrD,OAAAA,EAAiB,OAG1BP,EAAad,UAAUiC,KAAO,SAAcT,GAErC,IADD1B,IAAAA,EAAO,GACF8C,EAAI,EAAGA,EAAIC,UAAUT,OAAQQ,IAAK9C,EAAKqC,KAAKU,UAAUD,IAC3D+B,IAAAA,EAAoB,UAATnD,EAEXI,EAAS,KAAKZ,QACdY,QAAWX,IAAXW,EACF+C,EAAWA,QAA4B1D,IAAjBW,EAAOgD,WAC1B,IAAKD,EACR,OAAO,EAGLA,GAAAA,EAAS,CACPE,IAAAA,EAGAA,GAFA/E,EAAKsC,OAAS,IAChByC,EAAK/E,EAAK,IACR+E,aAActC,MAGVsC,MAAAA,EAGJC,IAAAA,EAAM,IAAIvC,MAAM,oBAAsBsC,EAAK,KAAOA,EAAGE,QAAU,IAAM,KAEnED,MADNA,EAAIE,QAAUH,EACRC,EAGJG,IAAAA,EAAUrD,EAAOJ,GAEjByD,QAAYhE,IAAZgE,EACF,OAAO,EAEL,GAAmB,mBAAZA,EACTvF,EAAauF,EAAS,KAAMnF,OAExBoF,CAAAA,IAAAA,EAAMD,EAAQ7C,OACd+C,EAAY1B,EAAWwB,EAASC,GAC/B,IAAItC,EAAI,EAAGA,EAAIsC,IAAOtC,EACzBlD,EAAayF,EAAUvC,GAAI,KAAM9C,GAG9B,OAAA,GAmETgB,EAAad,UAAUoF,YAAc,SAAqB5D,EAAMC,GACvDF,OAAAA,EAAa,KAAMC,EAAMC,GAAU,IAG5CX,EAAad,UAAUqF,GAAKvE,EAAad,UAAUoF,YAEnDtE,EAAad,UAAUsF,gBACnB,SAAyB9D,EAAMC,GACtBF,OAAAA,EAAa,KAAMC,EAAMC,GAAU,IAqBhDX,EAAad,UAAUuF,KAAO,SAAc/D,EAAMC,GAC5C,GAAoB,mBAAbA,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAG3F,OADF4D,KAAAA,GAAG7D,EAAMyB,EAAU,KAAMzB,EAAMC,IAC7B,MAGTX,EAAad,UAAUwF,oBACnB,SAA6BhE,EAAMC,GAC7B,GAAoB,mBAAbA,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAG3F,OADF6D,KAAAA,gBAAgB9D,EAAMyB,EAAU,KAAMzB,EAAMC,IAC1C,MAIbX,EAAad,UAAU+C,eACnB,SAAwBvB,EAAMC,GACxBqC,IAAAA,EAAMlC,EAAQ6D,EAAU7C,EAAG8C,EAE3B,GAAoB,mBAAbjE,EACH,MAAA,IAAIK,UAAU,0EAA4EL,GAI9FG,QAAWX,KADfW,EAAS,KAAKZ,SAEZ,OAAO,KAGL8C,QAAS7C,KADb6C,EAAOlC,EAAOJ,IAEZ,OAAO,KAELsC,GAAAA,IAASrC,GAAYqC,EAAKrC,WAAaA,EACb,KAAtB,KAAKP,aACT,KAAKF,QAAU5G,OAAO2H,OAAO,cAEtBH,EAAOJ,GACVI,EAAOmB,gBACT,KAAKd,KAAK,iBAAkBT,EAAMsC,EAAKrC,UAAYA,SAElD,GAAoB,mBAATqC,EAAqB,CAGhClB,IAFL6C,GAAY,EAEP7C,EAAIkB,EAAK1B,OAAS,EAAGQ,GAAK,EAAGA,IAC5BkB,GAAAA,EAAKlB,KAAOnB,GAAYqC,EAAKlB,GAAGnB,WAAaA,EAAU,CACzDiE,EAAmB5B,EAAKlB,GAAGnB,SAC3BgE,EAAW7C,EACX,MAIA6C,GAAAA,EAAW,EACb,OAAO,KAEQ,IAAbA,EACF3B,EAAK6B,QAEL9B,EAAUC,EAAM2B,GAGE,IAAhB3B,EAAK1B,SACPR,EAAOJ,GAAQsC,EAAK,SAEQ7C,IAA1BW,EAAOmB,gBACT,KAAKd,KAAK,iBAAkBT,EAAMkE,GAAoBjE,GAGnD,OAAA,MAGbX,EAAad,UAAU4F,IAAM9E,EAAad,UAAU+C,eAEpDjC,EAAad,UAAU6F,mBACnB,SAA4BrE,GACtB2D,IAAAA,EAAWvD,EAAQgB,EAGnBhB,QAAWX,KADfW,EAAS,KAAKZ,SAEZ,OAAO,KAGLY,QAA0BX,IAA1BW,EAAOmB,eAUF,OATkB,IAArBF,UAAUT,QACPpB,KAAAA,QAAU5G,OAAO2H,OAAO,MACxBb,KAAAA,aAAe,QACMD,IAAjBW,EAAOJ,KACY,KAAtB,KAAKN,aACT,KAAKF,QAAU5G,OAAO2H,OAAO,aAEtBH,EAAOJ,IAEX,KAILqB,GAAqB,IAArBA,UAAUT,OAAc,CACtBnD,IACAzE,EADAyE,EAAO7E,OAAO6E,KAAK2C,GAElBgB,IAAAA,EAAI,EAAGA,EAAI3D,EAAKmD,SAAUQ,EAEjB,oBADZpI,EAAMyE,EAAK2D,KAENiD,KAAAA,mBAAmBrL,GAKnB,OAHFqL,KAAAA,mBAAmB,kBACnB7E,KAAAA,QAAU5G,OAAO2H,OAAO,MACxBb,KAAAA,aAAe,EACb,KAKL,GAAqB,mBAFzBiE,EAAYvD,EAAOJ,IAGZuB,KAAAA,eAAevB,EAAM2D,QACrB,QAAkBlE,IAAdkE,EAEJvC,IAAAA,EAAIuC,EAAU/C,OAAS,EAAGQ,GAAK,EAAGA,IAChCG,KAAAA,eAAevB,EAAM2D,EAAUvC,IAIjC,OAAA,MAoBb9B,EAAad,UAAUmF,UAAY,SAAmB3D,GAC7C6B,OAAAA,EAAW,KAAM7B,GAAM,IAGhCV,EAAad,UAAU8F,aAAe,SAAsBtE,GACnD6B,OAAAA,EAAW,KAAM7B,GAAM,IAGhCV,EAAa4C,cAAgB,SAASjB,EAASjB,GACzC,MAAiC,mBAA1BiB,EAAQiB,cACVjB,EAAQiB,cAAclC,GAEtBkC,EAAczD,KAAKwC,EAASjB,IAIvCV,EAAad,UAAU0D,cAAgBA,EAiBvC5C,EAAad,UAAU+F,WAAa,WAC3B,OAAA,KAAK7E,aAAe,EAAI3B,EAAe,KAAKyB,SAAW;;ACnVhE,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAtFA,IAAMF,EAAekF,QAAQ,UAE7BjM,OAAOC,QAAU,WAAM,OAAA,WAEfiM,IAAAA,EAAS,EACPlC,EAAQ,GACRmC,EAAmB,IAAIpF,EAEvBqF,EAAY,CAAEC,SAAU,cAExBC,EAAO,SAAAC,GAAMvC,OAAAA,EAAMuC,IAAOH,GAY1BI,EAAcC,EAAaN,GAI3BO,EAAS,SAACC,EAAMhI,GAAa,IAAA,EAQbiI,EAPZL,EAAKL,IACL/C,EAAK,EAAA,CAAKoD,GAAAA,GAAOI,GACjBE,EAAa,IAAI9F,EAEjB+F,EAAWC,EAAU5D,EAAO,CAAC0D,EAAYV,IAWzCa,GARYJ,EAQSC,EARO,SAACpM,EAAKiH,GACpCjH,EAAIQ,MAAM,KAAKgM,QAAQ,SAAAxM,GACnBmM,EAAatB,GAAG7K,EAAKiH,KAGzBA,EAASyB,KAONoD,OAHPvC,EAAMuC,IAA6CS,EAAnD,EAAA,CAAc7D,MAAAA,EAAOkD,SAbJ,WAAMlD,OAAAA,GAaQ2D,SAAAA,EAAUE,SAAAA,GAAUA,WAAAA,GAAsBF,EAAAA,EAAAA,aAAAA,GAAzE,GACInI,GAAUA,EAAS4H,GACvBJ,EAAiBjE,KAAK,SAAUqE,GACzBA,GAaJ,MAAA,CACHA,GANO,SAAAA,GAEA,MAAA,CAAES,SADYV,EAAKC,GAAlBS,WAMRE,OAlDW,WAAMZ,OAAAA,EAAKI,EAAO,MAmD7BS,SAvCa,SAAAzF,GAAYyE,OAAAA,EAAiBb,GAAG,SAAU5D,IAwCvDsF,SA7Ca,SAACvM,EAAK8L,EAAI5H,GACvB2H,EAAKC,GAAIS,SAASvM,EAAKkE,IA6CvB6H,YAAAA,EACAY,eAzCmB,SAAA1F,GAAYyE,OAAAA,EAAiBb,GAAG,eAAgB5D,IA0CnEgF,OAAAA,EACAW,OAlBW,SAAAd,GACXJ,EAAiBjE,KAAK,eAAgBqE,UAC/BvC,EAAMuC,IAiBbO,SAtDa,SAACP,EAAIe,GAAYhB,OAAAA,EAAKC,GAAIO,SAASQ,IAuDhDjB,SAxDa,SAAAE,GAAMD,OAAAA,EAAKC,GAAIF,YAyD5BkB,SA1Da,WAAMlN,OAAAA,OAAOmN,OAAOxD,GAAO9I,IAAI,SAAA,GAAkBmL,OAAAA,EAAfA,EAAAA,eA2D/CoB,IAAK,WAAepN,OAAAA,OAAO6E,KAAK8E,OAMxC,IAAM+C,EAAY,SAAC5D,EAAOuE,GAAkB,OAAA,SAAAJ,GACxCjN,OAAOC,QAAQgN,GAASL,QAAQ,SAAgB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAdxM,EAAc,EAAA,GAATe,EAAS,EAAA,GAC5C2H,EAAM1I,GAAOe,EACbkM,EAAcT,QAAQ,SAAAL,GAAgBA,OAAAA,EAAa1E,KAAKzH,EAAK0I,SAM/DsD,EAAe,SAAAG,GAAgB,OAAA,SAAAe,GAEjCtN,OAAOC,QAAQqN,GAAaV,QADb,SAAA,GAAA,IAAA,EAAA,EAAA,EAAA,GAAExM,EAAF,EAAA,GAAOiH,EAAP,EAAA,GAAqBkF,OAAAA,EAAatB,GAAG7K,EAAKiH;;ACvF7D1H,OAAOC,QAAU,WAAM,OAAA,SAAA2N,GAEZA,OAAAA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOtI,MAAM;;ACFzD,IAAMyI,EAAO,OACPC,EAAO,OAEbhO,OAAOC,QAAU,WAAM,OAAA,SAAAgO,GAEdA,EAAcC,UAAUC,SAASJ,IAAOE,EAAcC,UAAUE,IAAIJ,GAEnEK,IAAAA,EAAO,WAAMJ,OAAAA,EAAcC,UAAU9L,QAAQ2L,EAAMC,IACnDM,EAAO,WAAML,OAAAA,EAAcC,UAAU9L,QAAQ4L,EAAMD,IAElD,MAAA,CAAEM,KAAAA,EAAMC,KAAAA,EAAMC,OADN,SAAAC,GAAKA,OAAAA,EAAIH,IAASC;;ACTrC,IAAM5K,EAAWuI,QAAQ,cACnBwC,EAAWxC,QAAQ,eACnByC,EAAOzC,QAAQ,UACf0C,EAAe1C,QAAQ,mBACvB2C,EAAY3C,QAAQ,gBACpB4C,EAAa5C,QAAQ,iBACrB6C,EAAa7C,QAAQ,iBACrB8C,EAAmB9C,QAAQ,uBAG3B+C,EAAM,CACRtL,SAAAA,EACA+K,SAAAA,EACAC,KAAAA,EACAC,aAAAA,EACAC,UAAAA,EACAC,WAAAA,EACAC,WAAAA,EACAC,iBAAAA,GAGJ/O,OAAOC,QAAU+O;;ACrBjB,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAAAhP,OAAOC,QAAU,SAAA,GAAGgP,IAAAA,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,UAAWC,EAAAA,EAAAA,MAAxB,OAAA,WAAA,IAAA,EAAA,EAAoC,mBAAA,KAAA,SAAOC,EAAAA,EAAO/K,GAAd,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAK1B8K,OAHED,EAAAA,EAAUrM,SAA3BC,EAAAA,EAAAA,OAAQC,EAAAA,EAAAA,KACVsM,EAAYJ,EAASpM,SAASyM,UAAUF,GACxCG,EAASzM,GAAAA,OAAAA,EAAiBuM,YAAAA,OAAAA,EAAmBtM,WAAAA,OAAAA,EAAUsB,OAAAA,OAAAA,GAJZ,EAAA,KAAA,EAK1B8K,EAAMI,GALoB,KAAA,EAM1CC,OADDA,EAL2C,EAAA,KAM1CA,EAAAA,OAAAA,SAAAA,EAASC,QANiC,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,SAAA,MAApC,OAAA,SAAA,EAAA,GAAA,OAAA,EAAA,MAAA,KAAA,YAAA;;ACajB,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAbAzP,OAAOC,QAAU,SAAA,GAAGgP,IAAAA,EAAAA,EAAAA,SAAH,OAAA,WAAA,IAAA,EAAA,EAAkB,mBAAA,KAAA,SAAMG,EAAAA,GAAN,IAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAETH,OAFS,EAAA,KAAA,EAETA,EAASpM,SAAS6M,aAAaN,GAFtB,KAAA,EAGxBxM,OADDA,EAFyB,EAAA,KAGxBA,EAAAA,OAAAA,SAAAA,EAAU+M,EAAuB/M,GAAWgN,EAAqBR,IAHzC,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,SAAA,MAAlB,OAAA,SAAA,GAAA,OAAA,EAAA,MAAA,KAAA,YAAA,IAOjB,IAAMO,EAAyB,SAAA/M,GAAWA,OAAAA,EAAQJ,KAAKqN,WAAajN,EAAQkN,aAEtEF,EAAuB,SAAAR,GAASA,OAAAA,EAAMnO,MAAM,KAAK;;ACTvD,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAAAjB,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAWD,EAAAA,EAAAA,SAAUE,EAAAA,EAAAA,MAAxB,OAAA,WAAA,IAAA,EAAA,EAAoC,mBAAA,KAAA,SAAMC,EAAAA,GAAN,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAK1BD,OAHfrM,EAAWoM,EAAUrM,SAArBC,OACFuM,EAAYJ,EAASpM,SAASyM,UAAUF,GACxCG,EAASzM,GAAAA,OAAAA,EAAUuM,KAAAA,OAAAA,EAJwB,SAAA,EAAA,KAAA,EAK1BF,EAAMI,GALoB,KAAA,EAM5CC,IADCA,EAL2C,EAAA,MAMnCO,GANmC,CAAA,EAAA,KAAA,EAAA,MAMxB,OAAA,EAAA,OAAA,SAAA,MANwB,KAAA,EAO9BP,OAP8B,EAAA,KAAA,GAO9BA,EAASQ,OAPqB,KAAA,GAQ1CrD,OADDA,EAP2C,EAAA,KAQ1CA,EAAAA,OAAAA,SAAAA,EAAKsD,MAAM,IAR+B,KAAA,GAAA,IAAA,MAAA,OAAA,EAAA,SAAA,MAApC,OAAA,SAAA,GAAA,OAAA,EAAA,MAAA,KAAA,YAAA;;;ACwRjB,IAAA,GAnQA,SAAA,GACA,aAMA,SAAA,EAAA,EAAA,GACA,IAAA,GAAA,MAAA,IAAA,MAAA,GAEA,OADA,GAAA,KAAA,GAAA,KAAA,GAAA,KACA,GAAA,MAAA,EAaA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,GARA,EAQA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,OARA,EAQA,GAPA,IAAA,GAAA,EAOA,GARA,IAAA,EAAA,EAUA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAAA,GAAA,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,GAMA,SAAA,EAAA,EAAA,GAKA,IAAA,EACA,EACA,EACA,EACA,EAPA,EAAA,GAAA,IAAA,KAAA,EAAA,GACA,EAAA,IAAA,EAAA,KAAA,GAAA,IAAA,EAOA,IAAA,EAAA,WACA,GAAA,UACA,GAAA,WACA,EAAA,UAEA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,GACA,EAAA,EACA,EAAA,EACA,EAAA,EACA,EAAA,EAEA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,OACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,YAGA,EAAA,EAAA,EAFA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,YAEA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YAGA,EAAA,EAAA,EAFA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,YAEA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,QACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,WAGA,EAAA,EAAA,EAFA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WAEA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,SACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,UACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,GAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,IAAA,YACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,WACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,WAEA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,GAEA,MAAA,CAAA,EAAA,EAAA,EAAA,GAMA,SAAA,EAAA,GACA,IAAA,EACA,EAAA,GACA,EAAA,GAAA,EAAA,OACA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,GAAA,OAAA,aAAA,EAAA,GAAA,KAAA,EAAA,GAAA,KAEA,OAAA,EAOA,SAAA,EAAA,GACA,IAAA,EACA,EAAA,GAEA,IADA,GAAA,EAAA,QAAA,GAAA,QAAA,EACA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EACA,EAAA,GAAA,EAEA,IAAA,EAAA,EAAA,EAAA,OACA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,KAAA,IAAA,EAAA,WAAA,EAAA,KAAA,EAAA,GAEA,OAAA,EAkCA,SAAA,EAAA,GACA,IAEA,EACA,EAFA,EAAA,GAGA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,EACA,EAAA,EAAA,WAAA,GACA,GANA,mBAMA,OAAA,IAAA,EAAA,IANA,mBAMA,OAAA,GAAA,GAEA,OAAA,EAMA,SAAA,EAAA,GACA,OAAA,SAAA,mBAAA,IAMA,SAAA,EAAA,GACA,OAnDA,SAAA,GACA,OAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,SAkDA,CAAA,EAAA,IAKA,SAAA,EAAA,EAAA,GACA,OAlDA,SAAA,EAAA,GACA,IAAA,EAIA,EAHA,EAAA,EAAA,GACA,EAAA,GACA,EAAA,GAMA,IAJA,EAAA,IAAA,EAAA,SAAA,EACA,EAAA,OAAA,KACA,EAAA,EAAA,EAAA,EAAA,EAAA,SAEA,EAAA,EAAA,EAAA,GAAA,GAAA,EACA,EAAA,GAAA,UAAA,EAAA,GACA,EAAA,GAAA,WAAA,EAAA,GAGA,OADA,EAAA,EAAA,EAAA,OAAA,EAAA,IAAA,IAAA,EAAA,EAAA,QACA,EAAA,EAAA,EAAA,OAAA,GAAA,MAmCA,CAAA,EAAA,GAAA,EAAA,IAMA,SAAA,EAAA,EAAA,EAAA,GACA,OAAA,EAMA,EAGA,EAAA,EAAA,GAbA,EAAA,EAWA,EAAA,IANA,EAGA,EAAA,GAdA,EAAA,EAYA,IAUA,mBAAA,GAAA,EAAA,IACA,EAAA,WACA,OAAA,IAEA,iBAAA,QAAA,OAAA,QACA,OAAA,QAAA,EAEA,EAAA,IAAA,EAhQA,CAkQA;;ACvRA,IAAMC,EAAMjE,QAAQ,eAEpBjM,OAAOC,QAAU,WAAM,OAAA,SAAAmP,GAASc,OAAAA,EAAId,EAAMjO,OAAOgP;;ACFjD,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAAAnQ,OAAOC,QAAU,SAAA,GAAGgP,IAAAA,EAAAA,EAAAA,SAAH,OAAA,WAAA,IAAA,EAAA,EAAkB,mBAAA,KAAA,SAAOG,EAAAA,EAAO/K,GAAd,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAEC+L,OAFD,EAAA,KAAA,EAECA,QAAQC,IAAI,CACxCpB,EAASpM,SAASyN,UAAUlB,GAC5BH,EAASpM,SAAS0N,WAAWnB,EAAO/K,KAJT,KAAA,EAOxB,OAPwB,EAAA,EAAA,KAAA,EAAA,EAAA,EAAA,GAExB7B,EAFwB,EAAA,GAElBgO,EAFkB,EAAA,GAOxB,EAAA,OAAA,SAAA,CAAEhO,KAAAA,EAAMgO,UAAAA,IAPgB,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,SAAA,MAAlB,OAAA,SAAA,EAAA,GAAA,OAAA,EAAA,MAAA,KAAA,YAAA;;ACAjB,IAAMC,EAAcxE,QAAQ,kBACtByE,EAAazE,QAAQ,iBACrB0E,EAAgB1E,QAAQ,oBACxB2E,EAAa3E,QAAQ,iBACrB4E,EAAoB5E,QAAQ,0BAG5BpJ,EAAW,CACb4N,YAAAA,EACAC,WAAAA,EACAC,cAAAA,EACAC,WAAAA,EACAC,kBAAAA,GAGJ7Q,OAAOC,QAAU4C;;ACfjB,IAAMA,EAAWoJ,QAAQ,cAGnBgD,EAAW,CACbpM,SAAAA,GAGJ7C,OAAOC,QAAUgP;;ACPjBjP,OAAOC,QAAU,SAAa,GAAV+O,IAERH,EAFQG,EAAAA,IAERH,WAED,MAAA,CACHtM,IAAKsM,IAAa3B,SAClBjK,QAAS4L,IAAa3B,SACtBrK,SAAUgM,IAAa3B,SACvBzI,MAAOoK,IACPiC,KAAMjC,IACNkC,aAAclC;;ACVtB7O,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAAC,GAAU,OAAA,WAEjCC,IACA5D,EAAU,CAAE6D,SADLH,EAAOvM,MAAM4H,SAAS4E,GACFzO,MAGjCwO,EAAOD,aAAaxD,WAAW6D,OAFb,SAAAC,GAAYA,OAAAA,EAASJ,SAAWA,IAEDhE,QAD7B,SAAAoE,GAAYL,OAAAA,EAAOD,aAAajE,SAASuE,EAAS9E,GAAIe;;ACL9EtN,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,WAAC9O,IAAAA,EAAO,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAE/CA,EAAOA,EAAKrB,OACNoQ,IAAAA,EAAU,IAAIC,OAAWhP,IAAAA,OAAAA,EAAS,KAAA,KAClCiP,EAAeT,EAAOvM,MAAM8I,WAAWjB,KAAK,SAAA4E,GAAQK,OAAAA,EAAQrP,KAAKgP,EAAK1O,QACrEiP,OAAAA,EAAeA,EAAalF,GAAK+E,EAAS7M,MAAMiN,WAAW,CAAElP,KAAAA;;ACLxE,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAAxC,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,SAAAK,GAEtCrE,IAAAA,EAAU,CACZ9K,KAAMmP,EAASnP,KAAKrB,OAAO2M,cAC3BpJ,OAAQiN,EAASjN,QAAUsK,EAAIL,eAAevJ,KAG3C4L,OAAAA,EAAOvM,MAAMiI,OAAYiF,EAAAA,GAAAA,EAAarE,GAAW,SAAA2D,GAGnCD,EAAOvM,MAAM4H,SAAS4E,GAA/BzO,KAFiBwO,EAAOvM,MAAM8H,GAAG0E,GAAQjE,SAAS,OAAQsE,EAAS7M,MAAMmN,kBAAkBX,IACxED,EAAOzO,IAAIuK,SAAS,CAAE/I,UAAWkN;;ACTpEjR,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAENA,EAAO/N,QAAQoJ,WAA9BwF,WAAeb,IACfjN,EAAciN,EAAOzO,IAAI8J,WAAzBtI,UAEFU,EAAQuM,EAAOvM,MAAM8I,WAAW6D,OAAO,SAAAF,GAAQA,OAAAA,EAAK3E,KAAOxI,IAE3D+N,EAAUd,EAAOvM,MAAM4H,SAAStI,GAE/BgO,OADatN,EACDiC,OAAOoL;;ACT9B,IAAME,EAAqB/F,QAAQ,0BAC7BgG,EAA2BhG,QAAQ,mCACnCyF,EAAazF,QAAQ,iBACrBiG,EAAYjG,QAAQ,gBAGpBxH,EAAQ,CACVuN,mBAAAA,EACAC,yBAAAA,EACAP,WAAAA,EACAQ,UAAAA,GAGJlS,OAAOC,QAAUwE;;ACbjB,IAAMF,EAAS,CACX4N,MAAO,QACPC,QAAS,UACTvH,MAAO,SAGX7K,OAAOC,QAAU,SAAgB,GAAb+Q,IAAAA,EAAAA,EAAAA,OAEVqB,EAAW,SAAA9N,GAAU,OAAA,WAAMyM,OAAAA,EAAOnO,SAASwJ,WAAW9H,SAAWA,IAkBhE,MAAA,CAAE+N,QAhBOD,EAAS9N,EAAO4N,OAgBdI,UAfAF,EAAS9N,EAAO6N,SAeLI,QAdbH,EAAS9N,EAAOsG,OAcMsH,MAZxB,WACVnB,EAAOnO,SAASiK,SAAS,CAAEvI,OAAQA,EAAO4N,MAAO7N,SAAU,GAAIE,aAAc,MAWpC4N,QAR7B,WACZpB,EAAOnO,SAASiK,SAAS,CAAEvI,OAAQA,EAAO6N,WAOQvH,MAJxC,SAAArG,GACVwM,EAAOnO,SAASiK,SAAS,CAAEvI,OAAQA,EAAOsG,MAAOrG,aAAAA;;ACvBzDxE,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAW8B,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,WAElDA,EAASnI,MAAMsJ,KAAKvD,EAAUrL,cAG9BqL,EAAUjM,QAAQC,MAAM+J,QAAQ,SAAAyF,GAC5B1B,EAAO/N,QAAQ+J,SAAS0F,EAAMpB,EAASR,KAAKnN;;ACNpD,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA3D,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,SAAAnI,GAEjCwJ,IAAAA,EAAe,CACjBlO,MAAO,SAAAA,GAASA,OAAAA,EAAMwI,QAAQqE,EAAS7M,MAAMiN,cAIjDrR,OAAOC,QAAQ6I,GAAO8D,QAAQ,SAAkB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAhBxM,EAAgB,EAAA,GAAX0I,EAAW,EAAA,IACzBwJ,EAAalS,IAAQuQ,EAAOvQ,GAAKmS,YACzCzJ;;ACTnB,IAAMtG,EAAWoJ,QAAQ,cACnB2G,EAAa3G,QAAQ,gBACrBwG,EAAOxG,QAAQ,UAGf9C,EAAQ,CACVtG,SAAAA,EACA+P,WAAAA,EACAH,KAAAA,GAGJzS,OAAOC,QAAUkJ;;ACXjB,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAAnJ,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAA6B,GAErBC,IAAAA,EAAgBD,EAAhBC,MAAOJ,EAASG,EAATH,KACTK,EAAM/B,EAAOF,KAAKzE,SAASyG,GACzBtQ,EAAiBuQ,EAAjBvQ,KAAMyO,EAAW8B,EAAX9B,OAER3D,EAAU,CAAE9K,KAAAA,EAAMyO,OAAAA,EAAQE,SADLH,EAAOvM,MAAM4H,SAAS4E,GAAzCzO,MAcDwQ,OADYhC,EAAOD,aAAarE,OAAYmG,EAAAA,GAAAA,EAAiBvF,GAVnD,SAAA0F,GAIbhC,EAAOF,KAAKhE,SAASgG,EAArB,EAAA,CACIG,UAAWF,EAAIE,UAAUvM,OAAOsM,IAC/BN,EAAOK,EAAIL,GAAMhM,OAAOsM;;ACdrChT,OAAOC,QAAU,WAAM,OAAA,SAAAiT,GAEZA,OAAAA,EAASC,MAAM,eAAe,GAAGlS,MAAM,KAAK,GAAGA,MAAM,KAAKC,IAAI,SAAAkS,GAAKA,OAAAA,EAAEjS;;ACQhF,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAVAnB,OAAOC,QAAU,WAAM,OAAA,SAAC6Q,EAAMuC,GAEnBvC,OAAAA,EAAKwC,QAAQ,SAAAP,GACT1S,OAAAA,OAAOC,QAAQ+S,GAAYC,QAAQ,SAAmB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAjBZ,EAAiB,EAAA,GAAX/J,EAAW,EAAA,GAClD4K,OAAAA,EAAK,CAAER,IAAAA,EAAKL,KAAAA,EAAM/J,MAAAA,UAMrC,IAAM4K,EAAO,SAA0B,GAAvBR,IAAAA,EAAAA,EAAAA,IAAKL,EAAAA,EAAAA,KAEXc,EAFiB7K,EAAAA,MAEFoK,EAAIL,GAAMrK,OAUxBmL,OAAAA,EAAQA,EAAO,EAPX,CAAE9G,OAAQrK,MAAMmR,GAAMC,KAAK,CAAEX,MAAOC,EAAIxG,GAAImG,KAAAA,KAI5C,CAAErF,OAAQ0F,EAAIL,GAAMpN,MAAMkO,IAGoB;;ACtB7DxT,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAA8B,GAAS,OAAA,WAER9B,IAAAA,EAAAA,EAAOF,KAAKzE,SAASyG,GAA3C7B,EAAAA,EAAAA,OAAQgC,EAAAA,EAAAA,UAEV3F,EAAU,CAAE2D,OAAAA,EAAQE,SADCH,EAAOvM,MAAM4H,SAAS4E,GAAzCzO,MAERyQ,EAAUhG,QAAQ,SAAAV,GAAMyE,OAAAA,EAAOD,aAAajE,SAASP,EAAIe;;ACL7DtN,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAA8B,GAAS,OAAA,WAEV9B,IAAAA,EAAAA,EAAOF,KAAKzE,SAASyG,GAAzCtQ,EAAAA,EAAAA,KAAMyQ,EAAAA,EAAAA,UACR3F,EAAU,CAAE9K,KAAAA,GAClByQ,EAAUhG,QAAQ,SAAAV,GAAMyE,OAAAA,EAAOD,aAAajE,SAASP,EAAIe;;ACJ7D,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAAtN,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAAgC,GAELhC,IAAAA,EAAAA,EAAOD,aAAa1E,SAAS2G,GAA7CF,EAAAA,EAAAA,MAAOJ,EAAAA,EAAAA,KACTK,EAAM/B,EAAOF,KAAKzE,SAASyG,GAE3BY,EAAkB,SAAAnH,GAAMA,OAAAA,IAAOyG,GAErChC,EAAOF,KAAKhE,SAASgG,EAArB,EAAA,CACIG,UAAWF,EAAIE,UAAU7B,OAAOsC,IAC/BhB,EAAOK,EAAIL,GAAMtB,OAAOsC,KAG7B1C,EAAOD,aAAa1D,OAAO2F;;ACZ/BhT,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAW8B,EAAAA,EAAAA,OAAa,OAAA,SAAAF,GAEjCA,OAAAA,EAAKwC,QAAQ,SAAAP,GACT7D,OAAAA,EAAUjM,QAAQC,MAAMoQ,QAAQ,SAAAZ,GAC5BK,OAAAA,EAAIL,GAAMxR,IAAI,SAAA8R,GAAchC,OAAAA,EAAOD,aAAa1E,SAAS2G;;ACJ5EhT,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEtBA,OAAAA,EAAOF,KAAKvD,WAAWoG,KAAK,SAACC,EAAGpF,GAC5BoF,OAAAA,EAAEpR,KAAKqR,cAAcrF,EAAEhM;;ACHtCxC,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEtBA,OAAAA,EAAOF,KAAKvD,WAAWoG,KAAK,SAACC,EAAGpF,GACPwC,IAAd8C,EAAc9C,EAAOvM,MAAM4H,SAASuH,EAAE3C,QAA5CzO,KACMuR,EAAc/C,EAAOvM,MAAM4H,SAASmC,EAAEyC,QAA5CzO,KACFwR,EAAiBF,EAAUD,cAAcE,GACzCE,EAAiBL,EAAEpR,KAAKqR,cAAcrF,EAAEhM,MACvCwR,OAAAA,GAAkBC;;ACPjC,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAAjU,OAAOC,QAAU,SAA0C,GAAvCiP,IAAAA,EAAAA,EAAAA,UAAWF,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAgBjCtC,OAAAA,EAAItL,SAdkB,WAC+C4N,IAAAA,EAAAA,EAASR,KAAzEoD,EAAAA,EAAAA,4BAA6BC,EAAAA,EAAAA,eAAgBC,EAAAA,EAAAA,eAIvCF,EAFDlD,EAAOF,KAAKvD,WACNyB,EAAIN,KAAKsC,EAAO/N,QAAQoJ,WAAY6C,EAAUjM,QAAQC,QAGnE+J,QAAQ,SAAAsG,IACVA,EAAI,EAAA,CAAK7G,OAAQ,GAAIW,OAAQ,IAAOkG,IAC/B7G,OAAOO,QAAQkH,GACpBZ,EAAKlG,OAAOJ,QAAQmH,MAIclF,EAAUxL,SAASC;;AChBjE,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAAA3D,OAAOC,QAAU,SAAA,GAAGgP,IAAAA,EAAAA,EAAAA,SAAU+B,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAU+C,EAAAA,EAAAA,IAA/B,OAAA,EAAyC,mBAAA,KAAA,SAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EAe5CjE,OAbqBY,EAAAA,EAAOnO,SAASwJ,WAAvC/H,EAAAA,EAAAA,SAAUD,EAAAA,EAAAA,SAEZiQ,EAAShQ,EAASrD,MAAM,cAAcC,IAAI,SAAAkS,GAAKA,OAAAA,EAAEjS,SAAQiQ,OAAO,SAAAgC,GAAKA,OAAAA,IAE3E9B,EAASnI,MAAMtG,SAASuP,UAElBmC,EAAWD,EAAOpT,IAAP,WAAA,IAAA,EAAA,EAAW,mBAAA,KAAA,SAAMkO,EAAAA,GAAN,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EACUH,OADV,EAAA,KAAA,EACUA,EAASpM,SAASgO,kBAAkBzB,EAAO/K,GADrD,KAAA,EAAA,EAAA,EAAA,KAChB7B,EAAAA,EAAAA,KAAMgO,EAAAA,EAAAA,UACRgE,EAAQH,EAAII,gBAAgBjE,GAClCc,EAASR,KAAK4D,UAAU,CAAElS,KAAAA,EAAMgS,MAAAA,IAHR,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,SAAA,MAAX,OAAA,SAAA,GAAA,OAAA,EAAA,MAAA,KAAA,YAAA,IARqC,EAAA,KAAA,EAAA,EAAA,KAAA,EAe5CpE,QAAQC,IAAIkE,GAfgC,KAAA,EAiB3C,OADPjD,EAASnI,MAAMtG,SAASsP,QACjB,EAAA,OAAA,UAAA,GAjB2C,KAAA,GAsB3C,OAtB2C,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,MAAA,GAmBlD9L,QAAQwE,MAAR,EAAA,IACqB,iEACrByG,EAASnI,MAAMtG,SAASgI,MADH,kEAEd,EAAA,OAAA,UAAA,GAtB2C,KAAA,GAAA,IAAA,MAAA,OAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA,EAAA;;ACE1D,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA7K,OAAOC,QAAU,SAAA,GAAGqR,IAAAA,EAAAA,EAAAA,SAAe,OAAA,WAAM,OAAA,SAAAqD,GASjC,GAACA,EAAUlN,KAAKmN,WAAW,UAA3B,CACqBtD,IAVyB,EAAA,EAUzBA,EAASR,KAAK+D,cAAcF,EAAUnS,MAVb,GAU3CA,EAV2C,EAAA,GAUrC2O,EAVqC,EAAA,GAW5C2D,EAAS,IAAIC,OAAOC,WAC1BF,EAAOG,OAVY,SAACzS,EAAM2O,GAAa,OAAA,SAAA+D,GAC7BV,IAAAA,EAAQU,EAAErP,OAAOsP,OACjBlE,EAASK,EAAS7M,MAAMwN,yBAAyBd,GACjD4B,EAAM,CAAEvQ,KAAAA,EAAMyO,OAAAA,EAAQuD,MAAAA,GAC5BlD,EAASR,KAAK4D,UAAU3B,IAMZqC,CAAW5S,EAAM2O,GAEjC2D,EAAOO,cAAcV;;AChBzB,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,OAAA,KAAA,GAAA,mBAAA,OAAA,wBAAA,EAAA,EAAA,OAAA,OAAA,sBAAA,GAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,eAAA,EAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAA3U,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKE,EAAAA,EAAAA,UAAW8B,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,SAAAgE,GAEjDhI,IAAAA,EAAO,EAAA,CACT9K,KAAMwM,EAAIF,YAAYwG,EAAQ9S,MAAQ,IAAIrB,QAC1C8P,OAAQqE,EAAQrE,QAAUD,EAAOzO,IAAI8J,WAAWtI,UAChDkP,UAAW,IACRjE,EAAIJ,UAAUM,EAAUjM,QAAQC,MAAO,KAWvC4P,OARO9B,EAAOF,KAAKpE,OAAY4I,EAAAA,GAAAA,EAAYhI,GAAW,SAAAwF,GAEzD9B,EAAOF,KAAKvE,GAAGuG,GAAO9F,SAAS,OAAQsE,EAASR,KAAKyE,iBAAiBzC,IACtE9B,EAAOF,KAAKvE,GAAGuG,GAAO9F,SAAS,SAAUsE,EAASR,KAAK0E,gBAAgB1C,IACvExB,EAASR,KAAKnN;;ACbtB3D,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,WAEwCA,IAAAA,EAAAA,EAASR,KAAhF2E,EAAAA,EAAAA,uBAAwBC,EAAAA,EAAAA,eAAgBC,EAAAA,EAAAA,2BACxC3R,EAAiBgN,EAAO/N,QAAQoJ,WAAhCrI,aAUD2R,OAAAA,EARK,CACRC,WAAY5E,EAAOF,KAAKvD,SACxBsI,aAAcJ,EACdjT,KAAMkT,GAGO1R;;ACXrB,IAAM8R,EAAkB7J,QAAQ,sBAC1B8J,EAAiB9J,QAAQ,qBACzB+J,EAA+B/J,QAAQ,qCACvCgK,EAAmBhK,QAAQ,wBAC3BiK,EAAoBjK,QAAQ,yBAC5BkK,EAAkBlK,QAAQ,sBAC1BmK,EAA8BnK,QAAQ,sCACtCoK,EAAkBpK,QAAQ,wBAC1BqK,EAA0BrK,QAAQ,kCAClCtI,EAAuBsI,QAAQ,4BAC/BsK,EAAiBtK,QAAQ,qBACzBuK,EAAcvK,QAAQ,kBACtByI,EAAYzI,QAAQ,gBACpBwK,EAAgBxK,QAAQ,oBAGxB6E,EAAO,CACTgF,gBAAAA,EACAC,eAAAA,EACAC,6BAAAA,EACAC,iBAAAA,EACAC,kBAAAA,EACAC,gBAAAA,EACAC,4BAAAA,EACAC,gBAAAA,EACAC,wBAAAA,EACA3S,qBAAAA,EACA4S,eAAAA,EACAC,YAAAA,EACA9B,UAAAA,EACA+B,cAAAA,GAGJzW,OAAOC,QAAU6Q;;ACjCjB,IAAMrM,EAAQwH,QAAQ,WAChB9C,EAAQ8C,QAAQ,WAChB6E,EAAO7E,QAAQ,UAGfqF,EAAW,CACb7M,MAAAA,EACA0E,MAAAA,EACA2H,KAAAA,GAGJ9Q,OAAOC,QAAUqR;;ACoSFoF,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA7SfjO,OAAOxC,UAAU2O,WAAcnM,OAAOxC,UAAU2O,YAAc,SAAS+B,GAAoB,OAAyB,IAAzB,KAAKC,QAAQD,IACxGlO,OAAOxC,UAAU4Q,SAAcpO,OAAOxC,UAAU4Q,UAAc,SAAS1L,EAAK2L,GAAW/V,IAAAA,EAAM,KAAYA,KAAAA,EAAIsH,OAAS8C,GAAOpK,EAAM+V,EAAM/V,EAAeA,OAAAA,GAoBxJ,MAAMgW,EAAa,CAAEC,UAAU,UAAWC,aAAa,UAAWC,KAAK,UAAWC,WAAW,UAAWC,MAAM,UAAWC,MAAM,UAAWC,OAAO,UAAWC,MAAM,UAAWC,eAAe,UAAWC,KAAK,UAAWC,WAAW,UAAWC,MAAM,UAAWC,UAAU,UAAWC,UAAU,UAAWC,WAAW,UAAWC,UAAU,UAAWC,MAAM,UAAWC,eAAe,UAAWC,SAAS,UAAWC,QAAQ,UAAWC,KAAK,UAAWC,SAAS,UAAWC,SAAS,UAAWC,cAAc,UAAWC,SAAS,UAAWC,UAAU,UAAWC,SAAS,UAAWC,UAAU,UAAWC,YAAY,UAAWC,eAAe,UAAWC,WAAW,UAAWC,WAAW,UAAWC,QAAQ,UAAWC,WAAW,UAAWC,aAAa,UAAWC,cAAc,UAAWC,cAAc,UAAWC,cAAc,UAAWC,cAAc,UAAWC,WAAW,UAAWC,SAAS,UAAWC,YAAY,UAAWC,QAAQ,UAAWC,QAAQ,UAAWC,WAAW,UAAWC,UAAU,UAAWC,YAAY,UAAWC,YAAY,UAAWC,QAAQ,UAAWC,UAAU,UAAWC,WAAW,UAAWC,KAAK,UAAWC,UAAU,UAAWC,KAAK,UAAWC,MAAM,UAAWC,YAAY,UAAWC,KAAK,UAAWC,SAAS,UAAWC,QAAQ,UAAWC,UAAU,UAAWC,OAAO,UAAWC,MAAM,UAAWC,MAAM,UAAWC,SAAS,UAAWC,cAAc,UAAWC,UAAU,UAAWC,aAAa,UAAWC,UAAU,UAAWC,WAAW,UAAWC,UAAU,UAAWC,qBAAqB,UAAWC,UAAU,UAAWC,WAAW,UAAWC,UAAU,UAAWC,UAAU,UAAWC,YAAY,UAAWC,cAAc,UAAWC,aAAa,UAAWC,eAAe,UAAWC,eAAe,UAAWC,eAAe,UAAWC,YAAY,UAAWC,KAAK,UAAWC,UAAU,UAAWC,MAAM,UAAWC,QAAQ,UAAWC,OAAO,UAAWC,iBAAiB,UAAWC,WAAW,UAAWC,aAAa,UAAWC,aAAa,UAAWC,eAAe,UAAWC,gBAAgB,UAAWC,kBAAkB,UAAWC,gBAAgB,UAAWC,gBAAgB,UAAWC,aAAa,UAAWC,UAAU,UAAWC,UAAU,UAAWC,SAAS,UAAWC,YAAY,UAAWC,KAAK,UAAWC,QAAQ,UAAWC,MAAM,UAAWC,UAAU,UAAWC,OAAO,UAAWC,UAAU,UAAWC,OAAO,UAAWC,cAAc,UAAWC,UAAU,UAAWC,cAAc,UAAWC,cAAc,UAAWC,WAAW,UAAWC,UAAU,UAAWC,KAAK,UAAWC,KAAK,UAAWC,KAAK,UAAWC,WAAW,UAAWC,OAAO,UAAWC,cAAc,UAAWC,IAAI,UAAWC,UAAU,UAAWC,UAAU,UAAWC,YAAY,UAAWC,OAAO,UAAWC,WAAW,UAAWC,SAAS,UAAWC,SAAS,UAAWC,OAAO,UAAWC,OAAO,UAAWC,QAAQ,UAAWC,UAAU,UAAWC,UAAU,UAAWC,UAAU,UAAWC,KAAK,UAAWC,YAAY,UAAWC,UAAU,UAAWC,IAAI,UAAWC,KAAK,UAAWC,QAAQ,UAAWC,OAAO,UAAWC,UAAU,UAAWC,OAAO,UAAWC,MAAM,UAAWC,MAAM,UAAWC,WAAW,UAAWC,OAAO,UAAWC,YAAY,WAGpiG,SAASC,EAASC,EAAKC,EAAO,GAGtBvf,OAFMuf,EAAO,EAAKD,EAAIE,QAAQD,GAAMle,QAAQ,MAAO,IAAIA,QAAQ,MAAO,IACpDie,EAAIhb,aACf,IAIf,MAAMqR,EAEL8J,YAAYC,EAAGC,EAAGlS,EAAGoF,GAERrM,MAAAA,EAAO,KAsCfkZ,QAAMvZ,IAANuZ,QAKC,GAAIpe,MAAMhB,QAAQof,GACjBE,KAAAA,KAAOF,OAIR,QAAUvZ,IAANsH,EAAkB,CACpBoS,MAAAA,EAAQH,GAAM,GAAKA,EACtBG,GAjDKC,SAAYC,GAKhBA,GAAAA,EAAMlM,WAAW,OAAS,CACzB,IAACmM,EAAG3N,EAAG4N,EAAGpN,GAAKkN,EAAM3N,MAAM,iBAAiBjS,IAAI0F,aAC3CM,IAAN0M,IAAmBA,EAAI,GAE1BmN,GAAK,IACL3N,GAAK,IACL4N,GAAK,IACLzZ,EAAK0Z,KAAO,CAACF,EAAG3N,EAAG4N,EAAGpN,QAMlB,GAAIkN,EAAMlM,WAAW,OAAS,CAC9B,IAAC6L,EAAGC,EAAGlS,EAAGoF,GAAKkN,EAAM3N,MAAM,iBAAiBjS,IAAI0F,aAC3CM,IAAN0M,IAAmBA,EAAI,GAE1BrM,EAAKoZ,KAAO,CAACF,EAAGC,EAAGlS,EAAGoF,QAKlBkN,EAAMlM,WAAW,KACpBrN,EAAKoZ,KAAOjK,EAAMwK,SAASJ,GAG3BvZ,EAAKoZ,KAAOjK,EAAMyK,UAAUL,IAAUpK,EAAMwK,SAASJ,GAmBtDD,CAAYD,EAAMzQ,oBAKdwQ,KAAAA,KAAO,CAACF,EAAGC,EAAGlS,OAAUtH,IAAN0M,EAAmB,EAAIA,GAO5C+M,WACA,GAAA,KAAKS,MAAgB,OAAA,KAAKA,MAC1B,IAAC,KAAKC,MAAe,MAAA,IAAI7Y,MAAM,mBAE1B,OAAA,KAAK4Y,MAAQ1K,EAAM4K,SAAS,KAAKD,OAEtCV,SAAKY,GACU,IAAfA,EAAIlZ,SAAgBkZ,EAAI,GAAK,GAE3BH,KAAAA,MAAQG,EACRF,KAAAA,MAAQ,KAGdG,SAASC,GACFF,MACHG,GADSD,EAAQ,KAAKd,KAAO,KAAKA,KAAKrb,MAAM,EAAG,IACrCpE,IAAI,CAACygB,EAAG9Y,IAAMuX,EAASuB,EAAU,IAAN9Y,EAAW,EAAI,IAEjD4Y,OAAAA,UAAiBC,YAAmBA,KAExCE,gBAAsB,OAAA,KAAKJ,WAC3BK,iBAAsB,OAAA,KAAKL,UAAS,GAKpCP,WACA,GAAA,KAAKI,MAAgB,OAAA,KAAKA,MAC1B,IAAC,KAAKD,MAAe,MAAA,IAAI5Y,MAAM,mBAE1B,OAAA,KAAK6Y,MAAQ3K,EAAMoL,SAAS,KAAKV,OAEtCH,SAAKc,GACU,IAAfA,EAAI1Z,SAAgB0Z,EAAI,GAAK,GAE3BV,KAAAA,MAAQU,EACRX,KAAAA,MAAQ,KAGdY,SAASP,GACFQ,MAAAA,EAAQ,CAAC,IAAK,IAAK,IAAK,GAC3BC,EAAQ,CAAC,GAAI,IAAK,IAAK,IAKvBR,GAHSD,EAAQ,KAAKR,KAAO,KAAKA,KAAK3b,MAAM,EAAG,IAGrCpE,IAAI,CAACygB,EAAG9Y,IAAMuX,EAASuB,EAAIM,EAAMpZ,GAAW,IAANA,EAAW,EAAI,GAAKqZ,EAAKrZ,IAEtE4Y,OAAAA,UAAiBC,YAAmBA,KAExCS,gBAAsB,OAAA,KAAKH,WAC3BI,iBAAsB,OAAA,KAAKJ,UAAS,GAKpC5c,UAKI,MAAA,IAJK,KAAKub,KACJzf,IAAI,CAACygB,EAAG9Y,IAAOA,EAAI,EAAK8Y,EAAEtc,SAAS,IACnCgd,KAAKC,MAAU,IAAJX,GAAStc,SAAS,KAEzBnE,IAAIygB,GAAKA,EAAE9K,SAAS,EAAG,MAAM0L,KAAK,IAEhDnd,QAAIA,GACFub,KAAAA,KAAOjK,EAAMwK,SAAS9b,GAG5Bod,SAASf,GACFrc,MAAAA,EAAM,KAAKA,IACVqc,OAAAA,EAAQrc,EAAMA,EAAIqd,UAAU,EAAG,GAU7BvB,gBAASJ,GAEZ1b,MAAAA,GAAO0b,EAAMlM,WAAW,KAAOkM,EAAMxb,MAAM,GAAKwb,GACpD1e,QAAQ,YAAsB,OAC9BA,QAAQ,qBAAsB,oBAC9BA,QAAQ,YAAsB,QAE7B,IAACgD,EAAI+N,MAAM,sBAA+B,MAAA,IAAI3K,MAAM,sBAAwBsY,GAEzEH,MAAAA,EAAOvb,EACX+N,MAAM,8BAA8B7N,MAAM,GAC1CpE,IAAIygB,GAAKe,SAASf,EAAG,KAGhBhB,OADPA,EAAK,GAAKA,EAAK,GAAG,IACXA,EAODQ,iBAAUL,GAcV1b,MAAAA,EAAM2R,EAAW+J,GACpB1b,GAAAA,EACKsR,OAAAA,EAAMwK,SAAS9b,GAad0c,iBAAUrB,EAAGC,EAAGlS,EAAGoF,IAEtB6M,GAAK,IACLC,GAAK,IACLlS,GAAK,IAEClL,MAAAA,EAAM+e,KAAK/e,IAAImd,EAAGC,EAAGlS,GACxBnL,EAAMgf,KAAKhf,IAAIod,EAAGC,EAAGlS,GACpBuS,IAAAA,EACH3N,EACA4N,GAAK1d,EAAMD,GAAO,EAEhBC,GAAAA,IAAQD,EACV0d,EAAI3N,EAAI,MAEP,CACKuP,MAAAA,EAAIrf,EAAMD,EAGTC,OAFP8P,EAAK4N,EAAI,GAAO2B,GAAK,EAAIrf,EAAMD,GACxBsf,GAAKrf,EAAMD,GACXC,GACEmd,KAAAA,EAAGM,GAAKL,EAAIlS,GAAKmU,GAAKjC,EAAIlS,EAAI,EAAI,GAAI,MACtCkS,KAAAA,EAAGK,GAAKvS,EAAIiS,GAAKkC,EAAI,EAAG,MACxBnU,KAAAA,EAAGuS,GAAKN,EAAIC,GAAKiC,EAAI,EAG9B5B,GAAK,EAGC,MAAA,CAACA,EAAG3N,EAAG4N,EAAGpN,GAYd0N,iBAAUP,EAAG3N,EAAG4N,EAAGpN,IAExB6M,IAAAA,EAAGC,EAAGlS,EAEN4E,GAAM,IAANA,EACHqN,EAAIC,EAAIlS,EAAIwS,MAER,CACE4B,MAAAA,EAAU,SAASC,EAAGC,EAAGC,GAG1BA,OAFAA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAUF,EAAc,GAATC,EAAID,GAASE,EAClCA,EAAI,GAAYD,EAChBC,EAAI,EAAE,EAAUF,GAAKC,EAAID,IAAM,EAAE,EAAIE,GAAK,EACvCF,GAGFC,EAAK9B,EAAI,GAAOA,GAAK,EAAI5N,GACxB4N,EAAI5N,EAAK4N,EAAI5N,EACjByP,EAAK,EAAI7B,EAAK8B,EAEjBrC,EAAImC,EAAQC,EAAGC,EAAG/B,EAAI,EAAE,GACxBL,EAAIkC,EAAQC,EAAGC,EAAG/B,GAClBvS,EAAIoU,EAAQC,EAAGC,EAAG/B,EAAI,EAAE,GAGnBJ,MAAAA,EAAO,CAAK,IAAJF,EAAa,IAAJC,EAAa,IAAJlS,GAAStN,IAAImhB,KAAKC,OAG3C3B,OAFPA,EAAK,GAAK/M,EAEH+M,GAMMjK,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC5EAsM,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAnOf,MAAMC,EAAOlO,OAGb,SAASiO,EAAY/f,GAMXigB,MAAAA,EAAKC,QAAQld,UACdid,EAAGE,UACHF,EAAGE,QAAUF,EAAGG,mBAAqBH,EAAGI,uBACxCJ,EAAGK,UACHL,EAAGK,QAAU,SAASnQ,GACfoQ,IAAAA,EAAO,KACR,EAAA,CACIA,GAAAA,EAAKJ,QAAQhQ,GAAI,OAAOoQ,EAE3BA,EAAyB,QAAjBA,EAAKC,QAAqBD,EAAKE,WAAaF,EAAKG,oBACrDH,GAED,OAAA,OAKTI,MAAAA,GADN3gB,EAAUA,GAAW,IACK2gB,WAAaC,SAASC,gBAC1CC,EAAW9gB,EAAQ8gB,SAEnBpf,EAAW1B,EAAQ0B,UAAY0B,QAAQ2d,IACvCC,EAAgBhhB,EAAQihB,kBACxBC,EAAclhB,EAAQmhB,gBAGtBC,EAAgBphB,EAAQohB,cACxBC,EAAYrhB,EAAQshB,gBAEpBC,GAAuC,IAAxBvhB,EAAQuhB,YACvBC,GAAuC,IAAxBxhB,EAAQwhB,YAEvBC,EAAezhB,EAAQyhB,eAA0C,IAAzBzhB,EAAQyhB,aAGlDC,IAUAC,EAVAD,EAAiB,KACdD,OAAAA,GACE,IAAA,SACDC,GAAiB,EAAM,MACtB,IAAA,UACA,IAAA,WACDA,GAAiB,EAMhBE,SAAAA,EAAY3P,EAAG4P,EAAKC,EAAQC,GAC7BrD,IAAAA,EAAIzM,EAAE+P,QACNC,EAAIhQ,EAAEiQ,QAEDC,SAAAA,EAActe,EAAOzD,EAAKC,GACxB+e,OAAAA,KAAK/e,IAAID,EAAKgf,KAAKhf,IAAIyD,EAAOxD,IAGtCwhB,GAAAA,EAAK,CACEO,MAAAA,EAASP,EAAIQ,wBAehBR,GAdHnD,GAAK0D,EAAOE,KACZL,GAAKG,EAAOG,IAETT,IACCpD,GAAKoD,EAAO,GACZG,GAAKH,EAAO,IAEbC,IACCrD,EAAIyD,EAAczD,EAAG,EAAG0D,EAAOI,OAC/BP,EAAIE,EAAcF,EAAG,EAAGG,EAAOK,SAKhCZ,IAAQlB,EAAW,EACiB,OAAnBe,EACVA,EAEkB,WAAjBG,EAAIa,UAA4C,YAAjBb,EAAIa,YAGtChE,GAAK0D,EAAOI,MAAM,EAClBP,GAAKG,EAAOK,OAAO,IAIvBlB,OAAAA,EAAc,CAACnC,KAAKC,MAAMX,GAAIU,KAAKC,MAAM4C,IAAM,CAACvD,EAAGuD,GAGtDU,SAAAA,EAAU1Q,GACfA,EAAE2Q,iBACEvB,GACApP,EAAE4Q,kBAIDC,SAAAA,EAAO7Q,GACRrP,IAAAA,EAWDA,GATCA,EADDke,EACWA,aAAoBZ,QACXY,EAAS5V,SAAS+G,EAAErP,QAAUke,EAAW,KAC1C7O,EAAErP,OAAO0d,QAAQQ,GAI1B,GAGF,CACP6B,EAAU1Q,GAEJ8Q,MAAAA,EAAejC,GAAYW,EAAgBG,EAAY3P,EAAGrP,GAAU,CAAC,EAAG,GACxEogB,EAAWpB,EAAY3P,EAAG0O,EAAWoC,GAC3CpB,EAAY,CACR/e,OAAAA,EACAmgB,YAAAA,EACAC,SAAAA,EACAC,iBAAiB,GAGlBjC,GACCA,EAAcpe,EAAQogB,IAKzBE,SAAAA,EAAOjR,GACT,IAAC0P,EAAa,OACjBgB,EAAU1Q,GAEJkR,MAAAA,EAAQxB,EAAUqB,SAClBI,EAAMxB,EAAY3P,EAAG0O,EAAWgB,EAAUoB,aAAcvB,GAI9DG,EAAUsB,gBAAkBtB,EAAUsB,iBAAoBE,EAAM,KAAOC,EAAI,IAAQD,EAAM,KAAOC,EAAI,GAEpG1hB,EAASigB,EAAU/e,OAAQwgB,EAAKD,GAG3BE,SAAAA,EAAMpR,EAAGqR,GACX,GAAC3B,EAAD,CAEAT,GAAAA,GAAeE,EAAe,CACvBmC,MAAAA,GAAW5B,EAAUsB,gBACrBG,EAAMG,EAAU5B,EAAUqB,SAAWpB,EAAY3P,EAAG0O,EAAWgB,EAAUoB,aAAcvB,GAE1FJ,GAAiBmC,IAAYD,GAC5BlC,EAAcO,EAAU/e,OAAQwgB,GAIjClC,GACCA,EAAYS,EAAU/e,OAAQwgB,EAAKzB,EAAUqB,SAAUM,GAAcC,GAAWnC,GAGxFO,EAAY,MAmCP6B,SAAAA,EAAWvR,EAAGqR,GAAaD,EAAMI,EAAWxR,GAAIqR,GAKhDI,SAAAA,EAAS9gB,EAAQ4B,EAAMyD,GAC5BrF,EAAO+gB,iBAAiBnf,EAAMyD,GAEzB2b,SAAAA,EAAa3R,GACVA,YAAchO,IAAdgO,EAAE4R,QACW,IAAd5R,EAAE4R,QAEU,IAAZ5R,EAAE6R,MAEJC,SAAAA,EAAW9R,EAAGhK,GAEK,IAArBgK,EAAE+R,QAAQ5e,OAEb6C,EAAQwb,EAAWxR,IAFUoR,EAAMpR,GAAG,GAIjCwR,SAAAA,EAAWxR,GACZgS,IAAAA,EAAQhS,EAAEiS,cAAc,GAMrBD,OAJHA,IAASA,EAAQhS,EAAEkS,eAAe,IAEtCF,EAAMrB,eAAiB3Q,EAAE2Q,eAAexc,KAAK6L,GAC7CgS,EAAMpB,gBAAkB5Q,EAAE4Q,gBAAgBzc,KAAK6L,GACxCgS,EAxDXP,EAAS/C,EAAW,YAAa,SAAS1O,GACnC2R,EAAa3R,GACZ6Q,EAAO7Q,GAGPoR,EAAMpR,GAAG,KAGjByR,EAAS/C,EAAW,aAAc1O,GAAK8R,EAAW9R,EAAG6Q,IAGrDY,EAAS1D,EAAM,YAAa,SAAS/N,GAC7B0P,IAEDiC,EAAa3R,GACZiR,EAAOjR,GAIPoR,EAAMpR,MAGdyR,EAAS1D,EAAM,YAAa/N,GAAK8R,EAAW9R,EAAGiR,IAG/CQ,EAAS/C,EAAW,UAAW,SAAS1O,GAEjC0P,IAAciC,EAAa3R,IAAMoR,EAAMpR,KAG9CyR,EAAS/C,EAAW,WAAe1O,GAAKuR,EAAWvR,IACnDyR,EAAS/C,EAAW,cAAe1O,GAAKuR,EAAWvR,GAAG,IA6B3C8N,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACweAqE,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAzsBf,IAAA,EAAA,EAAA,QAAA,gCACA,EAAA,EAAA,QAAA,iBAwsBeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GArsBf,MAAMC,EAAa,yJACbC,EAAO,IAEPC,EAAY,UACZC,EAAsB,YACtBC,EAAiB,UAGvB,SAASC,EAAUC,GAETC,MAAAA,EAAMhE,SAASiE,cAAc,OAE5BD,OADPA,EAAIE,UAAYH,EACTC,EAAIG,kBAGf,SAASC,EAAElE,EAAU9Y,GACV,OAACA,GAAW4Y,UAAUqE,cAAcnE,GAG/C,SAAS4C,EAAS9gB,EAAQ4B,EAAMyD,GAC5BrF,EAAO+gB,iBAAiBnf,EAAMyD,GAAS,GAE3C,SAAS0a,EAAU1Q,GAEfA,EAAE2Q,iBACF3Q,EAAE4Q,kBAEN,SAASqC,EAAMtiB,EAAQX,EAAMgG,EAASkd,GAClCzB,EAAS9gB,EAAQ2hB,EAAW,SAAStS,GAC9BhQ,EAAK0R,QAAQ1B,EAAEzU,MAAQ,IACnB2nB,GAAQxC,EAAU1Q,GACrBhK,EAAQgK,MAOpB,MAAMmT,EAASxE,SAASiE,cAAc,SACtCO,EAAOC,YAAe,i8JACtBzE,SAASC,gBAAgBkE,kBACpBO,YAAYF,GAGjB,MAAMhB,EAqCF7G,YAAYvd,GAGHulB,KAAAA,SAAW,CAGZC,MAAO,QACPvkB,OAAQ,UACRud,OAAQ,EACRiH,QAAQ,EACRC,aAAc,OAKbC,KAAAA,WAAe1T,CAAAA,GAAM,KAAK2T,YAAY3T,IAMtClI,KAAAA,SAAW,KAKX8b,KAAAA,OAAS,KAKTC,KAAAA,OAAS,KAKTC,KAAAA,QAAU,KAEVC,KAAAA,WAAWhmB,GAuBpBgmB,WAAWhmB,GACJ,IAACA,EAAW,OACTulB,MAAAA,EAAW,KAAKA,SAUnBvlB,GAAAA,aAAmBimB,YAClBV,EAASW,OAASlmB,MAEjB,CAqBEulB,EAASW,QAAUlmB,EAAQkmB,QAAWX,EAASW,SAAWlmB,EAAQkmB,SACjEX,EAASW,OAAOC,oBAAoB,QAAS,KAAKR,YAAY,GACzDS,KAAAA,cAAe,GAlCnBC,SAASC,EAAQ1jB,EAAQ2jB,GACzB,IAAA,MAAM/oB,KAAO8oB,EACXC,GAAaA,EAAS5S,QAAQnW,IAAQ,IAEzCoF,EAAOpF,GAAO8oB,EAAO9oB,IAiCzB6oB,CAASrmB,EAASulB,GAIfvlB,EAAQ+J,WAAiBA,KAAAA,SAAW/J,EAAQ+J,UAC5C/J,EAAQ6lB,SAAiBA,KAAAA,OAAW7lB,EAAQ6lB,QAC5C7lB,EAAQ8lB,SAAiBA,KAAAA,OAAW9lB,EAAQ8lB,QAC5C9lB,EAAQ+lB,UAAiBA,KAAAA,QAAW/lB,EAAQ+lB,SAGzCS,MAAAA,EAAMxmB,EAAQ2d,OAAS3d,EAAQyB,OAClC+kB,GAAYC,KAAAA,UAAUD,GAIvBN,MAAAA,EAASX,EAASW,OACrBA,GAAUX,EAASC,QAAU,KAAKY,cAEjC1C,EAASwC,EAAQ,QAAS,KAAKP,YAO/BT,EAAMgB,EAAQ,CAAC,IAAK,WAAY,SAAU,KAAKP,YAM1CS,KAAAA,cAAe,GAEhBpmB,EAAQkmB,SAAWX,EAASC,OAC3Bpa,KAAAA,OAQbwa,YAAY3T,GACL,GAAA,KAAK7G,OAAQ,CAEZ6G,GAAKA,EAAE2Q,iBAGF2C,KAAAA,SAASW,OAAOQ,MAAMC,cAAgB,OAIrCC,MAAAA,EAAW3U,GAAMA,EAAEzN,OAAS+f,EAAc,KAAKsC,SAAW,KAAKC,WACrEhlB,WAAW,IAAM8kB,EAAQG,QAAS,KAE/B,KAAKjB,QAAeA,KAAAA,OAAO,KAAKrkB,SAQ3CulB,aAAa/U,GACHgV,MAAAA,EAAQhV,GAAKA,EAAEzN,KACjB0iB,IAAAA,GAAS,EAGV,GAACjV,EAIC,GAAIgV,IAAUzC,GAAyByC,IAAUxC,EAAiB,CAM7D0C,MAAAA,GAAa,KAAKC,kBAAoB,GAAK,IAC9CnV,EAAEoV,UAAYF,IACbD,GAAS,QAMbvE,EAAU1Q,GAEViV,GAAS,OAnBTA,GAAS,EAsBVA,GAAU,KAAK7b,SACTka,KAAAA,SAASW,OAAOQ,MAAMC,cAAgB,GAKxCM,IAAUzC,GACJe,KAAAA,SAASW,OAAOa,QAGtB,KAAKhB,SAAgBA,KAAAA,QAAQ,KAAKtkB,SAW7C6lB,UAAUtnB,EAASunB,GAEVP,KAAAA,eAEAhB,KAAAA,WAAWhmB,GACbunB,GACM3B,KAAAA,cAWb4B,SAAS7J,EAAO8J,GACPhB,KAAAA,UAAU9I,EAAO,CAAE8J,OAAQA,IAEpChB,UAAU9I,EAAO+J,GAET,GADgB,iBAAV/J,IAAsBA,EAAQA,EAAMzf,SACzCyf,EAAS,OAGVgK,IAAAA,EADJD,EAAQA,GAAS,GAEb,IAEAC,EAAI,IAAIlU,EAAJ,QAAUkK,GAElB,MAAOiK,GACAF,GAAAA,EAAMG,aAAgB,OACnBD,MAAAA,EAGP,IAAC,KAAKrC,SAAS/G,MAAO,CACfR,MAAAA,EAAO2J,EAAE3J,KACfA,EAAK,GAAK,EACV2J,EAAE3J,KAAOA,EAERvc,KAAAA,OAAS,KAAKkc,MAAQgK,EACtBG,KAAAA,SAAS,KAAM,KAAM,KAAM,KAAMJ,GAK1CK,UAAUtmB,EAAQgmB,GACTD,KAAAA,SAAS/lB,EAAQgmB,GAO1Brc,OAEO,IADY,KAAKma,SAASW,OACR,OAAA,EAGlB,GAAA,KAAKY,WAAY,CACVkB,MAAAA,EAAU,KAAKC,YAAW,GAKzBD,OAFFE,KAAAA,eAEEF,EAGLG,MACAC,EAAU1D,EADH,KAAKa,SAAS8C,UAAa,4dA2BjC,OAxBFvB,KAAAA,WAAasB,EACbE,KAAAA,MAAatD,EAAE,cAAeoD,GAC9BG,KAAAA,OAAavD,EAAE,aAAcoD,GAC7BI,KAAAA,MAAaxD,EAAE,gBAAiBoD,GAChCvB,KAAAA,SAAa7B,EAAE,uBAAwBoD,GACvCK,KAAAA,WAAazD,EAAE,iBAAkBoD,GACjCM,KAAAA,SAAa1D,EAAE,sBAAuBoD,GAE3CA,EAAQnd,UAAUE,IAAI,UAAY,KAAKoa,SAAStkB,QAC5C,KAAKskB,SAAS/G,OAAS4J,EAAQnd,UAAUE,IAAI,YAC7C,KAAKoa,SAASE,QAAU2C,EAAQnd,UAAUE,IAAI,aAC7Cwd,KAAAA,SAAS,IAAMP,EAAQnd,UAAUE,IAAI,UAErC+c,KAAAA,eAGF,KAAKzmB,OACCmnB,KAAAA,YAGAnC,KAAAA,UAAU,QAEdoC,KAAAA,eAEE,EAOXxd,OACW,OAAA,KAAK4c,YAAW,GAS3BY,cACUvkB,MAAAA,EAAO,KACPwkB,EAAM,KAAKhC,WAQRiC,SAAAA,EAAiBpI,EAAWqI,GAGxBC,SAAAA,EAAUC,EAAG9F,GACZ+F,MAAAA,EAAO/F,EAAI,GAAGzC,EAAUyI,YACxBC,EAAOjG,EAAI,GAAGzC,EAAU2I,aAC9BN,EAAiBG,EAAME,GAYpBE,MATQ,CACX5I,UAAeA,EACfa,aAAe,EACf9f,SAAeunB,EAEfhI,kBAAmBgI,EAEnB3H,iBAAiB,GArBzBoC,EAASoF,EAAK,QAAS7W,GAAKA,EAAE2Q,mBA2BlBmG,EAAAA,EAAAA,SAAAA,EAAiB,KAAKT,MAAQ,CAAC5J,EAAGuD,IAAM3d,EAAKwjB,SAASpJ,MAGtDqK,EAAAA,EAAAA,SAAAA,EAAiB,KAAKR,OAAQ,CAAC7J,EAAGuD,IAAM3d,EAAKwjB,SAAS,KAAMpJ,EAAG,EAAIuD,KAG5E,KAAKsD,SAAS/G,QACDuK,EAAAA,EAAAA,SAAAA,EAAiB,KAAKP,MAAQ,CAAC9J,EAAGuD,IAAM3d,EAAKwjB,SAAS,KAAM,KAAM,KAAM,EAAI7F,KAOtFuH,MAAAA,EAAY,KAAK3C,SAEnBnD,EAAS8F,EAAW,QAAS,SAASvX,GAClC3N,EAAKmiB,UAAU,KAAK5iB,MAAO,CAAE4lB,YAAY,EAAM5B,cAAc,MAGjEnE,EAAS8F,EAAW,QAAS,SAASvX,GAC5B4L,MAAAA,EAAQ,KAEXA,EAAM6L,iBAAmB7L,EAAM8L,cAC9B9L,EAAM+L,WASbjB,KAAAA,SAAS,KAEJkB,MAAAA,EAAmB5X,GAAM,KAAK+U,aAAa/U,GAEjDyR,EAAS5R,OAAQ0S,EAAqBqF,GACtCnG,EAAS5R,OAAQ2S,EAAqBoF,GACtC3E,EAAS4D,EAAQ,CAAC,MAAO,UAAae,GAYhCC,MAAAA,EAAc7X,IACXmV,KAAAA,iBAAmBnV,EAAEoV,WAE9B3D,EAASoF,EAAKtE,EAAqBsF,GAGnCpG,EAASoF,EAAKrE,EAAqBqF,KAIjCC,MAAAA,EAAe9X,IACZ0W,KAAAA,SAAS,IAAM,KAAK3B,aAAa/U,IACnC,KAAK4T,QAAeA,KAAAA,OAAO,KAAKpkB,SAEvCiiB,EAAS,KAAKgF,SAAU,QAAWqB,GACnC7E,EAAS4D,EAAe,CAAC,SAAUiB,GASvC7B,eACUhC,MAAAA,EAAS,KAAKX,SAASW,OACvBrE,EAAM,KAAKiF,WAEdZ,IAAWrE,EAAIpB,YAAcyF,EAAOZ,YAAYzD,GAE9C8G,KAAAA,SAAUnD,IAG8B,WAAtCwE,iBAAiB9D,GAAQzd,WACxByd,EAAOQ,MAAMje,SAAW,YAGtBwhB,MAAAA,GAAsB,IAAVzE,EAAkB,cAAgB,SAAWA,EAE9D,CAAA,YAAa,eAAgB,aAAc,eAAexb,QAAQ2d,IAE5DA,IAAMsC,EACLpI,EAAI5W,UAAUE,IAAIwc,GAGlB9F,EAAI5W,UAAUb,OAAOud,KAK7B9F,EAAI5W,UAAUE,IAAI8e,KAU1BnC,SAAShK,EAAG3N,EAAG4N,EAAGpN,EAAI+W,GAClBA,EAAQA,GAAS,GAEXlB,MAAAA,EAAM,KAAK/kB,OACXuc,EAAOwI,EAAIxI,KAEhBF,CAAAA,EAAG3N,EAAG4N,EAAGpN,GAAG3G,QAAQ,CAAC0U,EAAG9Y,MAClB8Y,GAAY,IAANA,KAAYV,EAAKpY,GAAK8Y,KAEnC8H,EAAIxI,KAAOA,EAEN4K,KAAAA,UAAUlB,GAEZ,KAAK3d,WAAa2d,EAAMD,QAAe1d,KAAAA,SAASyc,GAGvDoC,UAAUlB,GACH,IAAC,KAAKZ,WAAc,OACvBY,EAAQA,GAAS,GAEXlB,MAAAA,EAAM,KAAK/kB,OACXqd,EAAM0H,EAAIxI,KACVkM,SAAiBpL,EAAI,GAAKwF,gBAC1B6F,EAAU3D,EAAItH,UACdkL,EAAU5D,EAAIrH,WAEdkL,EAAO,KAAK/B,MACZgC,EAAO,KAAK/B,OACZgC,EAAO,KAAK/B,MACZgC,EAAUxF,EAAE,mBAAoBqF,GAChCI,EAAUzF,EAAE,mBAAoBsF,GAChCI,EAAU1F,EAAE,mBAAoBuF,GAE7BI,SAAAA,EAAKzE,EAAQ0E,EAAOzB,GACzByB,EAAMlE,MAAMpE,KAAe,IAAP6G,EAAc,IAE7B0B,SAAAA,EAAK3E,EAAQ0E,EAAOvB,GACzBuB,EAAMlE,MAAMnE,IAAe,IAAP8G,EAAc,IAMtCsB,EAAKN,EAAKG,EAAQ1L,EAAI,IAGjByJ,KAAAA,OAAO7B,MAAMoE,gBAAkB,KAAKxC,MAAM5B,MAAM/I,MAAQuM,EAK7DS,EAAKL,EAAMG,EAAS3L,EAAI,IACxB+L,EAAKP,EAAMG,EAAS,EAAI3L,EAAI,IAG5BwL,EAAK5D,MAAM/I,MAAQwM,EAKnBU,EAAKN,EAAMG,EAAS,EAAI5L,EAAI,IAEtBiM,MAAAA,EAASZ,EACTa,EAASD,EAAO5rB,QAAQ,MAAO,QAAQA,QAAQ,IAAK,QACpD8rB,qBAAwB,CAACF,EAAQC,MAUpC,GAPExC,KAAAA,MAAM9B,MAAMwE,gBAAkBD,EAAK,KAAO5G,GAO3CqD,EAAM+B,WAAY,CACZ0B,MAAAA,EAAS,KAAK5F,SAASG,aACvBlH,EAAQ,KAAK+G,SAAS/G,MAExB3a,IAAAA,EACIsnB,OAAAA,GACC,IAAA,MAAOtnB,EAAQ2iB,EAAIjI,SAASC,GAAQ,MACpC,IAAA,MAAO3a,EAAQ2iB,EAAIzH,SAASP,GAAQ,MACzC,QAAY3a,EAAQ2iB,EAAIjH,SAASf,GAEhCqI,KAAAA,SAAShjB,MAAQA,EAMrB4kB,KAAAA,WAAW/B,MAAM/I,MAAQyM,EAIlCzB,SAASyC,EAAUC,GACZ,KAAK9F,SAASW,QAAU,KAAKX,SAASC,MACrC4F,GAAYA,EAAS,KAAK7F,SAASC,OAGnC6F,GAAcA,IAKtBpD,WAAWqD,GACDxC,MAAAA,EAAM,KAAKhC,WACd,IAACgC,EAAc,OAAA,EAEZyC,MAAAA,EAAeD,EAAY,GAAK,OAChChgB,EAAUwd,EAAIpC,MAAM8E,UAAYD,EAG/BjgB,OADJA,IAAUwd,EAAIpC,MAAM8E,QAAUD,GAC1BjgB,EAyCAmgB,0BACArG,OAAAA,GAKAhB,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC3sBf,IAAMA,EAASpb,QAAQ,kBAAkB0iB,SAAW1iB,QAAQ,kBAE5DjM,OAAOC,QAAU,WAAM,OAAA,WAEZonB,OAAAA,EAAOqH,aAAaE,WAAU;;;;ACJzC,IAAMC,EAAK5iB,QAAQ,MACb6iB,EAAN,yxNAEA9uB,OAAOC,QAAU,WAAM,OAAA,WAEb8uB,IAAAA,EAASlL,SAASiE,cAAc,SAE/BiH,OADPA,EAAOzG,YAAcwG,EACdC;;ACPX/uB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAAC,GAEvB8d,IAAAA,EAASlL,SAASiE,cAAc,SAc/BiH,OAbPA,EAAOC,UAAmB/d,OAAAA,OAAAA,GAE1BD,EAAOvM,MAAM8H,GAAG0E,GAAQjE,SAAS,SAAU,SAAgB,GAAbtI,IAAAA,EAAAA,EAAAA,OAC1CqqB,EAAOzG,YACIrX,sBAAAA,OAAAA,EACavM,kDAAAA,OAAAA,EAGbuM,sDAAAA,OAAAA,EACiBvM,uDAAAA,OAAAA,EAN5B,uBAUGqqB;;AChBX/uB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAA8B,GAEX9B,IAAVwD,EAAUxD,EAAOF,KAAKzE,SAASyG,GAA/B0B,MAEFua,EAASlL,SAASiE,cAAc,SAQ/BiH,OAPPA,EAAOC,UAAkBlc,MAAAA,OAAAA,GAEzBic,EAAOzG,YACGxV,iBAAAA,OAAAA,EAAyBA,qBAAAA,OAAAA,EACH0B,2DAAAA,OAAAA,EAFhC,kBAKOua;;ACZX/uB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEvB+d,IAAAA,EAASlL,SAASiE,cAAc,SAY/BiH,OAVP/d,EAAO/N,QAAQ+J,SAAS,UAAW,SAAiB,GAAd5I,IAE5B6qB,EAF4B7qB,EAAAA,QAET,oBAAsB,yBAE/C2qB,EAAOzG,YAEW2G,iDAAAA,OAAAA,EAFlB,sBAMGF;;ACdX,IAAMG,EAAgB,CAAEC,OAAQ,EAAGC,OAAQ,IAE3CpvB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEvB+d,IAAAA,EAASlL,SAASiE,cAAc,SAS/BiH,OAPP/d,EAAO/N,QAAQ+J,SAAS,QAAS,SAAe,GAAZ/I,IAAAA,EAAAA,EAAAA,MAChC8qB,EAAOzG,YAEkB4G,8DAAAA,OAAAA,EAAcjrB,GAFvC,uBAMG8qB;;ACbX/uB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEvB+d,IAAAA,EAASlL,SAASiE,cAAc,SAgB/BiH,OAdP/d,EAAO/N,QAAQ+J,SAAS,OAAQ,SAAc,GAAXjK,IAAAA,EAAAA,EAAAA,KAE/BgsB,EAAOzG,YAE4CvlB,mFAAAA,OAAAA,EAIlCA,sFAAAA,OAAAA,EAAO,GACNA,iCAAAA,OAAAA,EAAO,GAPzB,wBAYGgsB;;AClBX/uB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEvB+d,IAAAA,EAASlL,SAASiE,cAAc,SAW/BiH,OATP/d,EAAO/N,QAAQ+J,SAAS,UAAW,SAAiB,GAAdvJ,IAAAA,EAAAA,EAAAA,QAElCsrB,EAAOzG,YAEa7kB,oDAAAA,OAAAA,EAFpB,wBAOGsrB;;ACbX,IAAMM,EAAepjB,QAAQ,mBACvBqjB,EAAOrjB,QAAQ,UACfiF,EAAOjF,QAAQ,UACfsjB,EAAWtjB,QAAQ,eACnBujB,EAAavjB,QAAQ,iBACrBwjB,EAAWxjB,QAAQ,eACnByjB,EAAUzjB,QAAQ,cAClB0jB,EAAa1jB,QAAQ,iBAGrB2jB,EAAS,CACXP,aAAAA,EACAC,KAAAA,EACApe,KAAAA,EACAqe,SAAAA,EACAC,WAAAA,EACAC,SAAAA,EACAC,QAAAA,EACAC,WAAAA,GAGJ3vB,OAAOC,QAAU2vB;;ACrBjB5vB,OAAOC,QAAU,WAAM,OAAA,SAAA4vB,GAGbC,IAAAA,EAAYjM,SAASiE,cAAc,OAIlCgI,OAHPA,EAAUlJ,iBAAiB,YAAamJ,GAAS,GACjDD,EAAUlJ,iBAAiB,WAAYmJ,GAAS,GAChDD,EAAUlJ,iBAAiB,OAAQoJ,EAAKH,IAAgB,GACjDC,IAIX,IAAMC,EAAU,SAAA7a,GAIL,OAFPA,EAAE4Q,kBACF5Q,EAAE2Q,kBACK,GAILmK,EAAO,SAAArrB,GAAY,OAAA,SAAAuQ,GAGd6a,OADP1tB,MAAM4tB,KAAK/a,EAAEgb,aAAajrB,OAAOgI,QAAQtI,GAClCorB,EAAQ7a;;ACtBnB,IAAMib,EAAiB,GAEvBnwB,OAAOC,QAAU,WAAM,OAAA,SAAA+M,GAEbojB,IAAAA,EAAQvM,SAASiE,cAAc,QAI9BsI,OAHPA,EAAMC,aAAa,mBAAmB,GACtCD,EAAMxJ,iBAAiB,OAAQ5Z,GAC/BojB,EAAMxJ,iBAAiB,WAAY0J,EAAStjB,IACrCojB,IAIX,IAAME,EAAW,SAAA3rB,GAAY,OAAA,SAAAuQ,GAErBA,EAAEqb,UAAYJ,IACdxrB,EAASuQ,GACTA,EAAE2Q;;AChBV7lB,OAAOC,QAAU,WAAM,OAAA,SAACuwB,EAAMC,GAEpBC,IAAAA,EAAQ7M,SAASiE,cAAc,QACrC4I,EAAM1B,UAAY,QAClB0B,EAAM3I,UAAYyI,EAEZG,IAAAA,EAAS9M,SAASiE,cAAc,SAG/B6I,OAFPA,EAAOC,OAAOF,EAAOD,GAEdE;;ACTX3wB,OAAOC,QAAU,WAAM,OAAA,SAAmC,GAAhC4wB,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,UAEhCC,EAASnN,SAASiE,cAAc,OACtCkJ,EAAOhC,UAAe6B,GAAAA,OAAAA,EAAQ7B,UAA9B,qBAEMiC,IAAAA,EAAWpN,SAASiE,cAAc,QACxCmJ,EAASjC,UAAY,UACrBiC,EAASrK,iBAAiB,QAASmK,GAE7BG,IAAAA,EAASrN,SAASiE,cAAc,OACtCoJ,EAAOlC,UAAY,cACnBkC,EAAON,OAAOE,GACdI,EAAON,OAAOK,GAERE,IAAAA,EAAWtN,SAASiE,cAAc,OACxCqJ,EAASnC,UAAY,gBACrBmC,EAASP,OAAOC,GAEVO,IAAAA,EAAUvN,SAASiE,cAAc,OAahCkJ,OAZPI,EAAQpC,UAAY,eACpBoC,EAAQR,OAAOM,EAAQC,GAEvBH,EAAOJ,OAAOQ,GAMdJ,EAAOpK,iBAAiB,QAASmK,GACjCK,EAAQxK,iBAAiB,QAAS,SAAA1R,GAAKA,OAAAA,EAAE4Q,oBAElCkL;;AC/BXhxB,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAU,OAAA,SAAAqiB,GAEpBC,IAAAA,EAAUzN,SAASiE,cAAc,OACvCwJ,EAAQtC,UAAY,cAEduC,IAAAA,EAAmBviB,EAAID,iBAAiBuiB,GAExCL,EAAWpN,SAASiE,cAAc,QACxCmJ,EAASjC,UAAY,UACrBiC,EAASrK,iBAAiB,QAAS2K,EAAiBjjB,MAE9C6iB,IAAAA,EAAWtN,SAASiE,cAAc,OACxCqJ,EAASnC,UAAY,iBACrBmC,EAASP,OAAOS,GAEVD,IAAAA,EAAUvN,SAASiE,cAAc,OAMhCwJ,OALPF,EAAQpC,UAAY,gBACpBoC,EAAQR,OAAOK,EAAUE,GAEzBG,EAAQV,OAAOQ,GAERE;;ACrBX,IAAME,EAAWvlB,QAAQ,cACnBwlB,EAAexlB,QAAQ,mBACvBylB,EAAQzlB,QAAQ,WAChBnI,EAAQmI,QAAQ,WAChB0lB,EAAS1lB,QAAQ,YAGjB2lB,EAAa,CACfJ,SAAAA,EACAC,aAAAA,EACAC,MAAAA,EACA5tB,MAAAA,EACA6tB,OAAAA,GAGJ3xB,OAAOC,QAAU2xB;;ACfjB5xB,OAAOC,QAAU,SAAA,GAAG4xB,IAAAA,EAAAA,EAAAA,MAAY,OAAA,WAEtBC,IAAAA,EAAajO,SAASiE,cAAc,OAQnCgK,OANPA,EAAWlB,OACPiB,EAAME,WAAWnC,SACjBiC,EAAME,WAAWC,SACjBH,EAAME,WAAW7tB,OAAO2tB,EAAMI,QAAQC,gBAGnCJ;;ACVX9xB,OAAOC,QAAU,SAAA,GAAGqR,IAAAA,EAAAA,EAAAA,SAAUsgB,EAAAA,EAAAA,WAAYC,EAAAA,EAAAA,MAAY,OAAA,WAE5CC,IAAAA,EAAaF,EAAWJ,SAASlgB,EAASR,KAAK0F,eACrDsb,EAAW9C,UAAY,mBAEjBmD,IAAAA,EAAgBtO,SAASiE,cAAc,OAgBtCgK,OAfPK,EAAcnD,UAAY,gBAE1BmD,EAAcvB,OACViB,EAAMptB,MAAM2tB,WACZP,EAAMI,QAAQI,qBACdR,EAAMS,QAAQC,gBACdV,EAAM5uB,QAAQuvB,aACdX,EAAMS,QAAQG,mBAGlBX,EAAWlB,OACPuB,EACAN,EAAM/gB,KAAK4hB,WAGRZ;;ACrBX9xB,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,WAEtCqhB,IAAAA,EAAsB9O,SAASiE,cAAc,OACnD6K,EAAoB3D,UAAY,uBAE1B4D,IAAAA,EAAqB/O,SAASiE,cAAc,QAClD8K,EAAmBtK,YAAc,qBAE3BuK,IAAAA,EAAgBhP,SAASiE,cAAc,KAC7C+K,EAAc7D,UAAY,gBAC1B6D,EAAcvK,YAAc,gBAE5BuK,EAAcjM,iBAAiB,QAAS,SAAA1R,GACpCA,EAAE2Q,iBACFiN,EAAWC,UAGTD,IAAAA,EAAajP,SAASiE,cAAc,SAC1CgL,EAAWrrB,KAAO,OAClBqrB,EAAWE,UAAW,EACtBF,EAAWG,OAAS,UACpBH,EAAWnJ,MAAM8E,QAAU,OAE3BqE,EAAWlM,iBAAiB,SAAU,WAClCvkB,MAAM4tB,KAAKjhB,EAAIP,SAASqkB,IAAa7lB,QAAQqE,EAASR,KAAK0F,iBAGzD0c,IAAAA,EAA4BrP,SAASiE,cAAc,KAiBlD6K,OAhBPO,EAA0BlE,UAAY,8BACtCkE,EAA0B5K,YAAc,8BAExC4K,EAA0BtM,iBAAiB,QAAS,WAChD5V,EAAOzO,IAAIuK,SAAS,CAAEhJ,MAAO,eAGjC6uB,EAAoB/B,OAChBgC,EACA,IACAC,EACAC,EACA,IACAI,GAGGP;;AC5CX,IAAMT,EAAcjmB,QAAQ,kBACtBomB,EAAqBpmB,QAAQ,0BAG7BgmB,EAAU,CACZC,YAAAA,EACAG,mBAAAA,GAGJryB,OAAOC,QAAUgyB;;ACTjBjyB,OAAOC,QAAU,SAAA,GAAG4xB,IAAAA,EAAAA,EAAAA,MAAY,OAAA,SAAAhB,GAEtBiB,IAAAA,EAAajO,SAASiE,cAAc,OAEpCqL,EAAUtP,SAASiE,cAAc,UAYhCgK,OAVPqB,EAAQvC,OACJiB,EAAMuB,OAAOC,WACbxB,EAAMuB,OAAOE,UAGjBxB,EAAWlB,OACPuC,EACAtC,GAGGiB;;AChBX,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wDAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA9xB,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQ6gB,EAAAA,EAAAA,MAAY,OAAA,WAEnC0B,IAAAA,EAAU1P,SAASiE,cAAc,OACvCyL,EAAQvE,UAAY,SAEd+B,IAAAA,EAAY,WACd/f,EAAOzO,IAAIuK,SAAS,CAAEhJ,MAAO,QAGLzD,EAAAA,OAAOC,QAAQuxB,EAAMG,QAAQzxB,OAAO,SAACC,EAAsB,GAAA,IAAA,EAAA,EAAA,EAAA,GAAhBC,EAAgB,EAAA,GAC7EuwB,GAASltB,EADoE,EAAA,IAC9DitB,GACrBvwB,EAAIwxB,OAAO5pB,KAAK4oB,GAEGhiB,IAAXT,EAAWS,EAAID,iBAAiBiiB,GAAhCziB,OAGD/N,OAFPA,EAAIgzB,QAAQprB,KAAK,CAAE3H,IAAAA,EAAK8N,OAAAA,IAEjB/N,GACR,CAAEwxB,OAAQ,GAAIwB,QAAS,KARlBxB,EAAAA,EAAAA,OAAQwB,EAAAA,EAAAA,QAiBTD,OANPviB,EAAOzO,IAAIyK,SAAS,QAAS,SAAe,GAAZlJ,IAAAA,EAAAA,EAAAA,MAC5B0vB,EAAQvmB,QAAQ,SAAA,GAAGxM,IAAAA,EAAAA,EAAAA,IAAkB8N,OAAAA,EAAbA,EAAAA,QAAoBzK,IAAUrD,OAG1D8yB,EAAQ3C,OAAR2C,MAAAA,EAAkBvB,EAAAA,IAEXuB;;AC1BXvzB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ4e,EAAAA,EAAAA,OAAa,OAAA,WAE/B6D,IAAAA,EAAU5P,SAASiE,cAAc,OACvC2L,EAAQzE,UAAY,SAEd0E,IAAAA,EAAkB,SAAAziB,GAAUwiB,OAAAA,EAAQ7C,OAAOhB,EAAO1e,KAAKD,KAEvD0iB,EAAsB,SAAA7gB,GAAS2gB,OAAAA,EAAQ7C,OAAOhB,EAAOL,SAASzc,KAiB7D2gB,OAfPziB,EAAOvM,MAAMgJ,MAAMR,QAAQymB,GAC3B1iB,EAAOvM,MAAM0I,SAASumB,GAEtB1iB,EAAOF,KAAKrD,MAAMR,QAAQ0mB,GAC1B3iB,EAAOF,KAAK3D,SAASwmB,GAErBF,EAAQ7C,OACJhB,EAAOP,eACPO,EAAON,OACPM,EAAOH,WACPG,EAAOF,UACPE,EAAOD,aACPC,EAAOJ,cAGJiE;;ACxBX,IAAMvvB,EAAS+H,QAAQ,YACjB+lB,EAAS/lB,QAAQ,YACjB2jB,EAAS3jB,QAAQ,YAGjB8lB,EAAa,CACf7tB,OAAAA,EACA8tB,OAAAA,EACApC,OAAAA,GAGJ5vB,OAAOC,QAAU8xB;;ACXjB,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MAAA/xB,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAe,OAAA,SAAkB,GAAfsiB,IAAAA,EAAAA,EAAAA,SAEzCC,EAAWhQ,SAASiE,cAAc,OACxC+L,EAAS7E,UAAY,UAEf8E,IAAAA,EAAgBjQ,SAASiE,cAAc,UAC7CgM,EAAc9E,UAAY,cAC1B8E,EAAcxL,YAAc,SAE5BwL,EAAclN,iBAAiB,QAA/B,EAAwC,mBAAA,KAAA,SAAA,IAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EACnBtV,OADmB,EAAA,KAAA,EACnBA,EAASR,KAAKyF,iBADK,KAAA,EAAA,EAAA,MAE5Bqd,IAF4B,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,SAAA,OAKlCG,IAAAA,EAAkBlQ,SAASiE,cAAc,OAC/CiM,EAAgB/E,UAAY,qBAEtBgF,IAAAA,EAAgBnQ,SAASiE,cAAc,OAC7CkM,EAAchF,UAAY,qBAEpBiF,IAAAA,EAAuBpQ,SAASiE,cAAc,KACpDmM,EAAqB3L,YAAc,UAEnC2L,EAAqBrN,iBAAiB,QAAStV,EAASnI,MAAMtG,SAASsP,OAEvE0hB,EAASjD,OAAOkD,EAAeC,EAAiBC,GAE1CE,IAAAA,EAAoB,CACtBC,aAAcnlB,EAAID,iBAAiB+kB,GACnCM,eAAgBplB,EAAID,iBAAiBglB,GACrCvvB,aAAcwK,EAAID,iBAAiBilB,IAiBhCH,OAbP7iB,EAAOnO,SAASmK,SAAS,SAAU,WAC/BknB,EAAkBC,aAAa5lB,OAAO+C,EAASnI,MAAMtG,SAASyP,WAC9D4hB,EAAkBE,eAAe7lB,OAAO+C,EAASnI,MAAMtG,SAAS0P,aAChE2hB,EAAkB1vB,aAAa+J,OAAO+C,EAASnI,MAAMtG,SAAS2P,aAGlExB,EAAOnO,SAASmK,SAAS,eAAgB,WACZgE,IAAjBxM,EAAiBwM,EAAOnO,SAASwJ,WAAjC7H,aACRwvB,EAAc1L,YAAc9jB,EAC5BwvB,EAAcpD,OAAO/M,SAASiE,cAAc,OAC5CkM,EAAcpD,OAAOqD,KAGlBJ;;AC/CX7zB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAA3M,GAEvBgwB,IAAAA,EAAYxQ,SAASiE,cAAc,OAalCuM,OAZPA,EAAUrF,UAAY,WACtBqF,EAAUvD,MAAQzsB,EAClBgwB,EAAUC,IAAgCjwB,0BAAAA,OAAAA,EAA1C,QAEAgwB,EAAUzN,iBAAiB,QAAS,WAChC5V,EAAOnO,SAASiK,SAAS,CAAEzI,SAAAA,MAG/B2M,EAAOnO,SAASmK,SAAS,WAAY,SAAoC,GAAvBunB,IAAAA,EAAVlwB,EAAAA,SACpCgwB,EAAUnmB,UAAUK,OAAO,WAAYlK,IAAakwB,KAGjDF;;ACfX,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAAr0B,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAW0iB,EAAAA,EAAAA,WAAYC,EAAAA,EAAAA,MAAY,OAAA,WAE7C2C,IAAAA,EAAa3Q,SAASiE,cAAc,OAEpC2M,EAAkBvlB,EAAUrM,SAASG,UAAU9B,IAAI2wB,EAAMhvB,SAASwB,UACxEmwB,EAAW5D,OAAX4D,MAAAA,EAAqBC,EAAAA,IAGd7C,OAAAA,EAAWF,MADA,4EACiB8C;;ACRvCx0B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ4gB,EAAAA,EAAAA,WAAiB,OAAA,WAEnC8C,IAAAA,EAAY7Q,SAASiE,cAAc,YACzC4M,EAAU1F,UAAY,WAEtB0F,EAAU9N,iBAAiB,OAAQ,SAAA1R,GACzB5Q,IAAAA,EAAW4Q,EAAErP,OAAOiB,MAC1BkK,EAAOnO,SAASiK,SAAS,CAAExI,SAAAA,MAG/B0M,EAAOnO,SAASmK,SAAS,WAAY,SAAkB,GAAf1I,IAAAA,EAAAA,EAAAA,SACpCowB,EAAU5tB,MAAQxC,IAGtB0M,EAAOnO,SAASmK,SAAS,SAAU,SAAgB,GAAbzI,IAAAA,EAAAA,EAAAA,OAClCmwB,EAAUC,SAAsB,YAAXpwB,IAOlBqtB,OAAAA,EAAWF,MAJlB,4JAImCgD;;ACtBvC10B,OAAOC,QAAU,SAAA,GAAG4xB,IAAAA,EAAAA,EAAAA,MAAY,OAAA,SAAkB,GAAf+B,IAAAA,EAAAA,EAAAA,SAEzBgB,EAAY/Q,SAASiE,cAAc,OAUlC8M,OATPA,EAAU9D,MAAQ,WAClB8D,EAAU5F,UAAY,WAEtB4F,EAAUhE,OACNiB,EAAMhvB,SAASyB,WACfutB,EAAMhvB,SAASG,YACf6uB,EAAMhvB,SAASgyB,QAAQ,CAAEjB,SAAAA,KAGtBgB;;ACZX,IAAME,EAAW7oB,QAAQ,cACnB8oB,EAAY9oB,QAAQ,eACpB+oB,EAAa/oB,QAAQ,gBACrBgpB,EAAYhpB,QAAQ,eACpBipB,EAAejpB,QAAQ,mBAGvBpJ,EAAW,CACbiyB,SAAAA,EACAC,UAAAA,EACAC,WAAAA,EACAC,UAAAA,EACAC,aAAAA,GAGJl1B,OAAOC,QAAU4C;;ACfjB7C,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAW8B,EAAAA,EAAAA,OAAa,OAAA,WAElCmkB,IAAAA,EAAUtR,SAASiE,cAAc,OACvCqN,EAAQnG,UAAY,UAEdoG,IAAAA,EAAQvR,SAASiE,cAAc,KACrCsN,EAAMpG,UAAY,OAClBoG,EAAM9M,YAAc,gBAEd+M,IAAAA,EAAUxR,SAASiE,cAAc,KAWhCqN,OAVPE,EAAQ/M,YAAc,qCACtB+M,EAAQxvB,OAAS,SACjBwvB,EAAQC,KAAOpmB,EAAU3M,IAAIE,OAE7B0yB,EAAQvE,OAAOwE,EAAOC,GAEtBD,EAAMxO,iBAAiB,QAAS,WAC5B5V,EAAOzO,IAAIuK,SAAS,CAAEhJ,MAAO,oBAG1BqxB;;ACpBXn1B,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAgB,OAAA,WAE1BqmB,IAAAA,EAAY1R,SAASiE,cAAc,MACzCyN,EAAUjN,YAAcpZ,EAAU3M,IAAIC,KAEhCgzB,IAAAA,EAAU3R,SAASiE,cAAc,KAQhCyN,OAPPC,EAAQxG,UAAY,SACpBwG,EAAQF,KAAOpmB,EAAUvM,OAAOC,QAChC4yB,EAAQlN,YAAoBpZ,MAAAA,OAAAA,EAAUvM,OAAOH,MAC7CgzB,EAAQ3vB,OAAS,SAEjB0vB,EAAU3E,OAAO4E,GAEVD;;ACbX,IAAMjC,EAASrnB,QAAQ,aACjBonB,EAAWpnB,QAAQ,eAGnBmnB,EAAS,CACXE,OAAAA,EACAD,SAAAA,GAGJrzB,OAAOC,QAAUmzB;;ACTjBpzB,OAAOC,QAAU,SAAA,GAAG2xB,IAAAA,EAAAA,EAAAA,WAAYC,EAAAA,EAAAA,MAAY,OAAA,SAAAd,GAElCG,IAAAA,EAASrN,SAASiE,cAAc,QACtCoJ,EAAO5I,YAAc,8BAEfmN,IAAAA,EAAkB5R,SAASiE,cAAc,KAMxC8J,OALP6D,EAAgBjF,KAAO,oBACvBiF,EAAgBH,KAAO,oDACvBG,EAAgB5vB,OAAS,SACzBqrB,EAAON,OAAO6E,GAEP7D,EAAW9tB,MAAM,CACpB+sB,QAASgB,EAAMhvB,SAASqyB,aAAa,CAAEtB,SAAU7C,IACjDD,MAAOI,EACPH,UAAAA;;ACdR/wB,OAAOC,QAAU,SAAA,GAAG2xB,IAAAA,EAAAA,EAAAA,WAAYC,EAAAA,EAAAA,MAAY,OAAA,SAAAd,GAEjCa,OAAAA,EAAW9tB,MAAM,CACpB+sB,QAASgB,EAAM6D,KAAKjD,kBACpB3B,MAAO,mBACPC,UAAAA;;ACLR/wB,OAAOC,QAAU,SAAA,GAAG2xB,IAAAA,EAAAA,EAAAA,WAAYC,EAAAA,EAAAA,MAAY,OAAA,SAAAd,GAEQc,IAAAA,EAAAA,EAAM6D,KAChDC,EAAW,CADTC,EAAAA,WAAYnD,EAAAA,gBAAiBoD,EAAAA,QAG/BT,EAAQvR,SAASiE,cAAc,OAa9B8J,OAZPwD,EAAMpG,UAAY,OAElB2G,EAAS1oB,QAAQ,SAAA6oB,GACPC,IAAAA,EAAOD,IACbC,EAAK/G,UAAY,MACXgH,IAAAA,EAAWnS,SAASiE,cAAc,OACxCkO,EAAShH,UAAY,UACrBgH,EAAS1N,YAAcyN,EAAKjF,MAC5BiF,EAAKpuB,QAAQquB,GACbZ,EAAMxE,OAAOmF,KAGVnE,EAAW9tB,MAAM,CACpB+sB,QAASuE,EACTtE,MAAO,gBACPC,UAAAA;;ACrBR,IAAMluB,EAAWoJ,QAAQ,cACnBwmB,EAAkBxmB,QAAQ,sBAC1BgqB,EAAgBhqB,QAAQ,qBAGxB+lB,EAAS,CACXnvB,SAAAA,EACA4vB,gBAAAA,EACAwD,cAAAA,GAGJj2B,OAAOC,QAAU+xB;;ACXjBhyB,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAK4iB,EAAAA,EAAAA,WAAiB,OAAA,WAEhCmE,IAAAA,EAAOlS,SAASiE,cAAc,OACpCiO,EAAKhO,UAAL,sSAMMuJ,IAAAA,EAAUM,EAAWD,OAAOoE,GAG3BzE,OAFkBtiB,EAAID,iBAAiBuiB,GAC7BjjB,OACVijB;;ACZXtxB,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQ4gB,EAAAA,EAAAA,WAAiB,OAAA,WAExCsE,IAAAA,EAAiBrS,SAASiE,cAAc,OAC9CoO,EAAenO,UAAY,6EAErBuJ,IAAAA,EAAUM,EAAWD,OAAOuE,GACfA,EAAehO,cAAc,KAErCtB,iBAAiB,QAAS,WACjC5V,EAAOzO,IAAIuK,SAAS,CAAEhJ,MAAO,sBAG3BytB,IAAAA,EAAmBviB,EAAID,iBAAiBuiB,GAMvCA,OAJPtgB,EAAO/N,QAAQ+J,SAAS,SAAU,SAAgB,GAAb5J,EAAAA,QACvB,EAAImuB,EAAiBjjB,OAASijB,EAAiBljB,SAGtDijB;;AClBX,IAAMiB,EAAgBtmB,QAAQ,qBACxBwmB,EAAkBxmB,QAAQ,sBAG1BqmB,EAAU,CACZC,cAAAA,EACAE,gBAAAA,GAGJzyB,OAAOC,QAAUqyB;;ACTjBtyB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ4gB,EAAAA,EAAAA,WAAiB,OAAA,WAEnCuE,IAAAA,EAActS,SAASiE,cAAc,UAErCsO,EAAcvS,SAASiE,cAAc,UAC3CsO,EAAYtvB,MAAQ,aACpBsvB,EAAY9N,YAAc,cAEpB+N,IAAAA,EAAgBxS,SAASiE,cAAc,UAC7CuO,EAAcvvB,MAAQ,eACtBuvB,EAAc/N,YAAc,kBAEtBgO,IAAAA,EAAQzS,SAASiE,cAAc,UAU9B8J,OATP0E,EAAMxvB,MAAQ,OACdwvB,EAAMhO,YAAc,OAEpB6N,EAAYvF,OAAOwF,EAAaC,EAAeC,GAE/CH,EAAYvP,iBAAiB,SAAU,SAAA1R,GACnClE,EAAO/N,QAAQ6J,SAAS,CAAE9I,aAAcmyB,EAAYrvB,UAGjD8qB,EAAWF,MAAM,iBAAkByE;;ACtB9C,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAAn2B,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKE,EAAAA,EAAAA,UAAW8B,EAAAA,EAAAA,OAAQ4gB,EAAAA,EAAAA,WAAiB,OAAA,SAAA2E,GAE9BrnB,IAAAA,EAAAA,EAAUjM,QAAQszB,GAArClzB,EAAAA,EAAAA,IAAKC,EAAAA,EAAAA,IAAKC,EAAAA,EAAAA,KAEZizB,EAAU3S,SAASiE,cAAc,SACvC0O,EAAQ/uB,KAAO,SACf+uB,EAAQxH,UAAYuH,EACpBC,EAAQnzB,IAAMA,EACdmzB,EAAQlzB,IAAMA,EACdkzB,EAAQjzB,KAAOA,EAETyJ,IAAAA,EAAW,WACPxL,IAAAA,EAAMkhB,SAAS8T,EAAQ1vB,QAAU,EACjC7E,EAAST,EAAM6B,EAAMA,EAAO7B,EAAM8B,EAAMA,EAAM9B,EACpDg1B,EAAQ1vB,MAAQ7E,EAChB+O,EAAO/N,QAAQ6J,SAAYypB,EAAAA,GAAAA,EAAat0B,KAG5Cu0B,EAAQ5P,iBAAiB,QAAS,WACzB4P,EAAQ1vB,OACbkG,MAGJwpB,EAAQ5P,iBAAiB,OAAQ,WAC7B5Z,MAKJgE,EAAO/N,QAAQ+J,SAASupB,EAAY,SAAAptB,GAASqtB,OAAAA,EAAQ1vB,MAAQqC,EAAMotB,KAE7DE,IAAAA,EAAYznB,EAAIF,WAAWynB,GAC1B3E,OAAAA,EAAWF,MAAM+E,EAAWD;;AChCvC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,GAAAx2B,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAW2iB,EAAAA,EAAAA,MAAY,OAAA,WAEb3iB,IAAAA,EAAAA,EAAUjM,QAA5BC,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,OAC0C0uB,EAAAA,EAAM5uB,QAAvDyzB,EAAAA,EAAAA,OAAQzyB,EAAAA,EAAAA,MAAO4N,EAAAA,EAAAA,WAAY8kB,EAAAA,EAAAA,YAW7BC,GAX0CzyB,EAAAA,KAEjC,CACXjB,EAAMhC,IAAIw1B,GACVvzB,EAAOjC,IAAI+C,GACX,CAAC,OAAQ,WAAW/C,IAAIw1B,GACxB7kB,IACA8kB,KAIkBz1B,IAAI,SAAA21B,GAChB5zB,IAAAA,EAAU,GAAGyD,OAAOmwB,GACpBC,EAASjT,SAASiE,cAAc,QAE/BgP,OADPA,EAAOlG,OAAPkG,MAAAA,EAAiB7zB,EAAAA,IACV6zB,KAGLC,EAAclT,SAASiE,cAAc,OAGpCiP,OAFPA,EAAY/H,UAAY,cACxB+H,EAAYnG,OAAZmG,MAAAA,EAAsBH,EAAAA,IACfG;;ACxBX/2B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAA/M,GAEvB+yB,IAAAA,EAASnT,SAASiE,cAAc,QACtCkP,EAAO9oB,UAAUE,IAAI,eAAgBnK,GACrC+yB,EAAOlG,MAA2B7sB,mBAAAA,OAAAA,GAY3B+yB,OANPA,EAAOpQ,iBAAiB,QAAS,WAC7B5V,EAAO/N,QAAQ6J,SAAS,CAAE7I,MAAAA,MAG9B+M,EAAO/N,QAAQ+J,SAAS,QARD,SAA8B,GAApBiqB,IAAAA,EAAPhzB,EAAAA,MACtB+yB,EAAO9oB,UAAUK,OAAO,WAAYtK,IAAUgzB,KAS3CD;;AChBXh3B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ4gB,EAAAA,WAAiB,OAAA,WAEnCE,IAAAA,EAAajO,SAASiE,cAAc,QAEpCoP,EAAerT,SAASiE,cAAc,SAWrCgK,OATPA,EAAWlB,OAAOsG,EAAc,gBAEhCA,EAAazvB,KAAO,WACpByvB,EAAaC,SAAU,EAEvBD,EAAatQ,iBAAiB,SAAU,WACpC5V,EAAO/N,QAAQ6J,SAAS,CAAE1I,QAAS8yB,EAAaC,YAG7CrF;;ACfX9xB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,WAEvBomB,IAAAA,EAAQvT,SAASiE,cAAc,QAc9BsP,OAbPA,EAAMpI,UAAY,OAClBoI,EAAMC,UAAY,QAClBD,EAAMtG,MAAQ,GAEdsG,EAAMxQ,iBAAiB,QAAS,WACX5V,IAAT7M,EAAS6M,EAAO/N,QAAQoJ,WAAxBlI,KACR6M,EAAO/N,QAAQ6J,SAAS,CAAE3I,MAAOA,MAGrC6M,EAAO/N,QAAQ+J,SAAS,OAAQ,SAAc,GAAX7I,IAAAA,EAAAA,EAAAA,KAC/BizB,EAAMlpB,UAAUK,OAAO,WAAYpK,KAGhCizB;;AChBX,IAAMvlB,EAAa5F,QAAQ,iBACrByqB,EAASzqB,QAAQ,YACjBumB,EAAavmB,QAAQ,iBACrBhI,EAAQgI,QAAQ,WAChB0qB,EAAc1qB,QAAQ,kBACtB9H,EAAO8H,QAAQ,UAGfhJ,EAAU,CACZ4O,WAAAA,EACA6kB,OAAAA,EACAlE,WAAAA,EACAvuB,MAAAA,EACA0yB,YAAAA,EACAxyB,KAAAA,GAGJnE,OAAOC,QAAUgD;;ACjBjB,IAAMokB,EAASpb,QAAQ,kBAAkB0iB,SAAW1iB,QAAQ,kBAE5DjM,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAa,OAAA,SAAAC,GAEvBqmB,IAAAA,EAAgBzT,SAASiE,cAAc,OAC7CwP,EAActI,UAAY,gBAEpB9d,IAAAA,EAAOF,EAAOvM,MAAM4H,SAAS4E,GAQ5BqmB,OANHjQ,IAAAA,EAAO,CACP8B,OAAQmO,EACR1W,MAAO1P,EAAKxM,OACZsI,SAAU,SAAAkI,GAAKlE,OAAAA,EAAOvM,MAAMqI,SAASmE,EAAQ,CAAEvM,OAAQwQ,EAAE9P,SAGtDkyB;;ACfXt3B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ4gB,EAAAA,EAAAA,WAAiB,OAAA,SAAA3gB,GAEnCwgB,IAOAvgB,EAAOF,EAAOvM,MAAM4H,SAAS4E,GAC7BsmB,EAAarmB,EAAK1O,KAPbovB,EAAWH,aAAa,SAAAvc,GACrB1S,IAAAA,EAAO0S,EAAErP,OAAOyiB,YAAYnnB,OAClC6P,EAAOvM,MAAMqI,SAASmE,EAAQ,CAAEzO,KAAAA,MAKQqhB,SAASiE,cAAc,QAIhEyP,OAHPA,EAAWvI,UAA8B/d,kBAAAA,OAAAA,GACzCsmB,EAAWjP,YAAcpX,EAAK1O,KAEvB+0B;;ACdXv3B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ6gB,EAAAA,EAAAA,MAAY,OAAA,SAAA5gB,GAE9BC,IAAAA,EAAOF,EAAOvM,MAAM4H,SAAS4E,GAE7BumB,EAAkB3T,SAASiE,cAAc,QAC/C0P,EAAgBxI,UAAmC/d,uBAAAA,OAAAA,GACnDumB,EAAgBtpB,UAAUK,OAAO,YAAa2C,EAAK1O,MAE7Ci1B,IAAAA,EAAmB5F,EAAMptB,MAAMizB,gBAAgBzmB,GAC/CqmB,EAAgBzF,EAAMptB,MAAM4qB,aAAape,GAIxCumB,OAFPA,EAAgB5G,OAAO6G,EAAkBH,GAElCE;;ACbXx3B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAUugB,EAAAA,EAAAA,MAAY,OAAA,WAExCptB,IAAAA,EAAQ,GAERkzB,EAAS9T,SAASiE,cAAc,OAEhCnU,EAAO,WACTrC,EAAS7M,MAAMyN,YAAYjF,QAAQ,SAAAiE,GACzB0mB,IAAAA,EAAQnzB,EAAMyM,EAAK3E,IACrBqrB,GAAOD,EAAOpP,YAAYoP,EAAOE,YAAYD,OAUnDE,EAAiB,SAAA7mB,IANR,SAAAA,GACL2mB,IAAAA,EAAQ/F,EAAMptB,MAAMszB,eAAe9mB,GACzCxM,EAAMwM,GAAU2mB,EAChBD,EAAOpP,YAAYqP,GAGYlrB,CAAOuE,GAAS0C,KAO5CgkB,OALP3mB,EAAOvM,MAAMgJ,MAAMR,QAAQ6qB,GAC3B9mB,EAAOvM,MAAM0I,SAAS2qB,GACtB9mB,EAAO/N,QAAQ+J,SAAS,eAAgB2G,GACxC3C,EAAOD,aAAavE,YAAY,CAAE2E,SAAUwC,IAErCgkB;;AC1BX,IAAMtI,EAAepjB,QAAQ,mBACvByrB,EAAkBzrB,QAAQ,uBAC1B8rB,EAAiB9rB,QAAQ,qBACzBmmB,EAAWnmB,QAAQ,eAGnBxH,EAAQ,CACV4qB,aAAAA,EACAqI,gBAAAA,EACAK,eAAAA,EACA3F,SAAAA,GAGJpyB,OAAOC,QAAUwE;;ACbjBzE,OAAOC,QAAU,SAAA,GAAG+O,IAAAA,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAa,OAAA,WAE5B8gB,IAAAA,EAAajO,SAASiE,cAAc,OAC1CgK,EAAW9C,UAAY,sBAEjBgJ,IAAAA,EAAanU,SAASiE,cAAc,OAC1CkQ,EAAWhJ,UAAY,sBAEjBiJ,IAAAA,EAAuBjpB,EAAID,iBAAiBipB,GAClDhnB,EAAO/N,QAAQ+J,SAAS,OAAQ,SAAc,GAAX7I,IAAAA,EAAAA,EAAAA,KAC/B8zB,EAAqB1pB,OAAOpK,GAC5B2tB,EAAW5jB,UAAUK,OAAO,OAAQpK,KAGlC+zB,IAAAA,EAASrU,SAASiE,cAAc,OAK/BgK,OAJPoG,EAAOlJ,UAAY,YAEnB8C,EAAWlB,OAAOoH,EAAYE,GAEvBpG;;ACnBX9xB,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ6gB,EAAAA,EAAAA,MAAY,OAAA,SAAA7e,GAEhCmlB,IAAAA,EAmBGA,OAjBPnnB,EAAO/N,QAAQ+J,SAAS,SAAU,SAAgB,GAAb9I,IAAAA,EAAAA,EAAAA,OAC3Bk0B,EAAavU,SAASiE,cAAc,OAC1CsQ,EAAWpJ,UAAY,SAEV9qB,EAAOhD,IAAI,SAAAm3B,GACdC,IAAAA,EAAOzU,SAASiE,cAAc,OAI7BwQ,OAHPA,EAAKtJ,UAAY,MACEqJ,EAAIn3B,IAAI,SAAAsB,GAAQqvB,OAAAA,EAAM/gB,KAAKtO,GAAMwQ,KACzC/F,QAAQ,SAAAsrB,GAAcD,OAAAA,EAAK1H,OAAO2H,KACtCD,IAGNrrB,QAAQ,SAAAqrB,GAAQF,OAAAA,EAAWxH,OAAO0H,KACvCH,EAAUC,IAIPD;;ACrBXn4B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ4gB,EAAAA,EAAAA,WAAiB,OAAA,SAAA5e,GAEnCsjB,IAAAA,EAAQ1E,EAAWH,aAAa,SAAAvc,GAC5B1S,IAAAA,EAAO0S,EAAErP,OAAOyiB,YAAYnnB,OAC1B2R,EAAU9B,EAAOD,aAAa1E,SAAS2G,GAAvCF,MACR9B,EAAOF,KAAKhE,SAASgG,EAAO,CAAEtQ,KAAAA,MAS3B8zB,OANPA,EAAMtH,UAAY,WAElBhe,EAAOD,aAAaxE,GAAGyG,GAAYhG,SAAS,OAAQ,SAAc,GAAXxK,IAAAA,EAAAA,EAAAA,KACnD8zB,EAAMhO,YAAc9lB,IAGjB8zB;;ACdXt2B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAUsgB,EAAAA,EAAAA,WAAiB,OAAA,SAAA5e,GAE7C4kB,IAAAA,EAAQhG,EAAWH,aAAa,SAAAvc,GAC5B1S,IAAAA,EAAO0S,EAAErP,OAAOyiB,YAAYnnB,OAC5B8P,EAASK,EAAS7M,MAAMwN,yBAAyBzP,GAC/CsQ,EAAU9B,EAAOD,aAAa1E,SAAS2G,GAAvCF,MACR9B,EAAOF,KAAKhE,SAASgG,EAAO,CAAE7B,OAAAA,MAS3B2mB,OANPA,EAAM5I,UAAY,aAElBhe,EAAOD,aAAaxE,GAAGyG,GAAYhG,SAAS,WAAY,SAAkB,GAAfmE,IAAAA,EAAAA,EAAAA,SACvDymB,EAAMtP,YAAcnX,IAGjBymB;;ACfX53B,OAAOC,QAAU,SAAA,GAAGiP,IAAAA,EAAAA,EAAAA,UAAWF,EAAAA,EAAAA,IAAKgC,EAAAA,EAAAA,OAAQM,EAAAA,EAAAA,SAAUugB,EAAAA,EAAAA,MAAY,OAAA,WAExD2G,IAAAA,EAAgB,GAEhBC,EAAQ5U,SAASiE,cAAc,OACrC2Q,EAAMzJ,UAAY,OAalBhe,EAAOD,aAAa5D,SAAS,SAAA6F,IAXX,SAAAA,GACR0lB,IAAAA,EAAO7G,EAAM/gB,KAAKiC,IAAIC,GAC5BwlB,EAAcxlB,GAAc0lB,EAC5BD,EAAM7H,OAAO8H,GASbhkB,CAAU1B,GACV2lB,MAGJ3nB,EAAOD,aAAa3D,eAVF,SAAA4F,GACdwlB,EAAcxlB,GAAY3F,gBACnBmrB,EAAcxlB,KAUnBW,IAAAA,EAAO,WACTrC,EAASR,KAAK2F,gBAAgBxJ,QAAQ,SAAAoE,GAClConB,EAAMlQ,YAAYkQ,EAAMZ,YAAYW,EAAcnnB,EAAS9E,SAI7DosB,EAAc3pB,EAAItL,SAASiQ,EAAMzE,EAAUxL,SAASE,aAMnD60B,OAJPznB,EAAO/N,QAAQ+J,SAAS,eAAgB2G,GAExC3C,EAAOD,aAAavE,YAAYwC,EAAIJ,UAAU,CAAC,OAAQ,YAAa+pB,IAE7DF;;ACrCXz4B,OAAOC,QAAU,SAAA,GAAG+Q,IAAAA,EAAAA,EAAAA,OAAQ6gB,EAAAA,EAAAA,MAAY,OAAA,SAAA7e,GAE9B4lB,IAAAA,EAAgB/U,SAASiE,cAAc,OAC7C8Q,EAAc5J,UAAY,gBAEpB0J,IAAAA,EAAO7U,SAASiE,cAAc,OAY7B8Q,OAXPA,EAAchI,OAAO8H,GAErBA,EAAK9H,OAAOiB,EAAM/gB,KAAK5M,OAAO8O,IAE9BhC,EAAOD,aAAaxE,GAAGyG,GAAYhG,SAAS,SAAU,SAA6B,GAA1B8F,IAAAA,EAAAA,EAAAA,MAAO7B,EAAAA,EAAAA,OAAQyB,EAAAA,EAAAA,KACpEgmB,EAAK1J,UAAsBlc,UAAAA,OAAAA,EAAa7B,SAAAA,OAAAA,EAAUyB,KAAAA,OAAAA,GAE5CxB,IAAAA,EAAOF,EAAOvM,MAAM4H,SAAS4E,GACnCynB,EAAKxqB,UAAUK,OAAO,YAAa2C,EAAK1O,QAGrCo2B;;ACjBX,IAAMC,EAAS5sB,QAAQ,YACjB6sB,EAAU7sB,QAAQ,aAClB8sB,EAAQ9sB,QAAQ,WAChB+sB,EAAQ/sB,QAAQ,WAChBymB,EAAUzmB,QAAQ,cAClB8G,EAAM9G,QAAQ,SAGd6E,EAAO,CACT+nB,OAAAA,EACAC,QAAAA,EACAC,MAAAA,EACAC,MAAAA,EACAtG,QAAAA,EACA3f,IAAAA,GAGJ/S,OAAOC,QAAU6Q;;ACjBjB9Q,OAAOC,QAAU,WAAM,OAAA,WAEb81B,IAAAA,EAAOlS,SAASiE,cAAc,OAqC7BiO,OApCPA,EAAKjF,MAAQ,2BAEbiF,EAAKhO,UAAL,g1CAkCOgO;;ACvCX/1B,OAAOC,QAAU,WAAM,OAAA,WAEb81B,IAAAA,EAAOlS,SAASiE,cAAc,OAS7BiO,OARPA,EAAKjF,MAAQ,aAEbiF,EAAKhO,UAAL,0NAMOgO;;ACXX/1B,OAAOC,QAAU,WAAM,OAAA,WAEb81B,IAAAA,EAAOlS,SAASiE,cAAc,OAuD7BiO,OAtDPA,EAAK/G,UAAY,mBACjB+G,EAAKjF,MAAQ,mBAEbiF,EAAKhO,UAAL,25EAmDOgO;;ACzDX,IAAMF,EAAS5pB,QAAQ,YACjB2pB,EAAa3pB,QAAQ,gBACrBwmB,EAAkBxmB,QAAQ,sBAG1BypB,EAAO,CACTG,OAAAA,EACAD,WAAAA,EACAnD,gBAAAA,GAGJzyB,OAAOC,QAAUy1B;;ACXjB,IAAM9R,EAAY3X,QAAQ,eACpBgmB,EAAUhmB,QAAQ,aAClB8lB,EAAa9lB,QAAQ,gBACrBpJ,EAAWoJ,QAAQ,cACnBmnB,EAASnnB,QAAQ,YACjB+lB,EAAS/lB,QAAQ,YACjBqmB,EAAUrmB,QAAQ,aAClBhJ,EAAUgJ,QAAQ,aAClBxH,EAAQwH,QAAQ,WAChB6E,EAAO7E,QAAQ,UACfypB,EAAOzpB,QAAQ,UAGf4lB,EAAQ,CACVjO,UAAAA,EACAqO,QAAAA,EACAF,WAAAA,EACAlvB,SAAAA,EACAuwB,OAAAA,EACApB,OAAAA,EACAM,QAAAA,EACArvB,QAAAA,EACAwB,MAAAA,EACAqM,KAAAA,EACA4kB,KAAAA,GAGJ11B,OAAOC,QAAU4xB;;AC3BjB5lB,QAAQ,+BAER,IAAMgtB,EAAOhtB,QAAQ,UACfiD,EAAYjD,QAAQ,eAEpB/L,EAAU,CACZ8O,IAAK/C,QAAQ,SACbgD,SAAUhD,QAAQ,cAClB+E,OAAQ/E,QAAQ,YAChBqF,SAAUrF,QAAQ,cAClB2jB,OAAQ3jB,QAAQ,YAChB2lB,WAAY3lB,QAAQ,gBACpB4lB,MAAO5lB,QAAQ,YAGnBjM,OAAOC,QAAU,WAAC8F,IAAAA,EAAO,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAKjBA,EAAAA,EAHAoJ,MAAAA,OAAQ4F,IAAAA,EAAAA,OAAO5F,MAFS,EAKxBpJ,EAAAA,EAFAsO,IAAAA,OAAMU,IAAAA,EAAAA,OAAOV,IAHW,EAKxBtO,EAAAA,EADAZ,OAAAA,OAASkd,IAAAA,EAAAA,KAAKld,OAJU,EAiBtB5C,EAAM02B,EAAK/4B,EAVF,CACX8O,IAAK,SACLC,SAAU,kBACV+B,OAAQ,MACRM,SAAU,oCACVse,OAAQ,sBACRgC,WAAY,MACZC,MAAO,mDAGuB,CAAE3iB,UAAAA,EAAWmF,IAAAA,EAAKlP,OAAAA,EAAQgK,MAAAA,IAIrD5M,OAFPA,EAAI+O,SAASnI,MAAMyJ,aAEZrQ;;AClBX,SAAA,EAAA,GAAA,OAAA,EAAA,mBAAA,QAAA,iBAAA,OAAA,SAAA,SAAA,GAAA,cAAA,GAAA,SAAA,GAAA,OAAA,GAAA,mBAAA,QAAA,EAAA,cAAA,QAAA,IAAA,OAAA,UAAA,gBAAA,IAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,OAAA,GAAA,WAAA,EAAA,IAAA,mBAAA,EAAA,EAAA,GAAA,EAAA,SAAA,EAAA,GAAA,QAAA,IAAA,EAAA,MAAA,IAAA,eAAA,6DAAA,OAAA,EAAA,SAAA,EAAA,EAAA,GAAA,GAAA,mBAAA,GAAA,OAAA,EAAA,MAAA,IAAA,UAAA,sDAAA,EAAA,UAAA,OAAA,OAAA,GAAA,EAAA,UAAA,CAAA,YAAA,CAAA,MAAA,EAAA,UAAA,EAAA,cAAA,KAAA,GAAA,EAAA,EAAA,GAAA,SAAA,EAAA,GAAA,IAAA,EAAA,mBAAA,IAAA,IAAA,SAAA,EAAA,OAAA,EAAA,SAAA,GAAA,GAAA,OAAA,IAAA,EAAA,GAAA,OAAA,EAAA,GAAA,mBAAA,EAAA,MAAA,IAAA,UAAA,sDAAA,QAAA,IAAA,EAAA,CAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,EAAA,IAAA,EAAA,GAAA,SAAA,IAAA,OAAA,EAAA,EAAA,UAAA,EAAA,MAAA,aAAA,OAAA,EAAA,UAAA,OAAA,OAAA,EAAA,UAAA,CAAA,YAAA,CAAA,MAAA,EAAA,YAAA,EAAA,UAAA,EAAA,cAAA,KAAA,EAAA,EAAA,KAAA,GAAA,SAAA,IAAA,GAAA,oBAAA,UAAA,QAAA,UAAA,OAAA,EAAA,GAAA,QAAA,UAAA,KAAA,OAAA,EAAA,GAAA,mBAAA,MAAA,OAAA,EAAA,IAAA,OAAA,KAAA,UAAA,SAAA,KAAA,QAAA,UAAA,KAAA,GAAA,gBAAA,EAAA,MAAA,GAAA,OAAA,GAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,QAAA,UAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,CAAA,MAAA,EAAA,KAAA,MAAA,EAAA,GAAA,IAAA,EAAA,IAAA,SAAA,KAAA,MAAA,EAAA,IAAA,OAAA,GAAA,EAAA,EAAA,EAAA,WAAA,IAAA,MAAA,KAAA,WAAA,SAAA,EAAA,GAAA,OAAA,IAAA,SAAA,SAAA,KAAA,GAAA,QAAA,iBAAA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,OAAA,gBAAA,SAAA,EAAA,GAAA,OAAA,EAAA,UAAA,EAAA,IAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,EAAA,OAAA,eAAA,OAAA,eAAA,SAAA,GAAA,OAAA,EAAA,WAAA,OAAA,eAAA,KAAA,GAlBA,IAAM22B,EAAOjtB,QAAQ,QAEfktB,EAgBN,SAAA,GAdmB,SAAA,IAAA,IAAA,EAAA,EAAA,KAAA,GAELC,IAAAA,GADN,EAAA,EAAA,KAAA,EAAA,GAAA,KAAA,QACoBC,aAAa,CAAE3mB,KAAM,SACnCnQ,EAAM22B,IACNtV,EAAYrhB,EAAIsvB,MAAMjO,YAJjB,OAKXwV,EAAOxI,OAAOhN,GAGT7O,OAAOukB,eAAcvkB,OAAOukB,aAAe,IAChDvkB,OAAOukB,aAAalxB,KAAK7F,GATd,EAcnB,OAAA,EAAA,EAhB2B2mB,EAAAA,cAgB3B,EAAA,GAAAqQ,eAAeC,OAAO,gBAAiBL","file":"src.dd583bce.js","sourceRoot":"../src","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = (modules, wiring, initial = {}) => {\n    return Object.entries(wiring).reduce((acc, [key, resolver]) => {\n        const pipeline = getPipeline(acc, key, modules);\n        return pipeline.reduce((acc, fun) => fun(acc) || acc, resolver);\n    }, initial);\n};\n\nconst getPipeline = (acc, key, tree) => [\n    str => isString(str) ? str.split(/[ ,;]/).map(key => key.trim()) : str,\n    arr => isArray(arr) ? deps => arr.reduce((acc, key) => ({ ...acc, [key]: deps[key] }), {}) : arr,\n    fun => {\n        const product = {};\n        const deps = { ...fun(acc), [key]: product };\n        const val = tree[key];\n        const private = isFunction(val) ? val(deps) : deepMap(val, deps, product);\n        const public = removePrivates(private);\n        return Object.assign(acc, { [key]: public });\n    }\n];\n\nconst deepMap = (obj, deps, product) => {\n    const privatePattern = /^_/;\n    return Object.entries(obj).reduce((acc, [key, val]) => {\n        const newVal = isFunction(val) ? val(deps) : deepMap(val, deps, {});\n        const private = privatePattern.test(key);\n        if (private) newVal.private = true;\n        const newKey = key.replace(privatePattern, '');\n        return Object.assign(acc, { [newKey]: newVal });\n    }, product);\n};\n\nconst removePrivates = obj => {\n    return Object.entries(obj).reduce((acc, [key, val]) => {\n        if (val.private) return acc;\n        const newVal = isFunction(val) ? val : removePrivates(val, {});\n        return Object.assign(acc, { [key]: newVal });\n    }, {});\n};\n\nconst isString = val => typeof val === 'string';\nconst isArray = val => Array.isArray(val);\nconst isFunction = val => typeof val === 'function';\n","const maxSize = 600;\n\nmodule.exports = {\n    app: {\n        name: 'Agile Avatars',\n        issues: 'https://github.com/mattriley/agileavatars/issues',\n        defaultPage: 'avatars'\n    },\n    author: {\n        name: 'Matt Riley',\n        profile: 'https://www.linkedin.com/in/mattrileyau/'\n    },\n    gravatar: {\n        domain: 'https://secure.gravatar.com',\n        size: maxSize,\n        fallbacks: ['robohash', 'monsterid', 'wavatar', 'retro', 'identicon', 'mp']\n    },\n    options: {\n        modes: ['active', 'passive'],\n        shapes: ['circle', 'square'],\n        active: { min: 0, max: 100, step: 1 },\n        passive: { min: 0, max: 100, step: 1 },\n        size: { min: 1, max: maxSize, step: 10 },\n        spacing: { min: 0, max: 10, step: 1 }\n    },\n    debounce: {\n        adjustInstanceCounts: 100,\n        sortTagList: 50\n    },\n    initialState: {\n        app: {\n            modal: null,\n            nilRoleId: null\n        },\n        options: {\n            keepSortedBy: 'orderAdded',\n            shape: 'circle',\n            active: 1,\n            passive: 0,\n            size: 175,\n            spacing: 4,\n            layout: [\n                ['image'],\n                ['name', 'role']\n            ],\n            xray: false,\n            outline: true\n        },\n        gravatar: {\n            fallback: 'robohash',\n            freetext: '',\n            status: 'ready',\n            errorMessage: ''\n        },\n        roles: [\n            { name: '', colour: '#ffffff' },\n            { name: 'ba', colour: '#6688c3' },\n            { name: 'dev', colour: '#48a56a' },\n            { name: 'po', colour: '#ce4a4a' },\n            { name: 'qa', colour: '#eaaf41' },\n            { name: 'tl', colour: 'black' },\n            { name: 'xd', colour: '#b25da6' }\n        ]\n    }\n};\n","module.exports = () => (callback, milliseconds) => {\n\n    let timeoutId;\n\n    return () => {\n        if (timeoutId) clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => { callback(); timeoutId = null; }, milliseconds);\n    };\n};\n\n\n\n/*\n\n- Delays the invocation of `callback` until no further requests are made for `milliseconds`.\n- Serves as an optimisation to ignore invocations made in quick succession.\n\n*/\n","module.exports = () => fileInput => fileInput.files;","module.exports = () => (obj, keys) => keys.reduce((acc, key) => ({ ...acc, [key]: obj[key] }), {});\n","module.exports = ({ random }) => () => {\n\n    const hex = '#' + ('00000' + (random() * (1 << 24) | 0).toString(16)).slice(-6);\n    return { hex };\n\n};\n\n\n\n/*\n\n- Based on: http://disq.us/p/d0itcl\n- Used to assign a colour when a new role is added.\n\n*/\n","module.exports = () => (keys, val) => {\n\n    const items = keys.map(key => ({ [key]: val }));\n    return Object.assign({}, ...items);\n\n};\n\n\n\n/*\n\n- Creates an object with `keys` all having the same `value`.\n- Used to create event listener maps where multiple keys refer to the same listener.\n\n*/\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","const EventEmitter = require('events');\n\nmodule.exports = () => () => {\n\n    let nextId = 1;\n    const index = {};\n    const collectionEvents = new EventEmitter();\n\n    const emptyItem = { getState: () => undefined };\n\n    const find = id => index[id] || emptyItem;\n    const scalar = () => find(insert({})); // pick props\n    const getItems = () => Object.values(index).map(({ getState }) => getState());\n    const getState = id => find(id).getState();\n    const setState = (id, changes) => find(id).setState(changes);\n\n    //const onChange = (id, listenerMap) => find(id).onChange(listenerMap);\n\n    const onChange = (key, id, callback) => {\n        find(id).onChange(key, callback);\n    }\n\n    const onAnyChange = _onAnyChange(collectionEvents);\n    const onInsert = listener => collectionEvents.on('insert', listener);\n    const onBeforeRemove = listener => collectionEvents.on('beforeRemove', listener);\n\n    const insert = (data, callback) => {\n        const id = nextId++;\n        const state = { id, ...data };\n        const itemEvents = new EventEmitter();\n        const getState = () => state;\n        const setState = _setState(state, [itemEvents, collectionEvents]);\n        // const onChange = _onChange(itemEvents);\n\n        const _onChange = eventEmitter => (key, listener) => {\n            key.split(' ').forEach(key => {\n                eventEmitter.on(key, listener);\n            });\n\n            listener(state);\n        };\n\n        const onChange = _onChange(itemEvents);\n        index[id] = { state, getState, setState, onChange, onChange, initialise: setState };\n        if (callback) callback(id);\n        collectionEvents.emit('insert', id);\n        return id;\n    };\n\n    const remove = id => {\n        collectionEvents.emit('beforeRemove', id);\n        delete index[id];\n    };\n\n    const id = id => {\n        const { onChange } = find(id);\n        return { onChange };\n    }\n\n    return {\n        id,\n        scalar,\n        onInsert,\n        onChange,\n        onAnyChange,\n        onBeforeRemove,\n        insert,\n        remove,\n        setState,\n        getState,\n        getItems,\n        ids: () => { return Object.keys(index) }\n    };\n\n};\n\n\nconst _setState = (state, eventEmitters) => changes => {\n    Object.entries(changes).forEach(([key, val]) => {\n        state[key] = val;\n        eventEmitters.forEach(eventEmitter => eventEmitter.emit(key, state));\n    });\n};\n\n\n\nconst _onAnyChange = eventEmitter => listenerMap => {\n    const listen = ([key, listener]) => eventEmitter.on(key, listener);\n    Object.entries(listenerMap).forEach(listen);\n};","module.exports = () => string => {\n\n    return string.charAt(0).toUpperCase() + string.slice(1);\n\n};","const HIDE = 'hide';\nconst SHOW = 'show';\n\nmodule.exports = () => targetElement => {\n\n    if (!targetElement.classList.contains(HIDE)) targetElement.classList.add(SHOW);\n\n    const show = () => targetElement.classList.replace(HIDE, SHOW);\n    const hide = () => targetElement.classList.replace(SHOW, HIDE);\n    const toggle = b => b ? show() : hide();\n    return { show, hide, toggle };\n\n};\n\n\n\n/*\n\n- Toggles classes between `hide` and `show`. Actual visibility determined by CSS.\n- Original design only toggled `show`. Explicit `hide` was added to improve readability of CSS.\n- Used to toggle visibility of `modal` and `notice` components.\n\n*/\n","const debounce = require('./debounce');\nconst getFiles = require('./get-files');\nconst pick = require('./pick');\nconst randomColour = require('./random-colour');\nconst sameValue = require('./same-value');\nconst stateStore = require('./state-store');\nconst upperFirst = require('./upper-first');\nconst visibilityToggle = require('./visibility-toggle');\n\n\nconst lib = {\n    debounce,\n    getFiles,\n    pick,\n    randomColour,\n    sameValue,\n    stateStore,\n    upperFirst,\n    visibilityToggle\n};\n\nmodule.exports = lib;","module.exports = ({ gateways, constants, fetch }) => async (email, fallback) => {\n\n    const { domain, size } = constants.gravatar;\n    const emailHash = gateways.gravatar.hashEmail(email);\n    const url = `${domain}/avatar/${emailHash}?r=g&s=${size}&d=${fallback}`;\n    const response = await fetch(url);\n    return response.blob();\n\n};\n","module.exports = ({ gateways }) => async email => {\n\n    const profile = await gateways.gravatar.fetchProfile(email);\n    return profile ? extractNameFromProfile(profile) : extractNameFromEmail(email);\n\n};\n\nconst extractNameFromProfile = profile => profile.name.givenName || profile.displayName;\n\nconst extractNameFromEmail = email => email.split('@')[0];\n\n\n\n/*\n\n- Given name is optional in Gravatar.\n- Not concerned about the validity of the email address.\n\n*/","module.exports = ({ constants, gateways, fetch }) => async email => {\n\n    const { domain } = constants.gravatar;\n    const emailHash = gateways.gravatar.hashEmail(email);\n    const url = `${domain}/${emailHash}.json`;\n    const response = await fetch(url);\n    if (!response.ok) return null;\n    const data = await response.json();\n    return data.entry[0];\n\n};\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n;(function ($) {\n  'use strict'\n\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safeAdd (x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bitRotateLeft (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5cmn (q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  function md5ff (a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  function md5gg (a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  function md5hh (a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  function md5ii (a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binlMD5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32)\n    x[((len + 64) >>> 9 << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xff)\n    }\n    return output\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << (i % 32)\n    }\n    return output\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstrMD5 (s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstrHMACMD5 (key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstrUTF8 (input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function rawMD5 (s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  function hexMD5 (s) {\n    return rstr2hex(rawMD5(s))\n  }\n  function rawHMACMD5 (k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  function hexHMACMD5 (k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","const md5 = require('blueimp-md5');\n\nmodule.exports = () => email => md5(email.trim().toLowerCase());\n","module.exports = ({ gateways }) => async (email, fallback) => {\n\n    const [name, imageBlob] = await Promise.all([\n        gateways.gravatar.fetchName(email),\n        gateways.gravatar.fetchImage(email, fallback)\n    ]);\n\n    return { name, imageBlob };\n\n};\n","const _fetchImage = require('./_fetch-image');\nconst _fetchName = require('./_fetch-name');\nconst _fetchProfile = require('./_fetch-profile');\nconst _hashEmail = require('./_hash-email');\nconst fetchNameAndImage = require('./fetch-name-and-image');\n\n\nconst gravatar = {\n    _fetchImage,\n    _fetchName,\n    _fetchProfile,\n    _hashEmail,\n    fetchNameAndImage\n};\n\nmodule.exports = gravatar;","const gravatar = require('./gravatar');\n\n\nconst gateways = {\n    gravatar\n};\n\nmodule.exports = gateways;","module.exports = ({ lib }) => {\n\n    const { stateStore } = lib;\n\n    return {\n        app: stateStore().scalar(),\n        options: stateStore().scalar(),\n        gravatar: stateStore().scalar(),\n        roles: stateStore(),\n        tags: stateStore(),\n        tagInstances: stateStore()\n    }\n\n};\n","module.exports = ({ stores }) => roleId => () => {\n\n    const role = stores.roles.getState(roleId);\n    const changes = { roleName: role.name };\n    const matchRole = instance => instance.roleId === roleId;\n    const setRoleName = instance => stores.tagInstances.setState(instance.id, changes);\n    stores.tagInstances.getItems().filter(matchRole).forEach(setRoleName);\n\n};\n","module.exports = ({ stores, services }) => (name = '') => {\n\n    name = name.trim();\n    const pattern = new RegExp(`^${name}$`, 'i');\n    const existingRole = stores.roles.getItems().find(role => pattern.test(role.name));\n    return existingRole ? existingRole.id : services.roles.insertRole({ name });\n\n};\n","module.exports = ({ lib, stores, services }) => roleData => {\n\n    const changes = {\n        name: roleData.name.trim().toUpperCase(),\n        colour: roleData.colour || lib.randomColour().hex\n    };\n\n    return stores.roles.insert({ ...roleData, ...changes }, roleId => {\n        const wireEvents = () => stores.roles.id(roleId).onChange('name', services.roles.propagateRoleName(roleId));\n        const cacheNilRole = () => stores.app.setState({ nilRoleId: roleId });\n        const { name } = stores.roles.getState(roleId);\n        name ? wireEvents() : cacheNilRole();\n    });\n\n};\n","module.exports = ({ stores }) => () => {\n\n    const { keepSorted } = stores.options.getState();\n    const { nilRoleId } = stores.app.getState();\n\n    const roles = stores.roles.getItems().filter(role => role.id !== nilRoleId);\n    const sortRoles = () => roles.sort((a, b) => a.name.localeCompare(b.name));\n    const nilRole = stores.roles.getState(nilRoleId);\n    const sortedRoles = roles; // keepSorted ? sortRoles() : roles;\n    return sortedRoles.concat(nilRole);\n\n};\n\n\n\n// module.exports = ({ stores }) => () => {\n\n//     return stores.roles.getItems()\n\n//     // const { keepSorted } = stores.options.getState();\n//     // const { nilRoleId } = stores.app.getState();\n\n//     // const roles = stores.roles.getItems().filter(role => role.id !== nilRoleId);\n//     // const sortRoles = () => roles.sort((a, b) => a.name.localeCompare(b.name));\n//     // const nilRole = stores.roles.getState(nilRoleId);\n//     // const sortedRoles = keepSorted ? sortRoles() : roles;\n//     // return sortedRoles.concat(nilRole);\n\n// };\n","const _propagateRoleName = require('./_propagate-role-name');\nconst findOrInsertRoleWithName = require('./find-or-insert-role-with-name');\nconst insertRole = require('./insert-role');\nconst sortRoles = require('./sort-roles');\n\n\nconst roles = {\n    _propagateRoleName,\n    findOrInsertRoleWithName,\n    insertRole,\n    sortRoles\n};\n\nmodule.exports = roles;","const status = {\n    ready: 'ready',\n    working: 'working',\n    error: 'error'\n};\n\nmodule.exports = ({ stores }) => {\n\n    const statusIs = status => () => stores.gravatar.getState().status === status;\n\n    const isReady = statusIs(status.ready);\n    const isWorking = statusIs(status.working);\n    const isError = statusIs(status.error);\n\n    const ready = () => {\n        stores.gravatar.setState({ status: status.ready, freetext: '', errorMessage: '' });\n    };\n\n    const working = () => {\n        stores.gravatar.setState({ status: status.working });\n    };\n\n    const error = errorMessage => {\n        stores.gravatar.setState({ status: status.error, errorMessage });\n    };\n\n    return { isReady, isWorking, isError, ready, working, error };\n\n};\n","module.exports = ({ constants, stores, services }) => () => {\n\n    services.state.load(constants.initialState);\n\n    // not sure where best to put this\n    constants.options.modes.forEach(mode => {\n        stores.options.onChange(mode, services.tags.adjustInstanceCounts);\n    });\n\n\n};\n","module.exports = ({ stores, services }) => state => {\n\n    const initialisers = {\n        roles: roles => roles.forEach(services.roles.insertRole),\n        // tags: tags => tags.forEach(services.tags.insertTag), // not in use\n    };\n\n    Object.entries(state).forEach(([key, state]) => {\n        const initialise = initialisers[key] || stores[key].initialise;\n        initialise(state);\n    });\n\n};\n","const gravatar = require('./gravatar');\nconst initialise = require('./initialise');\nconst load = require('./load');\n\n\nconst state = {\n    gravatar,\n    initialise,\n    load\n};\n\nmodule.exports = state;","module.exports = ({ stores }) => instanceData => {\n\n    const { tagId, mode } = instanceData;\n    const tag = stores.tags.getState(tagId);\n    const { name, roleId } = tag;\n    const { name: roleName } = stores.roles.getState(roleId);\n    const changes = { name, roleId, roleName }\n\n    const callback = instanceId => {\n        /*\n            As an optimisation, track instances for quick lookup.\n            */\n        stores.tags.setState(tagId, {\n            instances: tag.instances.concat(instanceId),\n            [mode]: tag[mode].concat(instanceId)\n        });\n    }\n\n    const instanceId = stores.tagInstances.insert({ ...instanceData, ...changes }, callback);\n    return instanceId;\n\n\n};\n","module.exports = () => filename => {\n\n    return filename.match(/^(\\d+)?(.+)/)[2].split('.')[0].split('+').map(s => s.trim());\n\n};\n\n\n\n/*\n\n- Leading numbers are stripped, allowing them to be used for ordering on a local file system.\n  This enables the user to drag and drop a selection of files and have them rendered in their preferred order.\n- Any file extensions are stripped from the first dot.\n- The remainder of the filename is split on + to allow an optional role name.\n\n*/\n","module.exports = () => (tags, modeCounts) => {\n\n    return tags.flatMap(tag => {\n        return Object.entries(modeCounts).flatMap(([mode, count]) => {\n            return plan({ tag, mode, count });\n        });\n    });\n\n};\n\nconst plan = ({ tag, mode, count }) => {\n\n    const diff = count - tag[mode].length;\n\n    const planInsert = () => {\n        return { insert: Array(diff).fill({ tagId: tag.id, mode }) };\n    };\n\n    const planRemove = () => {\n        return { remove: tag[mode].slice(diff) };\n    };\n\n    return diff ? (diff > 0 ? planInsert() : planRemove()) : {};\n};","module.exports = ({ stores }) => tagId => () => {\n\n    const { roleId, instances } = stores.tags.getState(tagId);\n    const { name: roleName } = stores.roles.getState(roleId);\n    const changes = { roleId, roleName };\n    instances.forEach(id => stores.tagInstances.setState(id, changes));\n\n};\n","module.exports = ({ stores }) => tagId => () => {\n\n    const { name, instances } = stores.tags.getState(tagId);\n    const changes = { name };\n    instances.forEach(id => stores.tagInstances.setState(id, changes));\n\n};\n","module.exports = ({ stores }) => instanceId => {\n\n    const { tagId, mode } = stores.tagInstances.getState(instanceId);\n    const tag = stores.tags.getState(tagId);\n\n    const notThisInstance = id => id !== instanceId;\n\n    stores.tags.setState(tagId, {\n        instances: tag.instances.filter(notThisInstance),\n        [mode]: tag[mode].filter(notThisInstance)\n    });\n\n    stores.tagInstances.remove(instanceId);\n\n};\n","module.exports = ({ constants, stores }) => tags => {\n\n    return tags.flatMap(tag => {\n        return constants.options.modes.flatMap(mode => {\n            return tag[mode].map(instanceId => stores.tagInstances.getState(instanceId));\n        });\n    });\n\n};\n","module.exports = ({ stores }) => () => {\n\n    return stores.tags.getItems().sort((a, b) => {\n        return a.name.localeCompare(b.name);\n    });\n\n};\n","module.exports = ({ stores }) => () => {\n\n    return stores.tags.getItems().sort((a, b) => {\n        const { name: roleNameA } = stores.roles.getState(a.roleId);\n        const { name: roleNameB } = stores.roles.getState(b.roleId);\n        const roleComparison = roleNameA.localeCompare(roleNameB);\n        const nameComparison = a.name.localeCompare(b.name);\n        return roleComparison || nameComparison;\n    });\n\n};\n","module.exports = ({ constants, lib, stores, services }) => {\n\n    const adjustInstanceCounts = () => {\n        const { planInstanceCountAdjustment, insertInstance, removeInstance } = services.tags;\n\n        const tags = stores.tags.getItems();\n        const modeCounts = lib.pick(stores.options.getState(), constants.options.modes);\n        const plans = planInstanceCountAdjustment(tags, modeCounts);\n\n        plans.forEach(plan => {\n            plan = { insert: [], remove: [], ...plan };\n            plan.insert.forEach(insertInstance);\n            plan.remove.forEach(removeInstance);\n        });\n    };\n\n    return lib.debounce(adjustInstanceCounts, constants.debounce.adjustInstanceCounts);\n\n};\n","module.exports = ({ gateways, stores, services, URL }) => async () => {\n\n    const { freetext, fallback } = stores.gravatar.getState();\n\n    const emails = freetext.split(/[\\r\\n,;]+/g).map(s => s.trim()).filter(s => s);\n\n    services.state.gravatar.working();\n\n    const promises = emails.map(async email => {\n        const { name, imageBlob } = await gateways.gravatar.fetchNameAndImage(email, fallback);\n        const image = URL.createObjectURL(imageBlob);\n        services.tags.insertTag({ name, image });\n    });\n\n    try {\n        await Promise.all(promises);\n        services.state.gravatar.ready();\n        return true;\n    } catch (err) {\n        console.error(err);\n        const errorMessage = 'An error occurred. Please check your connection and try again.';\n        services.state.gravatar.error(errorMessage);\n        return false;\n    }\n\n};\n","// TODO: Refactor.\n\nmodule.exports = ({ services }) => () => imageFile => {\n\n    const fileLoaded = (name, roleName) => e => {\n        const image = e.target.result;\n        const roleId = services.roles.findOrInsertRoleWithName(roleName);\n        const tag = { name, roleId, image };\n        services.tags.insertTag(tag);\n    };\n\n    if (!imageFile.type.startsWith('image/')) return;\n    const [name, roleName] = services.tags.parseFilename(imageFile.name);\n    const reader = new window.FileReader();\n    reader.onload = fileLoaded(name, roleName);\n\n    reader.readAsDataURL(imageFile);\n\n};\n","module.exports = ({ lib, constants, stores, services }) => tagData => {\n\n    const changes = {\n        name: lib.upperFirst((tagData.name || '').trim()),\n        roleId: tagData.roleId || stores.app.getState().nilRoleId,\n        instances: [],\n        ...lib.sameValue(constants.options.modes, [])\n    };\n\n    const tagId = stores.tags.insert({ ...tagData, ...changes }, tagId => {\n\n        stores.tags.id(tagId).onChange('name', services.tags.propagateTagName(tagId));\n        stores.tags.id(tagId).onChange('roleId', services.tags.propagateRoleId(tagId));\n        services.tags.adjustInstanceCounts();\n\n    });\n\n    return tagId;\n\n};\n","module.exports = ({ stores, services }) => () => {\n\n    const { sortTagsByRoleThenName, sortTagsByName, sortInstancesByTagThenMode } = services.tags;\n    const { keepSortedBy } = stores.options.getState();\n\n    const map = {\n        orderAdded: stores.tags.getItems,\n        roleThenName: sortTagsByRoleThenName,\n        name: sortTagsByName\n    };\n\n    const tags = map[keepSortedBy]();\n\n    return sortInstancesByTagThenMode(tags);\n\n};\n","const _insertInstance = require('./_insert-instance');\nconst _parseFilename = require('./_parse-filename');\nconst _planInstanceCountAdjustment = require('./_plan-instance-count-adjustment');\nconst _propagateRoleId = require('./_propagate-role-id');\nconst _propagateTagName = require('./_propagate-tag-name');\nconst _removeInstance = require('./_remove-instance');\nconst _sortInstancesByTagThenMode = require('./_sort-instances-by-tag-then-mode');\nconst _sortTagsByName = require('./_sort-tags-by-name');\nconst _sortTagsByRoleThenName = require('./_sort-tags-by-role-then-name');\nconst adjustInstanceCounts = require('./adjust-instance-counts');\nconst insertGravatar = require('./insert-gravatar');\nconst insertImage = require('./insert-image');\nconst insertTag = require('./insert-tag');\nconst sortInstances = require('./sort-instances');\n\n\nconst tags = {\n    _insertInstance,\n    _parseFilename,\n    _planInstanceCountAdjustment,\n    _propagateRoleId,\n    _propagateTagName,\n    _removeInstance,\n    _sortInstancesByTagThenMode,\n    _sortTagsByName,\n    _sortTagsByRoleThenName,\n    adjustInstanceCounts,\n    insertGravatar,\n    insertImage,\n    insertTag,\n    sortInstances\n};\n\nmodule.exports = tags;","const roles = require('./roles');\nconst state = require('./state');\nconst tags = require('./tags');\n\n\nconst services = {\n    roles,\n    state,\n    tags\n};\n\nmodule.exports = services;","/*global String*/\n/*global atob*/\nString.prototype.startsWith = (String.prototype.startsWith || function(needle)   { return (this.indexOf(needle) === 0); });\nString.prototype.padStart   = (String.prototype.padStart   || function(len, pad) { let str = this; while(str.length < len) { str = pad + str; }; return str; });\n\n\n/*\n\tCode golfing:\n\tThis is a compacted list of all 148 CSS color names (from https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json).\n\tEvery seven characters in this array is a name and its RGB value.\n\n\t\t//3 chars name hash (rudimentary, but just enough to separate all unique colors),\n\t\t//based on https://stackoverflow.com/a/15710692/1869660\n\t\thash = [].reduce.call(name.replace('ey','ay'), (h, c) => (h << 2) + c.charCodeAt(0), 0)\n\t\t\t\t\t\t\t.toString(36).slice(-3);\n\n\t\t//4 chars base64 color value. Split the hex into [R, G, B], cast to bytes and base64-encode the byte array:\n\t\thex64 = btoa( hex.match(/../g).map(x => String.fromCharCode(parseInt(x, 16))).join('') );\n\nconst colorNames = '735AACA770//Xub218Pj/mo5+uvX6mdAP//gtpf//Ur258P//q1d9fXcxop/+TEq9zAAAAqfg/+vN6m1AAD/ngoiiviqt6pSoqzyo3riHxvdX56grk1f/8Aax10mkeqts/39QxbtZJXttkb//jcyxm3BQ86rmAP//wl5AACLwqqAIuL3y8uIYLwv1qampniqAGQAns5vbdrmohiwCLw5uVWsvsdd/4wAsegmTLMqagiwAAsqi6ZZ6uz6j7yPxtzSD2Lxk3L09PudbAM7RwsolADT0kz/xSTfuhAL//vfhaWlpyuxHpD/43rsiIiwn9//rw39uIosi9bp/wD/6w73Nzc9s5+Pj/6v8/9cA3b42qUg6vxgICArmaAIAAtdfrf8vf9n8P/wek3/2m0xnczVxc3bvSwCCsdt///wrvp8OaMs5i5ub6iyk//D1e8ifPwAoui//rNpyxrdjmw9c8ICAq4i4P//mx9+vrSq8t09PTx1ukO6Qqlv/7bBuuy/6B690uILKqpfdh876sd9d4iZnehsMTe0dv///g71lAP8A4nmMs0ys9u+vDmg9d/wD/4pmgAAAcurZs2qzllAADN4lkulXT6txk3Db66qPLNxozre2juokuAPqalj3SNHMgdkxxWF60pGRlwxfl9f/6hr5/+Thx6q/+S1m85/96tutd/fXmszxgIAAe4ma44j8rl/6UAmu0/0UA8so2nDWji87uiqumqmPuY9xbr+7u4rs23CTsb8/+/V95a/9q577xzYU/78z/8DL7b53aDdsu1sODmb11gACAy5nZjOZ1so/wAAlvevI+Pn09QWnhm7ui0UT94q+oBy7ei9KRg5aqLotXad5oFItasmwMDAaihh87r9fdalrN9p9cICQ7gz//r6k5uAP9/4qhRoK01te0rSM7cwAICA91x2L/Yclr/2NHcw1QODQd6w7oLuua09d6zudh////t359fX1enn//8Ao0ims0y';\nlet  colorNamesDeser;\n*/\n//https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json\nconst colorNames = { aliceblue:'#f0f8ff', antiquewhite:'#faebd7', aqua:'#00ffff', aquamarine:'#7fffd4', azure:'#f0ffff', beige:'#f5f5dc', bisque:'#ffe4c4', black:'#000000', blanchedalmond:'#ffebcd', blue:'#0000ff', blueviolet:'#8a2be2', brown:'#a52a2a', burlywood:'#deb887', cadetblue:'#5f9ea0', chartreuse:'#7fff00', chocolate:'#d2691e', coral:'#ff7f50', cornflowerblue:'#6495ed', cornsilk:'#fff8dc', crimson:'#dc143c', cyan:'#00ffff', darkblue:'#00008b', darkcyan:'#008b8b', darkgoldenrod:'#b8860b', darkgray:'#a9a9a9', darkgreen:'#006400', darkgrey:'#a9a9a9', darkkhaki:'#bdb76b', darkmagenta:'#8b008b', darkolivegreen:'#556b2f', darkorange:'#ff8c00', darkorchid:'#9932cc', darkred:'#8b0000', darksalmon:'#e9967a', darkseagreen:'#8fbc8f', darkslateblue:'#483d8b', darkslategray:'#2f4f4f', darkslategrey:'#2f4f4f', darkturquoise:'#00ced1', darkviolet:'#9400d3', deeppink:'#ff1493', deepskyblue:'#00bfff', dimgray:'#696969', dimgrey:'#696969', dodgerblue:'#1e90ff', firebrick:'#b22222', floralwhite:'#fffaf0', forestgreen:'#228b22', fuchsia:'#ff00ff', gainsboro:'#dcdcdc', ghostwhite:'#f8f8ff', gold:'#ffd700', goldenrod:'#daa520', gray:'#808080', green:'#008000', greenyellow:'#adff2f', grey:'#808080', honeydew:'#f0fff0', hotpink:'#ff69b4', indianred:'#cd5c5c', indigo:'#4b0082', ivory:'#fffff0', khaki:'#f0e68c', lavender:'#e6e6fa', lavenderblush:'#fff0f5', lawngreen:'#7cfc00', lemonchiffon:'#fffacd', lightblue:'#add8e6', lightcoral:'#f08080', lightcyan:'#e0ffff', lightgoldenrodyellow:'#fafad2', lightgray:'#d3d3d3', lightgreen:'#90ee90', lightgrey:'#d3d3d3', lightpink:'#ffb6c1', lightsalmon:'#ffa07a', lightseagreen:'#20b2aa', lightskyblue:'#87cefa', lightslategray:'#778899', lightslategrey:'#778899', lightsteelblue:'#b0c4de', lightyellow:'#ffffe0', lime:'#00ff00', limegreen:'#32cd32', linen:'#faf0e6', magenta:'#ff00ff', maroon:'#800000', mediumaquamarine:'#66cdaa', mediumblue:'#0000cd', mediumorchid:'#ba55d3', mediumpurple:'#9370db', mediumseagreen:'#3cb371', mediumslateblue:'#7b68ee', mediumspringgreen:'#00fa9a', mediumturquoise:'#48d1cc', mediumvioletred:'#c71585', midnightblue:'#191970', mintcream:'#f5fffa', mistyrose:'#ffe4e1', moccasin:'#ffe4b5', navajowhite:'#ffdead', navy:'#000080', oldlace:'#fdf5e6', olive:'#808000', olivedrab:'#6b8e23', orange:'#ffa500', orangered:'#ff4500', orchid:'#da70d6', palegoldenrod:'#eee8aa', palegreen:'#98fb98', paleturquoise:'#afeeee', palevioletred:'#db7093', papayawhip:'#ffefd5', peachpuff:'#ffdab9', peru:'#cd853f', pink:'#ffc0cb', plum:'#dda0dd', powderblue:'#b0e0e6', purple:'#800080', rebeccapurple:'#663399', red:'#ff0000', rosybrown:'#bc8f8f', royalblue:'#4169e1', saddlebrown:'#8b4513', salmon:'#fa8072', sandybrown:'#f4a460', seagreen:'#2e8b57', seashell:'#fff5ee', sienna:'#a0522d', silver:'#c0c0c0', skyblue:'#87ceeb', slateblue:'#6a5acd', slategray:'#708090', slategrey:'#708090', snow:'#fffafa', springgreen:'#00ff7f', steelblue:'#4682b4', tan:'#d2b48c', teal:'#008080', thistle:'#d8bfd8', tomato:'#ff6347', turquoise:'#40e0d0', violet:'#ee82ee', wheat:'#f5deb3', white:'#ffffff', whitesmoke:'#f5f5f5', yellow:'#ffff00', yellowgreen:'#9acd32' };\n\n\nfunction printNum(num, decs = 1) {\n\tconst str = (decs > 0) ? num.toFixed(decs).replace(/0+$/, '').replace(/\\.$/, '')\n\t                       : num.toString();\n\treturn str || '0';\n}\n\n\nclass Color {\n\n\tconstructor(r, g, b, a) {\n\n        const that = this;\n\t\tfunction parseString(input) {\n\n\t\t\t//HSL string. Examples:\n\t\t\t//\thsl(120, 60%,  50%) or \n\t\t\t//\thsla(240, 100%, 50%, .7)\n\t\t\tif( input.startsWith('hsl') ) {\n\t\t\t\tlet [h, s, l, a] = input.match(/([\\-\\d\\.e]+)/g).map(Number);\n\t\t\t\tif(a === undefined) { a = 1; }\n\n\t\t\t\th /= 360;\n\t\t\t\ts /= 100;\n\t\t\t\tl /= 100;\n\t\t\t\tthat.hsla = [h, s, l, a];\n\t\t\t}\n\n\t\t\t//RGB string. Examples:\n\t\t\t//\trgb(51, 170, 51)\n\t\t\t//\trgba(51, 170, 51, .7)\n\t\t\telse if( input.startsWith('rgb') ) {\n\t\t\t\tlet [r, g, b, a] = input.match(/([\\-\\d\\.e]+)/g).map(Number);\n\t\t\t\tif(a === undefined) { a = 1; }\n\t\t\t\t\n\t\t\t\tthat.rgba = [r, g, b, a];\n\t\t\t}\n\n\t\t\t//Hex string or color name:\n\t\t\telse {\n\t\t\t\tif( input.startsWith('#') ) {\n\t\t\t\t\tthat.rgba = Color.hexToRgb(input);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthat.rgba = Color.nameToRgb(input) || Color.hexToRgb(input);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tif( r === undefined ) {\n\t\t\t//No color input - the color can be set later through .hsla/.rgba/.hex\n\t\t}\n\n\t\t//Single input - RGB(A) array\n\t\telse if( Array.isArray(r) ) {\n\t\t\tthis.rgba = r;\n\t\t}\n\n\t\t//Single input - CSS string\n\t\telse if( b === undefined ) {\n\t\t\tconst color = r && ('' + r);\n\t\t\tif(color) {\n\t\t\t\tparseString(color.toLowerCase());\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tthis.rgba = [r, g, b, (a === undefined) ? 1 : a];\n\t\t}\n\t}\n\n\n\t/* RGBA representation */\n\n\tget rgba() {\n\t\tif(this._rgba) { return this._rgba; }\n\t\tif(!this._hsla) { throw new Error('No color is set'); }\n\t\t\n\t\treturn (this._rgba = Color.hslToRgb(this._hsla));\n\t}\n\tset rgba(rgb) {\n\t\tif(rgb.length === 3) { rgb[3] = 1; }\n\t\t\n\t\tthis._rgba = rgb;\n\t\tthis._hsla = null;\n\t}\n\n\tprintRGB(alpha) {\n\t\tconst rgb = alpha ? this.rgba : this.rgba.slice(0, 3),\n\t\t\t  vals = rgb.map((x, i) => printNum(x, (i === 3) ? 3 : 0));\n\n\t\treturn alpha ? `rgba(${ vals })` : `rgb(${ vals })`;\n\t}\n\tget rgbString()  { return this.printRGB(); }\n\tget rgbaString() { return this.printRGB(true); }\n\n\n\t/* HSLA representation */\n\n\tget hsla() {\n\t\tif(this._hsla) { return this._hsla; }\n\t\tif(!this._rgba) { throw new Error('No color is set'); }\n\t\t\n\t\treturn (this._hsla = Color.rgbToHsl(this._rgba));\n\t}\n\tset hsla(hsl) {\n\t\tif(hsl.length === 3) { hsl[3] = 1; }\n\t\t\n\t\tthis._hsla = hsl;\n\t\tthis._rgba = null;\n\t}\n\n\tprintHSL(alpha) {\n\t\tconst mults = [360, 100, 100, 1],\n\t\t\t  suff =  ['', '%', '%', ''];\n\n\t\tconst hsl = alpha ? this.hsla : this.hsla.slice(0, 3),\n\t\t\t  //in printNum(), use enough decimals to represent all RGB colors:\n\t\t\t  //https://gist.github.com/mjackson/5311256#gistcomment-2336011\n\t\t\t  vals = hsl.map((x, i) => printNum(x * mults[i], (i === 3) ? 3 : 1) + suff[i]);\n\t\t\n\t\treturn alpha ? `hsla(${ vals })` : `hsl(${ vals })`;\n\t}\n\tget hslString()  { return this.printHSL(); }\n\tget hslaString() { return this.printHSL(true); }\n\n\n\t/* HEX representation */\n\n\tget hex() {\n\t\tconst rgb = this.rgba,\n\t\t\t  hex = rgb.map((x, i) => (i < 3) ? x.toString(16) \n\t\t\t\t\t\t\t\t\t\t\t  : Math.round(x * 255).toString(16));\n\n\t\treturn '#' + hex.map(x => x.padStart(2, '0')).join('');\n\t}\n\tset hex(hex) {\n\t\tthis.rgba = Color.hexToRgb(hex);\n\t}\n\n\tprintHex(alpha) {\n\t\tconst hex = this.hex;\n\t\treturn alpha ? hex : hex.substring(0, 7);\n\t}\n\n\n\t/* Conversion utils */\n\n\n\t/**\n\t * Splits a HEX string into its RGB(A) components\n\t */\n    static hexToRgb(input) {\n    \t//Normalize all hex codes (3/4/6/8 digits) to 8 digits RGBA\n\t\tconst hex = (input.startsWith('#') ? input.slice(1) : input)\n\t\t\t.replace(/^(\\w{3})$/,          '$1F')                   //987      -> 987F\n\t\t\t.replace(/^(\\w)(\\w)(\\w)(\\w)$/, '$1$1$2$2$3$3$4$4')      //9876     -> 99887766\n\t\t\t.replace(/^(\\w{6})$/,          '$1FF');                 //987654   -> 987654FF\n\n\t\tif(!hex.match(/^([0-9a-fA-F]{8})$/)) { throw new Error('Unknown hex color; ' + input); }\n\n\t\tconst rgba = hex\n\t\t\t.match(/^(\\w\\w)(\\w\\w)(\\w\\w)(\\w\\w)$/).slice(1)  //98765432 -> 98 76 54 32\n\t\t\t.map(x => parseInt(x, 16));                    //Hex to decimal\n\n\t\trgba[3] = rgba[3]/255;\n\t\treturn rgba;\n    }\n\n\n\t/**\n\t * Gets the RGB value from a CSS color name\n\t */\n\tstatic nameToRgb(input) {\n\t\t/* See comments on colorNames\n\n\t\tif(!colorNamesDeser) {\n\t\t    colorNamesDeser = {};\n\t\t    colorNames.match(/.{7}/g).forEach(x =>\n\t\t\t\tcolorNamesDeser[x.slice(0, 3)] = atob(x.slice(-4)).split('').map(b => b.charCodeAt(0))\n\t\t    );\n\t\t}\n\t\tconst hash = [].reduce.call(input.replace('ey', 'ay'), (h, c) => (h << 2) + c.charCodeAt(0), 0)\n\t\t\t\t\t\t\t\t.toString(36).slice(-3);\n\n\t\treturn colorNamesDeser[hash];\n\t\t*/\n\t\tconst hex = colorNames[input];\n\t\tif(hex) {\n\t\t\treturn Color.hexToRgb(hex);\n\t\t}\n\t}\n\n\n\t/**\n\t * https://gist.github.com/mjackson/5311256\n\t * \n\t * Converts an RGB color value to HSL. Conversion formula\n\t * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n\t * Assumes r, g, and b are contained in the set [0, 255] and\n\t * returns h, s, and l in the set [0, 1].\n\t */\n    static rgbToHsl([r, g, b, a]) {\n\n        r /= 255;\n        g /= 255;\n        b /= 255;\n\n        const max = Math.max(r, g, b),\n        \t  min = Math.min(r, g, b);\n        let h,\n        \ts,\n        \tl = (max + min) / 2;\n\n        if(max === min){\n\t        h = s = 0; // achromatic\n\t    }\n\t    else {\n\t        const d = max - min;\n\t        s = (l > 0.5) ? d / (2 - max - min) \n\t        \t\t\t  : d / (max + min);\n\t        switch(max) {\n\t            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n\t            case g: h = (b - r) / d + 2; break;\n\t            case b: h = (r - g) / d + 4; break;\n\t        }\n\t        \n\t        h /= 6;\n\t    }\n\t    \n        return [h, s, l, a];\n    }\n\n\n\t/**\n\t * https://gist.github.com/mjackson/5311256\n\t * \n\t * Converts an HSL color value to RGB. Conversion formula\n\t * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n\t * Assumes h, s, and l are contained in the set [0, 1] and\n\t * returns r, g, and b in the set [0, 255].\n\t */\n    static hslToRgb([h, s, l, a]) {\n\n\t\tlet r, g, b;\n\t\t\n\t\tif (s === 0) {\n\t\t\tr = g = b = l; // achromatic\n\t\t}\n\t\telse {\n\t\t\tconst hue2rgb = function(p, q, t) {\n\t\t\t\tif (t < 0) t += 1;\n\t\t\t\tif (t > 1) t -= 1;\n\t\t\t\tif (t < 1/6) return p + (q - p) * 6 * t;\n\t\t\t\tif (t < 1/2) return q;\n\t\t\t\tif (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n\t\t\t\treturn p;\n\t\t\t};\n\t\t\n\t\t\tconst q = (l < 0.5) ? l * (1 + s) \n\t\t\t\t\t\t\t\t: l + s - (l * s),\n\t\t\t\t  p = (2 * l) - q;\n\t\t\t\n\t\t\tr = hue2rgb(p, q, h + 1/3);\n\t\t\tg = hue2rgb(p, q, h);\n\t\t\tb = hue2rgb(p, q, h - 1/3);\n\t\t}\n\t\t\n\t\tconst rgba = [r * 255, g * 255, b * 255].map(Math.round);\n\t\trgba[3] = a;\n\t\t\n\t\treturn rgba;\n    }\n\n}\n\n\nexport default Color;\n","const root = window;\n\n\nfunction dragTracker(options) {\n    \"use strict\";\n    /*global Element*/\n    \n    //Element.closest polyfill:\n    //https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    const ep = Element.prototype;\n    if (!ep.matches)\n         ep.matches = ep.msMatchesSelector || ep.webkitMatchesSelector;\n    if (!ep.closest)\n         ep.closest = function(s) {\n            var node = this;\n            do {\n                if(node.matches(s)) return node;\n                //https://github.com/Financial-Times/polyfill-service/issues/1279\n                node = (node.tagName === 'svg') ? node.parentNode : node.parentElement;\n            } while(node); \n\n            return null;\n        };\n\n\n    options = options || {};\n    const container = options.container || document.documentElement,\n          selector = options.selector,\n\n          callback = options.callback || console.log,\n          callbackStart = options.callbackDragStart,\n          callbackEnd = options.callbackDragEnd,\n          //dragTracker may not play well with additional click events on the same container,\n          //so we include the opportunity to register clicks as well:\n          callbackClick = options.callbackClick,\n          propagate = options.propagateEvents,\n\n          roundCoords = (options.roundCoords !== false),\n          dragOutside = (options.dragOutside !== false),\n          //handleOffset: \"center\", true (default), false\n          handleOffset = options.handleOffset || (options.handleOffset !== false)\n    ;\n    //Whether callback coordinates should be the dragged element's center instead of the top-left corner\n    let offsetToCenter = null;\n    switch(handleOffset) {\n        case 'center':\n            offsetToCenter = true; break;\n        case 'topleft':\n        case 'top-left':\n            offsetToCenter = false; break;\n    }\n\n\n    let dragState;\n    \n    function getMousePos(e, elm, offset, stayWithin) {\n        let x = e.clientX,\n            y = e.clientY;\n\n        function respectBounds(value, min, max) {\n            return Math.max(min, Math.min(value, max));\n        }\n\n        if(elm) {\n            const bounds = elm.getBoundingClientRect();\n            x -= bounds.left;\n            y -= bounds.top;\n\n            if(offset) {\n                x -= offset[0];\n                y -= offset[1];\n            }\n            if(stayWithin) {\n                x = respectBounds(x, 0, bounds.width);\n                y = respectBounds(y, 0, bounds.height);\n            }\n\n            //Adjust the mouseOffset on the dragged element\n            //if the element is positioned by its center:\n            if(elm !== container) {\n                const center = (offsetToCenter !== null)\n                    ? offsetToCenter\n                    //SVG circles and ellipses are positioned by their center (cx/cy), not the top-left corner:\n                    : (elm.nodeName === 'circle') || (elm.nodeName === 'ellipse');\n\n                if(center) {\n                    x -= bounds.width/2;\n                    y -= bounds.height/2;\n                }\n            }\n        }\n        return (roundCoords ? [Math.round(x), Math.round(y)] : [x, y]);\n    }\n    \n    function stopEvent(e) {\n        e.preventDefault();\n        if(!propagate) {\n            e.stopPropagation();\n        }\n    }\n\n    function onDown(e) {\n        let target;\n        if(selector) {\n            target = (selector instanceof Element)\n                            ? (selector.contains(e.target) ? selector : null)\n                            : e.target.closest(selector);\n        }\n        else {\n            //No specific targets, just register dragging within the container. Create a dummy object so 'dragged' isn't falsy:\n            target = {};\n        }\n\n        if(target) {\n            stopEvent(e);\n            \n            const mouseOffset = (selector && handleOffset) ? getMousePos(e, target) : [0, 0],\n                  startPos = getMousePos(e, container, mouseOffset);\n            dragState = {\n                target,\n                mouseOffset,\n                startPos,\n                actuallyDragged: false,\n            };\n\n            if(callbackStart) {\n                callbackStart(target, startPos);\n            }\n        }\n    }\n\n    function onMove(e) {\n        if(!dragState) { return; }\n        stopEvent(e);\n\n        const start = dragState.startPos,\n              pos = getMousePos(e, container, dragState.mouseOffset, !dragOutside);\n\n        //\"touchmove\" events can be fired even if the touched coordinate hasn't changed:\n        //  dragState.actuallyDragged = true;\n        dragState.actuallyDragged = dragState.actuallyDragged || (start[0] !== pos[0]) || (start[1] !== pos[1]);\n\n        callback(dragState.target, pos, start);\n    }\n\n    function onEnd(e, cancelled) {\n        if(!dragState) { return; }\n\n        if(callbackEnd || callbackClick) {\n            const isClick = !dragState.actuallyDragged,\n                  pos = isClick ? dragState.startPos : getMousePos(e, container, dragState.mouseOffset, !dragOutside);\n\n            if(callbackClick && isClick && !cancelled) {\n                callbackClick(dragState.target, pos);\n            }\n            //Call callbackEnd even if this was only a click, because we already called callbackStart.\n            //If this was only a click *and that click was handled*, mark the drag as cancelled:\n            if(callbackEnd) {\n                callbackEnd(dragState.target, pos, dragState.startPos, cancelled || (isClick && callbackClick));\n            }\n        }\n        dragState = null;\n    }\n\n\n    /* Mouse/touch input */\n\n    addEvent(container, 'mousedown', function(e) {\n        if(isLeftButton(e)) {\n            onDown(e);\n        }\n        else {\n            onEnd(e, true);\n        }\n    });\n    addEvent(container, 'touchstart', e => relayTouch(e, onDown));\n\n\n    addEvent(root, 'mousemove', function(e) {\n        if(!dragState) { return; }\n\n        if(isLeftButton(e)) {\n            onMove(e);\n        }\n        //\"mouseup\" outside of window\n        else {\n            onEnd(e);\n        }\n    });\n    addEvent(root, 'touchmove', e => relayTouch(e, onMove));\n\n\n    addEvent(container, 'mouseup', function(e) {\n        //Here we check that the left button is *no longer* pressed:\n        if(dragState && !isLeftButton(e)) { onEnd(e); }\n    });\n    function onTouchEnd(e, cancelled) { onEnd(tweakTouch(e), cancelled); }\n    addEvent(container, 'touchend',    e => onTouchEnd(e));\n    addEvent(container, 'touchcancel', e => onTouchEnd(e, true));\n\n\n    function addEvent(target, type, handler) {\n        target.addEventListener(type, handler);\n    }\n    function isLeftButton(e) {\n        return (e.buttons !== undefined)\n            ? (e.buttons === 1)\n            //Safari: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent#Browser_compatibility\n            : (e.which === 1);\n    }\n    function relayTouch(e, handler) {\n        //Don't interfere with pinch operations - those are probably handled somewhere else..\n        if(e.touches.length !== 1) { onEnd(e, true); return; }\n\n        handler(tweakTouch(e));\n    }\n    function tweakTouch(e) {\n        let touch = e.targetTouches[0];\n        //touchend:\n        if(!touch) { touch = e.changedTouches[0]; }\n        \n        touch.preventDefault = e.preventDefault.bind(e);\n        touch.stopPropagation = e.stopPropagation.bind(e);\n        return touch;\n    }\n}\n\nexport default dragTracker;\n","/*global HTMLElement*/\n\nimport Color from '@sphinxxxx/color-conversion';\nimport dragTracker from 'drag-tracker';\n\n\nconst BG_TRANSP = `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")`;\nconst HUES = 360;\n//We need to use keydown instead of keypress to handle Esc from the editor textbox:\nconst EVENT_KEY = 'keydown', //'keypress'\n      EVENT_CLICK_OUTSIDE = 'mousedown',\n      EVENT_TAB_MOVE = 'focusin';\n\n\nfunction parseHTML(htmlString) {\n    //https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro\n    const div = document.createElement('div');\n    div.innerHTML = htmlString;\n    return div.firstElementChild;\n}\n\nfunction $(selector, context) {\n    return (context || document).querySelector(selector);\n}\n\nfunction addEvent(target, type, handler) {\n    target.addEventListener(type, handler, false);\n}\nfunction stopEvent(e) {\n    //Stop an event from bubbling up to the parent:\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction onKey(target, keys, handler, stop) {\n    addEvent(target, EVENT_KEY, function(e) {\n        if(keys.indexOf(e.key) >= 0) {\n            if(stop) { stopEvent(e); }\n            handler(e);\n        }\n    });\n}\n\n\n/* Inlined Picker CSS */\nconst _style = document.createElement('style');\n_style.textContent = `.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.layout_default.picker_wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;width:6rem}.layout_default .picker_editor input{width:calc(100% + 2px);height:calc(100% + 2px)}.layout_default .picker_sample{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_done{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.picker_wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;background:#f2f2f2;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{margin:-1px}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;-webkit-box-shadow:0 0 3px 1px #67b9ff;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_sl{position:relative;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:monospace;padding:.1em .2em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_done button{-webkit-box-sizing:border-box;box-sizing:border-box;padding:.2em .5em;cursor:pointer}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;-webkit-box-shadow:0 0 10px 1px rgba(0,0,0,0.4);box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;-webkit-box-shadow:none;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}`;\ndocument.documentElement.firstElementChild //<head>, or <body> if there is no <head>\n    .appendChild(_style);\n\n\nclass Picker {\n\n    //https://stackoverflow.com/questions/24214962/whats-the-proper-way-to-document-callbacks-with-jsdoc\n    /**\n     * A callback that gets the picker's current color value.\n     * \n     * @callback Picker~colorCallback\n     * @param {Object} color\n     * @param {number[]} color.rgba       - RGBA color components.\n     * @param {number[]} color.hsla       - HSLA color components (all values between 0 and 1, inclusive).\n     * @param {string}   color.rgbString  - RGB CSS value (e.g. `rgb(255,215,0)`).\n     * @param {string}   color.rgbaString - RGBA CSS value (e.g. `rgba(255,215,0, .5)`).\n     * @param {string}   color.hslString  - HSL CSS value (e.g. `hsl(50.6,100%,50%)`).\n     * @param {string}   color.hslaString - HSLA CSS value (e.g. `hsla(50.6,100%,50%, .5)`).\n     * @param {string}   color.hex        - 8 digit #RRGGBBAA (not supported in all browsers).\n     */\n\n    /**\n     * Create a color picker.\n     * \n     * @example\n     * var picker = new Picker(myParentElement);\n     * picker.onDone = function(color) {\n     *     myParentElement.style.backgroundColor = color.rgbaString;\n     * };\n     * \n     * @example\n     * var picker = new Picker({\n     *     parent: myParentElement,\n     *     color: 'gold',\n     *     onChange: function(color) {\n     *                   myParentElement.style.backgroundColor = color.rgbaString;\n     *               },\n     * });\n     * \n     * @param {Object} options - @see {@linkcode Picker#setOptions|setOptions()}\n     */\n    constructor(options) {\n\n        //Default settings\n        this.settings = {\n            //Allow creating a popup without putting it on screen yet.\n            //  parent: document.body,\n            popup: 'right',\n            layout: 'default',\n            alpha:  true,\n            editor: true,\n            editorFormat: 'hex',\n        };\n\n        //Keep openHandler() pluggable, but call it in the right context:\n        //https://stackoverflow.com/questions/46014034/es6-removeeventlistener-from-arrow-function-oop\n        this._openProxy  = (e) => this.openHandler(e);\n\n        /**\n         * Callback whenever the color changes.\n         * @member {Picker~colorCallback}\n         */\n        this.onChange = null;\n        /**\n         * Callback when the user clicks \"Ok\".\n         * @member {Picker~colorCallback}\n         */\n        this.onDone = null;\n        /**\n         * Callback when the popup opens.\n         * @member {Picker~colorCallback}\n         */\n        this.onOpen = null;\n        /**\n         * Callback when the popup closes.\n         * @member {Picker~colorCallback}\n         */\n        this.onClose = null;\n        \n        this.setOptions(options);\n    }\n\n\n    /**\n     * Set the picker options.\n     * \n     * @param {Object}       options\n     * @param {HTMLElement}  options.parent           - Which element the picker should be attached to.\n     * @param {('top'|'bottom'|'left'|'right'|false)}\n     *                       [options.popup=right]    - If the picker is used as a popup, where to place it relative to the parent. `false` to add the picker as a normal child element of the parent.\n     * @param {string}       [options.template]       - Custom HTML string from which to build the picker. See /src/picker.pug for required elements and class names.\n     * @param {string}       [options.layout=default] - Suffix of a custom \"layout_...\" CSS class to handle the overall arrangement of the picker elements.\n     * @param {boolean}      [options.alpha=true]     - Whether to enable adjusting the alpha channel.\n     * @param {boolean}      [options.editor=true]    - Whether to show a text field for color value editing.\n     * @param {('hex'|'hsl'|'rgb')}\n     *                       [options.editorFormat=hex] - How to display the selected color in the text field (the text field still supports *input* in any format).\n     * @param {string}       [options.color]          - Initial color for the picker.\n     * @param {function}     [options.onChange]       - @see {@linkcode Picker#onChange|onChange}\n     * @param {function}     [options.onDone]         - @see {@linkcode Picker#onDone|onDone}\n     * @param {function}     [options.onOpen]         - @see {@linkcode Picker#onOpen|onOpen}\n     * @param {function}     [options.onClose]        - @see {@linkcode Picker#onClose|onClose}\n     */\n    setOptions(options) {\n        if(!options) { return; }\n        const settings = this.settings;\n\n        function transfer(source, target, skipKeys) {\n            for (const key in source) {\n                if(skipKeys && (skipKeys.indexOf(key) >= 0)) { continue; }\n\n                target[key] = source[key];\n            }\n        }\n\n        if(options instanceof HTMLElement) {\n            settings.parent = options;\n        }\n        else {\n            //const skipKeys = [];\n            //\n            //if(options.popup instanceof Object) {\n            //    transfer(options.popup, settings.popup);\n            //    skipKeys.push('popup');\n            //}\n            \n            /* //TODO: options.layout -> Object\n            {\n                mode: 'hsla',       //'hsla', 'hasl', 'hsl'. Deprecate options.alpha\n                verticalHue: false,\n                verticalAlpha: true,\n                alphaOnSL: false,\n                editor: true,       //Deprecate options.editor\n                css: undefined,     //Same as old options.layout. Default from mode\n                //.template as well?\n            }\n            //*/\n            \n            //New parent?\n            if(settings.parent && options.parent && (settings.parent !== options.parent)) {\n                settings.parent.removeEventListener('click', this._openProxy, false);\n                this._popupInited = false;\n            }\n\n            transfer(options, settings/*, skipKeys*/);\n        \n            //Event callbacks. Hook these up before setColor() below,\n            //because we'll need to fire onChange() if there is a color in the options\n            if(options.onChange) { this.onChange = options.onChange; }\n            if(options.onDone)   { this.onDone   = options.onDone; }\n            if(options.onOpen)   { this.onOpen   = options.onOpen; }\n            if(options.onClose)  { this.onClose  = options.onClose; }\n        \n            //Note: Look for color in 'options', as a color value in 'settings' may be an old one we don't want to revert to.\n            const col = options.color || options.colour;\n            if(col) { this._setColor(col); }\n        }\n        \n        //Init popup behavior once we have all the parts we need:\n        const parent = settings.parent;\n        if(parent && settings.popup && !this._popupInited) {\n\n            addEvent(parent, 'click', this._openProxy);\n\n            //Keyboard navigation: Open on [Space] or [Enter] (but stop the event to avoid typing a \" \" in the editor textbox).\n            //No, don't stop the event, as that would disable normal input behavior (typing a \" \" or clicking the Ok button with [Enter]).\n            //Fix: setTimeout() in openHandler()..\n            //\n            //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values#Whitespace_keys\n            onKey(parent, [' ', 'Spacebar', 'Enter'], this._openProxy/*, true*/);\n            \n            //This must wait until we have created our DOM..\n            //  addEvent(window, 'mousedown', (e) => this.closeHandler(e));\n            //  addEvent(this._domOkay, 'click', (e) => this.closeHandler(e));\n\n            this._popupInited = true;\n        }\n        else if(options.parent && !settings.popup) {\n            this.show();\n        }\n    }\n\n\n    /**\n     * Default behavior for opening the popup\n     */\n    openHandler(e) {\n        if(this.show()) {\n            //If the parent is an <a href=\"#\"> element, avoid scrolling to the top:\n            e && e.preventDefault();\n            \n            //A trick to avoid re-opening the dialog if you click the parent element while the dialog is open:\n            this.settings.parent.style.pointerEvents = 'none';\n\n            //Recommended popup behavior with keyboard navigation from http://whatsock.com/tsg/Coding%20Arena/Popups/Popup%20(Internal%20Content)/demo.htm\n            //Wait a little before focusing the textbox, in case the dialog was just opened with [Space] (would overwrite the color value with a \" \"):\n            const toFocus = (e && (e.type === EVENT_KEY)) ? this._domEdit : this.domElement;\n            setTimeout(() => toFocus.focus(), 100);\n\n            if(this.onOpen) { this.onOpen(this.colour); }\n        }\n    }\n\n\n    /**\n     * Default behavior for closing the popup\n     */\n    closeHandler(e) {\n        const event = e && e.type;\n        let doHide = false;\n\n        //Close programmatically:\n        if(!e) {\n            doHide = true;\n        }\n        //Close by clicking/tabbing outside the popup:\n        else if((event === EVENT_CLICK_OUTSIDE) || (event === EVENT_TAB_MOVE)) {\n\n            //See comments in `_bindEvents()`.\n            //Undesirable behavior in Firefox though: When clicking (mousedown) the [Ok] button or the textbox,\n            //a `focusout` is raised on `picker_wrapper`, followed by a `focusin` on the parent (if it is focusable).\n            //To keep that new event from closing the popup, we add 100ms to our time control:\n            const knownTime = (this.__containedEvent || 0) + 100;\n            if(e.timeStamp > knownTime) {\n                doHide = true;\n            }\n        }\n        //Close by mouse/touch or key events:\n        else {\n            //Don't bubble [Ok] clicks or [Enter] keys up to the parent, because that's the trigger to re-open the popup.\n            stopEvent(e);\n\n            doHide = true;\n        }\n\n        if(doHide && this.hide()) {\n            this.settings.parent.style.pointerEvents = '';\n\n            //Recommended popup behavior from http://whatsock.com/tsg/Coding%20Arena/Popups/Popup%20(Internal%20Content)/demo.htm\n            //However, we don't re-focus the parent if the user closes the popup by clicking somewhere else on the screen,\n            //because they may have scrolled to a different part of the page by then, and focusing would then inadvertently scroll the parent back into view:\n            if(event !== EVENT_CLICK_OUTSIDE) {\n                this.settings.parent.focus();\n            }\n\n            if(this.onClose) { this.onClose(this.colour); }\n        }\n    }\n\n\n    /**\n     * Move the popup to a different parent, optionally opening it at the same time.\n     *\n     * @param {Object}  options - @see {@linkcode Picker#setOptions|setOptions()} (Usually a new `.parent` and `.color`).\n     * @param {boolean} open    - Whether to open the popup immediately.\n     */\n    movePopup(options, open) {\n        //Cleanup if the popup is currently open (at least revert the current parent's .pointerEvents);\n        this.closeHandler();\n        \n        this.setOptions(options);\n        if(open) {\n            this.openHandler();\n        }\n    }\n\n\n    /**\n     * Set/initialize the picker's color.\n     * \n     * @param {string}  color  - Color name, RGBA/HSLA/HEX string, or RGBA array.\n     * @param {boolean} silent - If true, won't trigger onChange.\n     */\n    setColor(color, silent) {\n        this._setColor(color, { silent: silent });\n    }\n    _setColor(color, flags) {\n        if(typeof color === 'string') { color = color.trim(); }\n        if (!color) { return; }\n\n        flags = flags || {};\n        let c;\n        try {\n            //Will throw on unknown colors:\n            c = new Color(color);\n        }\n        catch (ex) {\n            if(flags.failSilently) { return; }\n            throw ex;\n        }\n\n        if(!this.settings.alpha) {\n            const hsla = c.hsla;\n            hsla[3] = 1;\n            c.hsla = hsla;\n        }\n        this.colour = this.color = c;\n        this._setHSLA(null, null, null, null, flags);\n    }\n    /**\n     * @see {@linkcode Picker#setColor|setColor()}\n     */\n    setColour(colour, silent) {\n        this.setColor(colour, silent);\n    }\n\n\n    /**\n     * Show/open the picker.\n     */\n    show() {\n        const parent = this.settings.parent;\n        if(!parent) { return false; }\n        \n        //Unhide html if it exists\n        if(this.domElement) {\n            const toggled = this._toggleDOM(true);\n\n            //Things could have changed through setOptions():\n            this._setPosition();\n\n            return toggled;\n        }\n\n        const html = this.settings.template || `<div class=\"picker_wrapper\" tabindex=\"-1\"><div class=\"picker_arrow\"></div><div class=\"picker_hue picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_sl\"><div class=\"picker_selector\"></div></div><div class=\"picker_alpha picker_slider\"><div class=\"picker_selector\"></div></div><div class=\"picker_editor\"><input aria-label=\"Type a color name or hex value\"/></div><div class=\"picker_sample\"></div><div class=\"picker_done\"><button>Ok</button></div></div>`;\n        const wrapper = parseHTML(html);\n        \n        this.domElement = wrapper;\n        this._domH      = $('.picker_hue', wrapper);\n        this._domSL     = $('.picker_sl', wrapper);\n        this._domA      = $('.picker_alpha', wrapper);\n        this._domEdit   = $('.picker_editor input', wrapper);\n        this._domSample = $('.picker_sample', wrapper);\n        this._domOkay   = $('.picker_done button', wrapper);\n\n        wrapper.classList.add('layout_' + this.settings.layout);\n        if(!this.settings.alpha) { wrapper.classList.add('no_alpha'); }\n        if(!this.settings.editor) { wrapper.classList.add('no_editor'); }\n        this._ifPopup(() => wrapper.classList.add('popup'));\n        \n        this._setPosition();\n\n\n        if(this.colour) {\n            this._updateUI();\n        }\n        else {\n            this._setColor('#0cf');\n        }\n        this._bindEvents();\n        \n        return true;\n    }\n\n\n    /**\n     * Hide the picker.\n     */\n    hide() {\n        return this._toggleDOM(false);\n    }\n\n\n    /*\n     * Handle user input.\n     * \n     * @private\n     */\n    _bindEvents() {\n        const that = this,\n              dom = this.domElement;\n        \n        //Prevent clicks while dragging from bubbling up to the parent:\n        addEvent(dom, 'click', e => e.preventDefault());\n\n\n        /* Draggable color selection */\n\n        function createDragConfig(container, callbackRelative) {\n\n            //Convert the px coordinates to relative coordinates (0-1) before invoking the callback:\n            function relayDrag(_, pos) {\n                const relX = pos[0]/container.clientWidth,\n                      relY = pos[1]/container.clientHeight;\n                callbackRelative(relX, relY);\n            }\n\n            const config = {\n                container:     container,\n                dragOutside:   false,\n                callback:      relayDrag,\n                //Respond at once (mousedown), don't wait for click or drag:\n                callbackDragStart: relayDrag,\n                //When interacting with a picker, this allows other open picker popups to close:\n                propagateEvents: true,\n            };\n            return config;\n        }\n\n        //Select hue\n        dragTracker(createDragConfig(this._domH,  (x, y) => that._setHSLA(x)));\n\n        //Select saturation/lightness\n        dragTracker(createDragConfig(this._domSL, (x, y) => that._setHSLA(null, x, 1 - y)));\n\n        //Select alpha\n        if(this.settings.alpha) {\n            dragTracker(createDragConfig(this._domA,  (x, y) => that._setHSLA(null, null, null, 1 - y)));\n        }\n        \n        \n        /* Direct color value editing */\n\n        //Always init the editor, for accessibility and screen readers (we'll hide it with CSS if `!settings.editor`)\n        const editInput = this._domEdit;\n        /*if(this.settings.editor)*/ {\n            addEvent(editInput, 'input', function(e) {\n                that._setColor(this.value, { fromEditor: true, failSilently: true });\n            });\n            //Select all text on focus:\n            addEvent(editInput, 'focus', function(e) {\n                const input = this;\n                //If no current selection:\n                if(input.selectionStart === input.selectionEnd) {\n                    input.select();\n                }\n            });\n        }\n\n\n        /* Close the dialog */\n\n        //onClose:\n        this._ifPopup(() => {\n            //Keep closeHandler() pluggable, but call it in the right context:\n            const popupCloseProxy = (e) => this.closeHandler(e);\n\n            addEvent(window, EVENT_CLICK_OUTSIDE, popupCloseProxy);\n            addEvent(window, EVENT_TAB_MOVE,      popupCloseProxy);\n            onKey(   dom,    ['Esc', 'Escape'],   popupCloseProxy);\n\n            //Above, we added events on `window` to close the popup if the user clicks outside or tabs away from the picker.\n            //Now, we must make sure that clicks and tabs within the picker don't cause the popup to close.\n            //Things we have tried:\n            //  * Check `e.target` in `closeHandler()` and see if it's a child element of the picker.\n            //      - That won't work if used in a shadow DOM, where the original `target` isn't available once the event reaches `window` (issue #15).\n            //  * Stop the events from propagating past the popup element (using `e.stopPropagation()`).\n            //      - ..but stopping mouse events interferes with text selection in the editor.\n            //\n            //So, next attempt: Note the `timeStamp` of the contained event, and check it in `closeHandler()`.\n            //That should be a unique identifier of the event, and the time seems to be preserved when retargeting shadow DOM events:\n            const timeKeeper = (e) => {\n                this.__containedEvent = e.timeStamp;\n            }\n            addEvent(dom, EVENT_CLICK_OUTSIDE, timeKeeper);\n            //Note: Now that we have added the 'focusin' event, this trick requires the picker wrapper to be focusable (via `tabindex` - see /src/picker.pug),\n            //or else the popup loses focus if you click anywhere on the picker's background.\n            addEvent(dom, EVENT_TAB_MOVE,      timeKeeper);\n        });\n\n        //onDone:\n        const onDoneProxy = (e) => {\n            this._ifPopup(() => this.closeHandler(e));\n            if(this.onDone) { this.onDone(this.colour); }\n        };\n        addEvent(this._domOkay, 'click',   onDoneProxy);\n        onKey(   dom,           ['Enter'], onDoneProxy);\n    }\n\n\n    /*\n     * Position the picker on screen.\n     * \n     * @private\n     */\n    _setPosition() {\n        const parent = this.settings.parent,\n              elm = this.domElement;\n\n        if(parent !== elm.parentNode) { parent.appendChild(elm); }\n\n        this._ifPopup((popup) => {\n\n            //Allow for absolute positioning of the picker popup:\n            if(getComputedStyle(parent).position === 'static') {\n                parent.style.position = 'relative';\n            }\n\n            const cssClass = (popup === true) ? 'popup_right' : 'popup_' + popup;\n\n            ['popup_top', 'popup_bottom', 'popup_left', 'popup_right'].forEach(c => {\n                //Because IE doesn't support .classList.toggle()'s second argument...\n                if(c === cssClass) {\n                    elm.classList.add(c);\n                }\n                else {\n                    elm.classList.remove(c);\n                }\n            });\n\n            //Allow for custom placement via CSS:\n            elm.classList.add(cssClass);\n        });\n    }\n\n\n    /*\n     * \"Hub\" for all color changes\n     * \n     * @private\n     */\n    _setHSLA(h, s, l, a,  flags) {\n        flags = flags || {};\n\n        const col = this.colour,\n              hsla = col.hsla;\n\n        [h, s, l, a].forEach((x, i) => {\n            if(x || (x === 0)) { hsla[i] = x; }\n        });\n        col.hsla = hsla;\n\n        this._updateUI(flags);\n\n        if(this.onChange && !flags.silent) { this.onChange(col); }\n    }\n\n    _updateUI(flags) {\n        if(!this.domElement) { return; }\n        flags = flags || {};\n\n        const col = this.colour,\n              hsl = col.hsla,\n              cssHue  = `hsl(${hsl[0] * HUES}, 100%, 50%)`,\n              cssHSL  = col.hslString,\n              cssHSLA = col.hslaString;\n\n        const uiH  = this._domH,\n              uiSL = this._domSL,\n              uiA  = this._domA,\n              thumbH  = $('.picker_selector', uiH),\n              thumbSL = $('.picker_selector', uiSL),\n              thumbA  = $('.picker_selector', uiA);\n        \n        function posX(parent, child, relX) {\n            child.style.left = (relX * 100) + '%'; //(parent.clientWidth * relX) + 'px';\n        }\n        function posY(parent, child, relY) {\n            child.style.top  = (relY * 100) + '%'; //(parent.clientHeight * relY) + 'px';\n        }\n\n\n        /* Hue */\n        \n        posX(uiH, thumbH, hsl[0]);\n        \n        //Use the fully saturated hue on the SL panel and Hue thumb:\n        this._domSL.style.backgroundColor = this._domH.style.color = cssHue;\n\n\n        /* S/L */\n        \n        posX(uiSL, thumbSL, hsl[1]);\n        posY(uiSL, thumbSL, 1 - hsl[2]);\n        \n        //Use the opaque HSL on the SL thumb:\n        uiSL.style.color = cssHSL;\n\n\n        /* Alpha */\n        \n        posY(uiA,  thumbA,  1 - hsl[3]);\n\n        const opaque = cssHSL,\n              transp = opaque.replace('hsl', 'hsla').replace(')', ', 0)'),\n              bg = `linear-gradient(${[opaque, transp]})`;\n\n        //Let the Alpha slider fade from opaque to transparent:\n        this._domA.style.backgroundImage = bg + ', ' + BG_TRANSP;\n\n\n        /* Editable value */\n        \n        //Don't update the editor if the user is typing.\n        //That creates too much noise because of our auto-expansion of 3/4/6 -> 8 digit hex codes.\n        if(!flags.fromEditor) {\n            const format = this.settings.editorFormat,\n                  alpha = this.settings.alpha;\n\n            let value;\n            switch (format) {\n                case 'rgb': value = col.printRGB(alpha); break;\n                case 'hsl': value = col.printHSL(alpha); break;\n                default:    value = col.printHex(alpha);\n            }\n            this._domEdit.value = value;\n        }\n\n\n        /* Sample swatch */\n        \n        this._domSample.style.color = cssHSLA;\n    }\n    \n    \n    _ifPopup(actionIf, actionElse) {\n        if(this.settings.parent && this.settings.popup) {\n            actionIf && actionIf(this.settings.popup);\n        }\n        else {\n            actionElse && actionElse();\n        }\n    }\n\n\n    _toggleDOM(toVisible) {\n        const dom = this.domElement;\n        if(!dom) { return false; }\n\n        const displayStyle = toVisible ? '' : 'none',\n              toggle = (dom.style.display !== displayStyle);\n        \n        if(toggle) { dom.style.display = displayStyle; }\n        return toggle;\n    }\n\n\n/*\n    //Feature: settings to flip hue & alpha 90deg (i.e. vertical or horizontal mode)\n    \n    \n        function createDragConfig(container, callbackRelative) {\nconst flipped = true;\n\n            function capRel(val) {\n                return (val < 0) ? 0\n                                 : (val > 1) ? 1 : val;\n            }\n\n            //Convert the px coordinates to relative coordinates (0-1) before invoking the callback:\n            function relayDrag(_, pos) {\n                const w = container.clientWidth,\n                      h = container.clientHeight;\n                      \n                const relX = pos[0]/(flipped ? h : w),\n                      relY = pos[1]/(flipped ? w : h);\n                      \n                callbackRelative(capRel(relX), capRel(relY));\n            }\n\n            const config = {\n                container:     container,\n                //dragOutside:   false,\n                callback:      relayDrag,\n                //Respond at once (mousedown), don't wait for click or drag:\n                callbackDragStart: relayDrag,\n            };\n            return config;\n        }\n*/\n\n    /**\n     * The inlined `<style>` element for picker CSS.\n     */\n    static get StyleElement() {\n        return _style;\n    }\n}\n\n\nexport default Picker;\n","const Picker = require('vanilla-picker').default || require('vanilla-picker');\n\nmodule.exports = () => () => {\n\n    return Picker.StyleElement.cloneNode(true);\n\n};\n","const fs = require('fs');\nconst css = fs.readFileSync('./build/css/index.css', 'utf-8');\n\nmodule.exports = () => () => {\n\n    const $style = document.createElement('style');\n    $style.textContent = css;\n    return $style;\n\n};\n","module.exports = ({ stores }) => roleId => {\n\n    const $style = document.createElement('style');\n    $style.className = `role${roleId}`;\n\n    stores.roles.id(roleId).onChange('colour', ({ colour }) => {\n        $style.textContent = `\n            .role${roleId} .tag-image { \n                border-color: ${colour}; \n            }\n            \n            .role${roleId} .role-badge { \n                background-color: ${colour}; \n            }`;\n    });\n\n    return $style;\n\n};\n","module.exports = ({ stores }) => tagId => {\n\n    const { image } = stores.tags.getState(tagId);\n\n    const $style = document.createElement('style');\n    $style.className = `tag${tagId}`;\n\n    $style.textContent = `\n        .tag${tagId} .tag-image, .tag${tagId} .tag-xray-image { \n            background-image: url(${image}); \n        }`;\n\n    return $style;\n\n};\n","module.exports = ({ stores }) => () => {\n\n    const $style = document.createElement('style');\n\n    stores.options.onChange('outline', ({ outline }) => {\n\n        const border = outline ? 'dashed 1px silver' : 'dashed 1px transparent';\n\n        $style.textContent = `\n            .tag {\n                border: ${border};\n            }`;\n    });\n\n    return $style;\n\n};\n","const BORDER_RADIUS = { square: 0, circle: 50 };\n\nmodule.exports = ({ stores }) => () => {\n\n    const $style = document.createElement('style');\n\n    stores.options.onChange('shape', ({ shape }) => {\n        $style.textContent = `\n            .tag-image {\n                border-radius: ${BORDER_RADIUS[shape]}%;\n            }`;\n    });\n\n    return $style;\n\n};\n","module.exports = ({ stores }) => () => {\n\n    const $style = document.createElement('style');\n\n    stores.options.onChange('size', ({ size }) => {\n\n        $style.textContent = `\n            .tags {\n                grid-template-columns: repeat(auto-fill, ${size}px);\n            }\n\n            .tag-image-container {\n                width: ${size - 34}px;\n                height: ${size - 34}px;\n            }`;\n\n    });\n\n    return $style;\n\n};\n","module.exports = ({ stores }) => () => {\n\n    const $style = document.createElement('style');\n\n    stores.options.onChange('spacing', ({ spacing }) => {\n\n        $style.textContent = `\n            .tags {\n                grid-gap: ${spacing}px;\n            }`;\n\n    });\n\n    return $style;\n\n};\n","const colourPicker = require('./colour-picker');\nconst main = require('./main');\nconst role = require('./role');\nconst tagImage = require('./tag-image');\nconst tagOutline = require('./tag-outline');\nconst tagShape = require('./tag-shape');\nconst tagSize = require('./tag-size');\nconst tagSpacing = require('./tag-spacing');\n\n\nconst styles = {\n    colourPicker,\n    main,\n    role,\n    tagImage,\n    tagOutline,\n    tagShape,\n    tagSize,\n    tagSpacing\n};\n\nmodule.exports = styles;","module.exports = () => onFileDropped => {\n\n\n    const $dropzone = document.createElement('div');\n    $dropzone.addEventListener('dragenter', silence, false);\n    $dropzone.addEventListener('dragover', silence, false);\n    $dropzone.addEventListener('drop', drop(onFileDropped), false);\n    return $dropzone;\n\n};\n\nconst silence = e => {\n\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n\n};\n\nconst drop = callback => e => {\n\n    Array.from(e.dataTransfer.files).forEach(callback);\n    return silence(e);\n\n};\n","const ENTER_KEY_CODE = 13;\n\nmodule.exports = () => onChange => {\n\n    const $span = document.createElement('span');\n    $span.setAttribute('contenteditable', true);\n    $span.addEventListener('blur', onChange);\n    $span.addEventListener('keypress', keypress(onChange))\n    return $span;\n\n};\n\nconst keypress = callback => e => {\n\n    if (e.keyCode === ENTER_KEY_CODE) {\n        callback(e);\n        e.preventDefault();\n    }\n\n};\n\n\n\n/*\n\n- Content editable span preferred over text field for the ability to expand/contract while editing.\n\n*/\n","module.exports = () => (text, labelledControl) => {\n\n    const $text = document.createElement('span');\n    $text.className = 'label';\n    $text.innerHTML = text;\n\n    const $label = document.createElement('label');\n    $label.append($text, labelledControl);\n\n    return $label;\n\n};\n\n\n\n/*\n\n- Nesting the labelled control within the label avoids the need for `id` and `for`.\n\n*/\n","module.exports = () => ({ content, title, onDismiss }) => {\n\n    const $modal = document.createElement('div');\n    $modal.className = `${content.className}-modal modal hide`;\n\n    const $dismiss = document.createElement('span');\n    $dismiss.className = 'dismiss';\n    $dismiss.addEventListener('click', onDismiss);\n\n    const $title = document.createElement('div');\n    $title.className = 'modal-title';\n    $title.append(title);\n    $title.append($dismiss);\n\n    const $content = document.createElement('div');\n    $content.className = 'modal-content';\n    $content.append(content);\n\n    const $window = document.createElement('div');\n    $window.className = 'modal-window';\n    $window.append($title, $content);\n\n    $modal.append($window);\n\n    /*\n    Dismiss when the modal background is clicked.\n    Stop propagration of the modal window to prevent dismissal when clicked.\n    */\n    $modal.addEventListener('click', onDismiss);\n    $window.addEventListener('click', e => e.stopPropagation());\n\n    return $modal;\n\n};\n","module.exports = ({ lib }) => contentElement => {\n\n    const $notice = document.createElement('div');\n    $notice.className = 'notice hide';\n\n    const noticeVisibility = lib.visibilityToggle($notice);\n\n    const $dismiss = document.createElement('span');\n    $dismiss.className = 'dismiss';\n    $dismiss.addEventListener('click', noticeVisibility.hide);\n\n    const $content = document.createElement('div');\n    $content.className = 'notice-content';\n    $content.append(contentElement);\n\n    const $window = document.createElement('div');\n    $window.className = 'notice-window';\n    $window.append($dismiss, $content);\n\n    $notice.append($window);\n\n    return $notice;\n\n};\n","const dropzone = require('./dropzone');\nconst editableSpan = require('./editable-span');\nconst label = require('./label');\nconst modal = require('./modal');\nconst notice = require('./notice');\n\n\nconst components = {\n    dropzone,\n    editableSpan,\n    label,\n    modal,\n    notice\n};\n\nmodule.exports = components;","module.exports = ({ views }) => () => {\n\n    const $container = document.createElement('div');\n\n    $container.append(\n        views.containers.styles(),\n        views.containers.modals(),\n        views.containers.layout(views.avatars.avatarsPage())\n    );\n\n    return $container;\n\n};\n","module.exports = ({ services, components, views }) => () => {\n\n    const $container = components.dropzone(services.tags.insertImage());\n    $container.className = 'avatars dropzone';\n\n    const $controlPanel = document.createElement('div');\n    $controlPanel.className = 'control-panel';\n\n    $controlPanel.append(\n        views.roles.roleList(),\n        views.avatars.imageUploadOptions(),\n        views.notices.briefUsageTip(),\n        views.options.optionsBar(),\n        views.notices.multipleAvatars()\n    );\n\n    $container.append(\n        $controlPanel,\n        views.tags.tagList()\n    );\n\n    return $container;\n\n};\n","module.exports = ({ lib, stores, services }) => () => {\n\n    const $imageUploadOptions = document.createElement('div');\n    $imageUploadOptions.className = 'image-upload-options';\n\n    const $dragAndDropImages = document.createElement('span');\n    $dragAndDropImages.textContent = 'Drag & drop images';\n\n    const $chooseImages = document.createElement('a');\n    $chooseImages.className = 'choose-images';\n    $chooseImages.textContent = 'Choose images';\n\n    $chooseImages.addEventListener('click', e => {\n        e.preventDefault();\n        $fileInput.click();\n    });\n\n    const $fileInput = document.createElement('input');\n    $fileInput.type = 'file';\n    $fileInput.multiple = true;\n    $fileInput.accept = 'image/*';\n    $fileInput.style.display = 'none';\n\n    $fileInput.addEventListener('change', () => {\n        Array.from(lib.getFiles($fileInput)).forEach(services.tags.insertImage());\n    });\n\n    const $importImagesFromGravatar = document.createElement('a');\n    $importImagesFromGravatar.className = 'import-images-from-gravatar';\n    $importImagesFromGravatar.textContent = 'Import images from Gravatar';\n\n    $importImagesFromGravatar.addEventListener('click', () => {\n        stores.app.setState({ modal: 'gravatar' });\n    });\n\n    $imageUploadOptions.append(\n        $dragAndDropImages,\n        '●',\n        $chooseImages,\n        $fileInput,\n        '●',\n        $importImagesFromGravatar\n    );\n\n    return $imageUploadOptions;\n\n};\n","const avatarsPage = require('./avatars-page');\nconst imageUploadOptions = require('./image-upload-options');\n\n\nconst avatars = {\n    avatarsPage,\n    imageUploadOptions\n};\n\nmodule.exports = avatars;","module.exports = ({ views }) => content => {\n\n    const $container = document.createElement('div');\n\n    const $header = document.createElement('header');\n\n    $header.append(\n        views.header.titleBar(),\n        views.header.navBar(),\n    );\n\n    $container.append(\n        $header,\n        content\n    );\n\n    return $container;\n\n};\n","module.exports = ({ lib, stores, views }) => () => {\n\n    const $modals = document.createElement('div');\n    $modals.className = 'modals';\n\n    const onDismiss = () => {\n        stores.app.setState({ modal: null });\n    };\n\n    const { modals, toggles } = Object.entries(views.modals).reduce((acc, [key, modal]) => {\n        const $modal = modal(onDismiss);\n        acc.modals.push($modal);\n\n        const { toggle } = lib.visibilityToggle($modal);\n        acc.toggles.push({ key, toggle });\n\n        return acc;\n    }, { modals: [], toggles: [] });\n\n\n    stores.app.onChange('modal', ({ modal }) => {\n        toggles.forEach(({ key, toggle }) => toggle(modal === key));\n    });\n\n    $modals.append(...modals);\n\n    return $modals;\n\n};","module.exports = ({ stores, styles }) => () => {\n\n    const $styles = document.createElement('div');\n    $styles.className = 'styles';\n\n    const appendRoleStyle = roleId => $styles.append(styles.role(roleId));\n\n    const appendTagImageStyle = tagId => $styles.append(styles.tagImage(tagId));\n\n    stores.roles.ids().forEach(appendRoleStyle);\n    stores.roles.onInsert(appendRoleStyle);\n\n    stores.tags.ids().forEach(appendTagImageStyle);\n    stores.tags.onInsert(appendTagImageStyle);\n\n    $styles.append(\n        styles.colourPicker(),\n        styles.main(),\n        styles.tagShape(),\n        styles.tagSize(),\n        styles.tagSpacing(),\n        styles.tagOutline()\n    );\n\n    return $styles;\n\n};\n","const layout = require('./layout');\nconst modals = require('./modals');\nconst styles = require('./styles');\n\n\nconst containers = {\n    layout,\n    modals,\n    styles\n};\n\nmodule.exports = containers;","module.exports = ({ lib, stores, services }) => ({ onSubmit }) => {\n\n    const $actions = document.createElement('div');\n    $actions.className = 'actions';\n\n    const $importButton = document.createElement('button');\n    $importButton.className = 'import show';\n    $importButton.textContent = 'Import';\n\n    $importButton.addEventListener('click', async () => {\n        const ok = await services.tags.insertGravatar();\n        if (ok) onSubmit();\n    });\n\n    const $loadingSpinner = document.createElement('div');\n    $loadingSpinner.className = 'lds-dual-ring hide';\n\n    const $errorMessage = document.createElement('div');\n    $errorMessage.className = 'error-message hide';\n\n    const $dismissErrorMessage = document.createElement('a');\n    $dismissErrorMessage.textContent = 'Dismiss';\n\n    $dismissErrorMessage.addEventListener('click', services.state.gravatar.ready);\n\n    $actions.append($importButton, $loadingSpinner, $errorMessage);\n\n    const visibilityToggles = {\n        importButton: lib.visibilityToggle($importButton),\n        loadingSpinner: lib.visibilityToggle($loadingSpinner),\n        errorMessage: lib.visibilityToggle($errorMessage)\n    };\n\n\n    stores.gravatar.onChange('status', () => {\n        visibilityToggles.importButton.toggle(services.state.gravatar.isReady());\n        visibilityToggles.loadingSpinner.toggle(services.state.gravatar.isWorking());\n        visibilityToggles.errorMessage.toggle(services.state.gravatar.isError());\n    });\n\n    stores.gravatar.onChange('errorMessage', () => {\n        const { errorMessage } = stores.gravatar.getState();\n        $errorMessage.textContent = errorMessage;\n        $errorMessage.append(document.createElement('br'));\n        $errorMessage.append($dismissErrorMessage)\n    })\n\n    return $actions;\n\n};\n","module.exports = ({ stores }) => fallback => {\n\n    const $fallback = document.createElement('img');\n    $fallback.className = 'fallback';\n    $fallback.title = fallback;\n    $fallback.src = `img/gravatar-fallbacks/${fallback}.png`;\n\n    $fallback.addEventListener('click', () => {\n        stores.gravatar.setState({ fallback });\n    });\n\n    stores.gravatar.onChange('fallback', ({ fallback: selectedFallback }) => {\n        $fallback.classList.toggle('selected', fallback === selectedFallback);\n    });\n\n    return $fallback;\n\n};","module.exports = ({ constants, components, views }) => () => {\n\n    const $fallbacks = document.createElement('div');\n\n    const fallbackOptions = constants.gravatar.fallbacks.map(views.gravatar.fallback);\n    $fallbacks.append(...fallbackOptions);\n\n    const labelText = 'Select a generated image style to use in case profile image is not found.';\n    return components.label(labelText, $fallbacks);\n\n};\n","module.exports = ({ stores, components }) => () => {\n\n    const $freetext = document.createElement('textarea');\n    $freetext.className = 'freetext';\n\n    $freetext.addEventListener('blur', e => {\n        const freetext = e.target.value;\n        stores.gravatar.setState({ freetext });\n    });\n\n    stores.gravatar.onChange('freetext', ({ freetext }) => {\n        $freetext.value = freetext;\n    });\n\n    stores.gravatar.onChange('status', ({ status }) => {\n        $freetext.disabled = status === 'working';\n    });\n\n    const labelText = `\n        Enter email addresses to import images from Gravatar.<br />\n        Alternatively, enter names to use one of the generated image styles below.`;\n\n    return components.label(labelText, $freetext);\n\n};\n","module.exports = ({ views }) => ({ onSubmit }) => {\n\n    const $gravatar = document.createElement('div');\n    $gravatar.title = 'Gravatar';\n    $gravatar.className = 'gravatar';\n\n    $gravatar.append(\n        views.gravatar.freetext(),\n        views.gravatar.fallbacks(),\n        views.gravatar.actions({ onSubmit })\n    );\n\n    return $gravatar;\n\n};\n","const _actions = require('./_actions');\nconst _fallback = require('./_fallback');\nconst _fallbacks = require('./_fallbacks');\nconst _freetext = require('./_freetext');\nconst importImages = require('./import-images');\n\n\nconst gravatar = {\n    _actions,\n    _fallback,\n    _fallbacks,\n    _freetext,\n    importImages\n};\n\nmodule.exports = gravatar;","module.exports = ({ constants, stores }) => () => {\n\n    const $navBar = document.createElement('nav');\n    $navBar.className = 'nav-bar';\n\n    const $tips = document.createElement('a');\n    $tips.className = 'tips';\n    $tips.textContent = 'Tips & tricks';\n\n    const $issues = document.createElement('a');\n    $issues.textContent = 'Issues, feature requests, feedback';\n    $issues.target = '_blank';\n    $issues.href = constants.app.issues;\n\n    $navBar.append($tips, $issues);\n\n    $tips.addEventListener('click', () => {\n        stores.app.setState({ modal: 'tipsAndTricks' });\n    });\n\n    return $navBar;\n\n};\n","module.exports = ({ constants }) => () => {\n\n    const $titleBar = document.createElement('h1');\n    $titleBar.textContent = constants.app.name;\n\n    const $author = document.createElement('a');\n    $author.className = 'author';\n    $author.href = constants.author.profile\n    $author.textContent = `by ${constants.author.name}`;\n    $author.target = '_blank';\n    \n    $titleBar.append($author);\n\n    return $titleBar;\n\n};\n","const navBar = require('./nav-bar');\nconst titleBar = require('./title-bar');\n\n\nconst header = {\n    navBar,\n    titleBar\n};\n\nmodule.exports = header;","module.exports = ({ components, views }) => onDismiss => {\n\n    const $title = document.createElement('span');\n    $title.textContent = 'Import images from Gravatar';\n\n    const $whatIsGravatar = document.createElement('a');\n    $whatIsGravatar.text = 'What is Gravatar?';\n    $whatIsGravatar.href = 'https://en.gravatar.com/support/what-is-gravatar/'\n    $whatIsGravatar.target = '_blank';\n    $title.append($whatIsGravatar)\n\n    return components.modal({\n        content: views.gravatar.importImages({ onSubmit: onDismiss }),\n        title: $title,\n        onDismiss\n    });\n\n};\n","module.exports = ({ components, views }) => onDismiss => {\n\n    return components.modal({\n        content: views.tips.multipleAvatars(),\n        title: 'Multiple Avatars',\n        onDismiss\n    });\n\n};\n","module.exports = ({ components, views }) => onDismiss => {\n\n    const { laminating, multipleAvatars, badges } = views.tips;\n    const sequence = [laminating, multipleAvatars, badges];\n\n    const $tips = document.createElement('div');\n    $tips.className = 'tips';\n\n    sequence.forEach(render => {\n        const $tip = render();\n        $tip.className = 'tip';\n        const $heading = document.createElement('div');\n        $heading.className = 'heading';\n        $heading.textContent = $tip.title;\n        $tip.prepend($heading);\n        $tips.append($tip);\n    });\n\n    return components.modal({\n        content: $tips,\n        title: 'Tips & tricks',\n        onDismiss\n    });\n\n};\n","const gravatar = require('./gravatar');\nconst multipleAvatars = require('./multiple-avatars');\nconst tipsAndTricks = require('./tips-and-tricks');\n\n\nconst modals = {\n    gravatar,\n    multipleAvatars,\n    tipsAndTricks\n};\n\nmodule.exports = modals;","module.exports = ({ lib, components }) => () => {\n\n    const $tip = document.createElement('div');\n    $tip.innerHTML = `\n        Save time by renaming files to include name, and optionally, role (separated by +) e.g. matt+dev.jpg<br>\n        Once images are provided, <em>names and roles can be edited directly on each avatar</em>.<br>\n        When done: print, laminate, and decorate your agile board!\n    `;\n\n    const $notice = components.notice($tip);\n    const noticeVisibility = lib.visibilityToggle($notice);\n    noticeVisibility.show();\n    return $notice;\n\n};\n","module.exports = ({ lib, stores, components }) => () => {\n\n    const $noticeContent = document.createElement('div');\n    $noticeContent.innerHTML = 'Do you <em>really</em> need more than one active avatar? <a>Learn more</a>';\n\n    const $notice = components.notice($noticeContent);\n    const $learnMore = $noticeContent.querySelector('a');\n\n    $learnMore.addEventListener('click', () => {\n        stores.app.setState({ modal: 'multipleAvatars' });\n    });\n\n    const noticeVisibility = lib.visibilityToggle($notice);\n\n    stores.options.onChange('active', ({ active }) => {\n        active <= 1 ? noticeVisibility.hide() : noticeVisibility.show();\n    });\n\n    return $notice;\n\n};\n","const briefUsageTip = require('./brief-usage-tip');\nconst multipleAvatars = require('./multiple-avatars');\n\n\nconst notices = {\n    briefUsageTip,\n    multipleAvatars\n};\n\nmodule.exports = notices;","module.exports = ({ stores, components }) => () => {\n\n    const $keepSorted = document.createElement('select');\n\n    const $orderAdded = document.createElement('option');\n    $orderAdded.value = 'orderAdded';\n    $orderAdded.textContent = 'Order added';\n\n    const $roleThenName = document.createElement('option');\n    $roleThenName.value = 'roleThenName';\n    $roleThenName.textContent = 'Role, then name';\n\n    const $name = document.createElement('option');\n    $name.value = 'name';\n    $name.textContent = 'Name';\n\n    $keepSorted.append($orderAdded, $roleThenName, $name);\n\n    $keepSorted.addEventListener('change', e => {\n        stores.options.setState({ keepSortedBy: $keepSorted.value });\n    });\n\n    return components.label('Keep sorted by', $keepSorted);\n\n};\n","module.exports = ({ lib, constants, stores, components }) => optionName => {\n\n    const { min, max, step } = constants.options[optionName];\n\n    const $number = document.createElement('input');\n    $number.type = 'number';\n    $number.className = optionName;\n    $number.min = min;\n    $number.max = max;\n    $number.step = step;\n\n    const onChange = () => {\n        const val = parseInt($number.value) || 0;\n        const newVal = val < min ? min : (val > max ? max : val);\n        $number.value = newVal;\n        stores.options.setState({ [optionName]: newVal });\n    };\n\n    $number.addEventListener('input', () => {\n        if (!$number.value) return;\n        onChange();\n    });\n\n    $number.addEventListener('blur', () => {\n        onChange();\n    });\n\n    // stores.options.onChange(optionName, () => $number.value = stores.options.getState()[optionName]);\n\n    stores.options.onChange(optionName, state => $number.value = state[optionName]); // issue on first run\n\n    const labelText = lib.upperFirst(optionName);\n    return components.label(labelText, $number);\n\n};\n","module.exports = ({ constants, views }) => () => {\n\n    const { modes, shapes } = constants.options;\n    const { number, shape, keepSorted, showOutline, xray } = views.options;\n\n    const layout = [\n        modes.map(number),\n        shapes.map(shape),\n        ['size', 'spacing'].map(number),\n        keepSorted(),\n        showOutline()\n        //xray()\n    ];\n\n    const groups = layout.map(option => {\n        const options = [].concat(option);\n        const $group = document.createElement('span');\n        $group.append(...options);\n        return $group;\n    });\n\n    const $optionsBar = document.createElement('div');\n    $optionsBar.className = 'options-bar';\n    $optionsBar.append(...groups);\n    return $optionsBar;\n\n};\n","module.exports = ({ stores }) => shape => {\n\n    const $shape = document.createElement('span');\n    $shape.classList.add('shape-option', shape);\n    $shape.title = `Change shape to ${shape}`;\n\n    const toggleSelected = ({ shape: selectedShape }) => {\n        $shape.classList.toggle('selected', shape === selectedShape);\n    };\n\n    $shape.addEventListener('click', () => {\n        stores.options.setState({ shape })\n    });\n\n    stores.options.onChange('shape', toggleSelected);\n\n    return $shape;\n\n};\n","module.exports = ({ stores, components }) => () => {\n\n    const $container = document.createElement('span');\n\n    const $showOutline = document.createElement('input');\n\n    $container.append($showOutline, 'Show outline');\n\n    $showOutline.type = 'checkbox';\n    $showOutline.checked = true;\n\n    $showOutline.addEventListener('change', () => {\n        stores.options.setState({ outline: $showOutline.checked });\n    });\n\n    return $container;\n\n};\n","module.exports = ({ stores }) => () => {\n\n    const $xray = document.createElement('span');\n    $xray.className = 'xray';\n    $xray.innerText = 'X-Ray';\n    $xray.title = '';\n\n    $xray.addEventListener('click', () => {\n        const { xray } = stores.options.getState();\n        stores.options.setState({ xray: !xray });\n    });\n\n    stores.options.onChange('xray', ({ xray }) => {\n        $xray.classList.toggle('selected', xray);\n    });\n\n    return $xray;\n\n};\n","const keepSorted = require('./keep-sorted');\nconst number = require('./number');\nconst optionsBar = require('./options-bar');\nconst shape = require('./shape');\nconst showOutline = require('./show-outline');\nconst xray = require('./xray');\n\n\nconst options = {\n    keepSorted,\n    number,\n    optionsBar,\n    shape,\n    showOutline,\n    xray\n};\n\nmodule.exports = options;","const Picker = require('vanilla-picker').default || require('vanilla-picker');\n\nmodule.exports = ({ stores }) => roleId => {\n\n    const $colourPicker = document.createElement('div');\n    $colourPicker.className = 'colour-picker';\n\n    const role = stores.roles.getState(roleId);\n\n    new Picker({\n        parent: $colourPicker,\n        color: role.colour,\n        onChange: e => stores.roles.setState(roleId, { colour: e.hex })\n    });\n\n    return $colourPicker;\n\n};\n","module.exports = ({ stores, components }) => roleId => {\n\n    const editableSpan = () => {\n        return components.editableSpan(e => {\n            const name = e.target.textContent.trim();\n            stores.roles.setState(roleId, { name });\n        });\n    };\n\n    const role = stores.roles.getState(roleId);\n    const $roleBadge = role.name ? editableSpan() : document.createElement('span');\n    $roleBadge.className = `role-badge role${roleId}`;\n    $roleBadge.textContent = role.name;\n\n    return $roleBadge;\n\n};\n","module.exports = ({ stores, views }) => roleId => {\n\n    const role = stores.roles.getState(roleId);\n\n    const $roleCustomiser = document.createElement('span');\n    $roleCustomiser.className = `role-customiser role${roleId}`;\n    $roleCustomiser.classList.toggle('nil-role', !role.name);\n\n    const $masterRoleBadge = views.roles.masterRoleBadge(roleId);\n    const $colourPicker = views.roles.colourPicker(roleId);\n\n    $roleCustomiser.append($masterRoleBadge, $colourPicker);\n\n    return $roleCustomiser;\n\n};\n","module.exports = ({ stores, services, views }) => () => {\n\n    const roles = {};\n\n    const $roles = document.createElement('div');\n\n    const sort = () => {\n        services.roles.sortRoles().forEach(role => {\n            const $role = roles[role.id];\n            if ($role) $roles.appendChild($roles.removeChild($role));\n        });\n    };\n\n    const insert = roleId => {\n        const $role = views.roles.roleCustomiser(roleId);\n        roles[roleId] = $role;\n        $roles.appendChild($role);\n    };\n\n    const insertThenSort = roleId => { insert(roleId); sort() };\n\n    stores.roles.ids().forEach(insertThenSort);\n    stores.roles.onInsert(insertThenSort);\n    stores.options.onChange('keepSortedBy', sort);\n    stores.tagInstances.onAnyChange({ roleName: sort });\n\n    return $roles;\n\n};\n","const colourPicker = require('./colour-picker');\nconst masterRoleBadge = require('./master-role-badge');\nconst roleCustomiser = require('./role-customiser');\nconst roleList = require('./role-list');\n\n\nconst roles = {\n    colourPicker,\n    masterRoleBadge,\n    roleCustomiser,\n    roleList\n};\n\nmodule.exports = roles;","module.exports = ({ lib, stores }) => () => {\n\n    const $container = document.createElement('div');\n    $container.className = 'tag-image-container';\n\n    const $xrayImage = document.createElement('div');\n    $xrayImage.className = 'tag-xray-image hide';\n\n    const xrayVisibilityToggle = lib.visibilityToggle($xrayImage);\n    stores.options.onChange('xray', ({ xray }) => {\n        xrayVisibilityToggle.toggle(xray);\n        $container.classList.toggle('xray', xray);\n    });\n\n    const $image = document.createElement('div');\n    $image.className = 'tag-image';\n\n    $container.append($xrayImage, $image);\n\n    return $container;\n\n};\n","module.exports = ({ stores, views }) => instanceId => {\n\n    let $layout;\n\n    stores.options.onChange('layout', ({ layout }) => {\n        const $newLayout = document.createElement('div');\n        $newLayout.className = 'layout';\n\n        const rows = layout.map(row => {\n            const $row = document.createElement('div');\n            $row.className = 'row';\n            const components = row.map(name => views.tags[name](instanceId));\n            components.forEach($component => $row.append($component))\n            return $row;\n        });\n\n        rows.forEach($row => $newLayout.append($row));\n        $layout = $newLayout\n        // $layout = $layout ? $layout.replaceWith($newLayout) : $newLayout; // not in use\n    });\n\n    return $layout;\n\n};\n","module.exports = ({ stores, components }) => instanceId => {\n\n    const $name = components.editableSpan(e => {\n        const name = e.target.textContent.trim();\n        const { tagId } = stores.tagInstances.getState(instanceId);\n        stores.tags.setState(tagId, { name });\n    });\n\n    $name.className = 'tag-name';\n\n    stores.tagInstances.id(instanceId).onChange('name', ({ name }) => {\n        $name.textContent = name;\n    });\n\n    return $name;\n\n};\n","module.exports = ({ stores, services, components }) => instanceId => {\n\n    const $role = components.editableSpan(e => {\n        const name = e.target.textContent.trim();\n        const roleId = services.roles.findOrInsertRoleWithName(name);\n        const { tagId } = stores.tagInstances.getState(instanceId);\n        stores.tags.setState(tagId, { roleId });\n    });\n\n    $role.className = 'role-badge';\n\n    stores.tagInstances.id(instanceId).onChange('roleName', ({ roleName }) => {\n        $role.textContent = roleName;\n    });\n\n    return $role;\n\n};\n","module.exports = ({ constants, lib, stores, services, views }) => () => {\n\n    const tagsInstances = {};\n\n    const $tags = document.createElement('div');\n    $tags.className = 'tags';\n\n    const insertTag = instanceId => {\n        const $tag = views.tags.tag(instanceId);\n        tagsInstances[instanceId] = $tag;\n        $tags.append($tag);\n    };\n\n    const removeTag = instanceId => {\n        tagsInstances[instanceId].remove();\n        delete tagsInstances[instanceId];\n    };\n\n    stores.tagInstances.onInsert(instanceId => {\n        insertTag(instanceId);\n        delayedSort();\n    });\n\n    stores.tagInstances.onBeforeRemove(removeTag);\n\n    const sort = () => {\n        services.tags.sortInstances().forEach(instance => {\n            $tags.appendChild($tags.removeChild(tagsInstances[instance.id]));\n        });\n    };\n\n    const delayedSort = lib.debounce(sort, constants.debounce.sortTagList);\n\n    stores.options.onChange('keepSortedBy', sort);\n\n    stores.tagInstances.onAnyChange(lib.sameValue(['name', 'roleName'], delayedSort));\n\n    return $tags;\n\n};\n","module.exports = ({ stores, views }) => instanceId => {\n\n    const $tagContainer = document.createElement('div');\n    $tagContainer.className = 'tag-container';\n\n    const $tag = document.createElement('div');\n    $tagContainer.append($tag);\n\n    $tag.append(views.tags.layout(instanceId));\n\n    stores.tagInstances.id(instanceId).onChange('roleId', ({ tagId, roleId, mode }) => {\n        $tag.className = `tag tag${tagId} role${roleId} ${mode}`;\n\n        const role = stores.roles.getState(roleId);\n        $tag.classList.toggle('nil-role', !role.name);\n    });\n\n    return $tagContainer;\n\n};\n\n\n\n// module.exports = ({ stores, views }) => instanceId => {\n\n//     const $tag = document.createElement('div');\n\n//     $tag.append(views.tags.layout(instanceId));\n\n//     stores.tagInstances.id(instanceId).onChange('roleId', ({ tagId, roleId, mode }) => {\n//         $tag.className = `tag tag${tagId} role${roleId} ${mode}`;\n\n//         const role = stores.roles.getState(roleId);\n//         $tag.classList.toggle('nil-role', !role.name);\n//     });\n\n//     return $tag;\n\n// };\n","const _image = require('./_image');\nconst _layout = require('./_layout');\nconst _name = require('./_name');\nconst _role = require('./_role');\nconst tagList = require('./tag-list');\nconst tag = require('./tag');\n\n\nconst tags = {\n    _image,\n    _layout,\n    _name,\n    _role,\n    tagList,\n    tag\n};\n\nmodule.exports = tags;","module.exports = () => () => {\n\n    const $tip = document.createElement('div');\n    $tip.title = 'Blocked and other badges';\n\n    $tip.innerHTML = `\n        <p>Create blocked and other badges in the same way as avatars.</p>\n\n        <div class=\"tags\">\n            <div class=\"tag-container\">\n                <div class=\"tag\">\n                    <div class=\"layout\">\n                        <div class=\"row\">\n                            <div class=\"tag-image-container\">\n                                <img src=\"/img/cross.png\" class=\"tag-image\" style=\"position:relative;\" />\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"tag-name\">BLOCKED</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"tag-container\">\n                <div class=\"tag\">\n                    <div class=\"layout\">\n                        <div class=\"row\">\n                            <div class=\"tag-image-container\">\n                                <img src=\"/img/warning.png\" class=\"tag-image square\" style=\"position:relative;\" />\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"tag-name\">AT RISK</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>`;\n\n    return $tip;\n\n};\n","module.exports = () => () => {\n\n    const $tip = document.createElement('div');\n    $tip.title = 'Laminating'\n\n    $tip.innerHTML = `\n        <p>\n            For a more durable result, cut out the tags <em>before</em> laminating them.\n            When cutting the plastic, maintain adhesion by keeping a small lip around the edges.\n        </p>`;\n\n    return $tip;\n\n};\n","module.exports = () => () => {\n\n    const $tip = document.createElement('div');\n    $tip.className = 'multiple-avatars';\n    $tip.title = 'Multiple Avatars';\n\n    $tip.innerHTML = `\n        <p>\n            Only needing a single avatar per team member may be a sign that user stories are well defined,\n            and that team members can take stories to completion without context switching.\n            It also makes it easier to gauge who is focused on what and can serve as a natural WIP limit for the\n            team.\n            See <a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/INVEST_(mnemonic)\">INVEST</a> for\n            characteristics of good quality user stories.\n        </p>\n\n        <p>\n            If multiple avatars are really needed, consider one <em>active</em>, and one or more <em>passive</em>\n            avatars for each team member.\n            The active avatar indicates what a team member is focused on, while\n            the passive avatar may be used to indicate the team member is across an activity which has\n            become blocked, dependent on another team, or otherwise only requires ad hoc attention.\n        </p>\n\n        <div class=\"tags\">\n            <div class=\"tag-container\">\n                <div class=\"tag\">\n                    <div class=\"layout\">\n                        <div class=\"row\">\n                            <div class=\"tag-image-container\">\n                                <img src=\"/img/matt.jpg\" class=\"tag-image\" style=\"position:relative;border-color:#48a56a;\" />\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"tag-name\">Matt</span>\n                            <span class=\"role-badge\" style=\"background-color:#48a56a;\">DEV</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"tag-container\">\n                <div class=\"tag passive\">\n                    <div class=\"layout\">\n                        <div class=\"row\">\n                            <div class=\"tag-image-container\">\n                                <img src=\"/img/matt.jpg\" class=\"tag-image\" style=\"position:relative;\" />\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <span class=\"tag-name\">Matt</span>\n                            <span class=\"role-badge\">DEV</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>`;\n\n    return $tip;\n}\n","const badges = require('./badges');\nconst laminating = require('./laminating');\nconst multipleAvatars = require('./multiple-avatars');\n\n\nconst tips = {\n    badges,\n    laminating,\n    multipleAvatars\n};\n\nmodule.exports = tips;","const container = require('./container');\nconst avatars = require('./avatars');\nconst containers = require('./containers');\nconst gravatar = require('./gravatar');\nconst header = require('./header');\nconst modals = require('./modals');\nconst notices = require('./notices');\nconst options = require('./options');\nconst roles = require('./roles');\nconst tags = require('./tags');\nconst tips = require('./tips');\n\n\nconst views = {\n    container,\n    avatars,\n    containers,\n    gravatar,\n    header,\n    modals,\n    notices,\n    options,\n    roles,\n    tags,\n    tips\n};\n\nmodule.exports = views;","require('regenerator-runtime/runtime');\n\nconst wire = require('./wire');\nconst constants = require('./constants');\n\nconst modules = {\n    lib: require('./lib'),\n    gateways: require('./gateways'),\n    stores: require('./stores'),\n    services: require('./services'),\n    styles: require('./styles'),\n    components: require('./components'),\n    views: require('./views')\n};\n\nmodule.exports = (args = {}) => {\n    const {\n        fetch = window.fetch,\n        URL = window.URL,\n        random = Math.random\n    } = args;\n\n    const wiring = {\n        lib: 'random',\n        gateways: 'fetch constants',\n        stores: 'lib',\n        services: 'constants lib gateways stores URL',\n        styles: 'lib stores services',\n        components: 'lib',\n        views: 'constants lib stores services components styles'\n    };\n\n    const app = wire(modules, wiring, { constants, URL, random, fetch });\n\n    app.services.state.initialise();\n\n    return app;\n\n};\n","const _app = require('./js');\n\nclass AgileAvatars extends HTMLElement {\n\n    constructor () {\n        super();\n        const shadow = this.attachShadow({ mode: 'open' });\n        const app = _app();\n        const container = app.views.container();\n        shadow.append(container);\n\n        // For debug purposes.\n        if (!window.agileavatars) window.agileavatars = [];\n        window.agileavatars.push(app);\n    }\n\n}\n\ncustomElements.define('agile-avatars', AgileAvatars);\n"]}